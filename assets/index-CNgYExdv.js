function Zl(i,o){for(var l=0;l<o.length;l++){const f=o[l];if(typeof f!="string"&&!Array.isArray(f)){for(const d in f)if(d!=="default"&&!(d in i)){const h=Object.getOwnPropertyDescriptor(f,d);h&&Object.defineProperty(i,d,h.get?h:{enumerable:!0,get:()=>f[d]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))f(d);new MutationObserver(d=>{for(const h of d)if(h.type==="childList")for(const p of h.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&f(p)}).observe(document,{childList:!0,subtree:!0});function l(d){const h={};return d.integrity&&(h.integrity=d.integrity),d.referrerPolicy&&(h.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?h.credentials="include":d.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function f(d){if(d.ep)return;d.ep=!0;const h=l(d);fetch(d.href,h)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ms(i){const o=Object.create(null);for(const l of i.split(","))o[l]=1;return l=>l in o}const Ke={},yr=[],In=()=>{},Kl=()=>!1,Mi=i=>i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&(i.charCodeAt(2)>122||i.charCodeAt(2)<97),Os=i=>i.startsWith("onUpdate:"),Lt=Object.assign,Ds=(i,o)=>{const l=i.indexOf(o);l>-1&&i.splice(l,1)},Ql=Object.prototype.hasOwnProperty,He=(i,o)=>Ql.call(i,o),Ce=Array.isArray,Sr=i=>Oi(i)==="[object Map]",oa=i=>Oi(i)==="[object Set]",Ie=i=>typeof i=="function",dt=i=>typeof i=="string",Yn=i=>typeof i=="symbol",st=i=>i!==null&&typeof i=="object",aa=i=>(st(i)||Ie(i))&&Ie(i.then)&&Ie(i.catch),la=Object.prototype.toString,Oi=i=>la.call(i),ql=i=>Oi(i).slice(8,-1),ca=i=>Oi(i)==="[object Object]",Rs=i=>dt(i)&&i!=="NaN"&&i[0]!=="-"&&""+parseInt(i,10)===i,Gr=Ms(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Di=i=>{const o=Object.create(null);return l=>o[l]||(o[l]=i(l))},Jl=/-(\w)/g,Wn=Di(i=>i.replace(Jl,(o,l)=>l?l.toUpperCase():"")),$l=/\B([A-Z])/g,Xn=Di(i=>i.replace($l,"-$1").toLowerCase()),ua=Di(i=>i.charAt(0).toUpperCase()+i.slice(1)),is=Di(i=>i?`on${ua(i)}`:""),ar=(i,o)=>!Object.is(i,o),wi=(i,...o)=>{for(let l=0;l<i.length;l++)i[l](...o)},fa=(i,o,l,f=!1)=>{Object.defineProperty(i,o,{configurable:!0,enumerable:!1,writable:f,value:l})},ps=i=>{const o=parseFloat(i);return isNaN(o)?i:o};let uo;const Ri=()=>uo||(uo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function vs(i){if(Ce(i)){const o={};for(let l=0;l<i.length;l++){const f=i[l],d=dt(f)?rc(f):vs(f);if(d)for(const h in d)o[h]=d[h]}return o}else if(dt(i)||st(i))return i}const ec=/;(?![^(]*\))/g,tc=/:([^]+)/,nc=/\/\*[^]*?\*\//g;function rc(i){const o={};return i.replace(nc,"").split(ec).forEach(l=>{if(l){const f=l.split(tc);f.length>1&&(o[f[0].trim()]=f[1].trim())}}),o}function or(i){let o="";if(dt(i))o=i;else if(Ce(i))for(let l=0;l<i.length;l++){const f=or(i[l]);f&&(o+=f+" ")}else if(st(i))for(const l in i)i[l]&&(o+=l+" ");return o.trim()}const ic="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",sc=Ms(ic);function ha(i){return!!i||i===""}const da=i=>!!(i&&i.__v_isRef===!0),jr=i=>dt(i)?i:i==null?"":Ce(i)||st(i)&&(i.toString===la||!Ie(i.toString))?da(i)?jr(i.value):JSON.stringify(i,ga,2):String(i),ga=(i,o)=>da(o)?ga(i,o.value):Sr(o)?{[`Map(${o.size})`]:[...o.entries()].reduce((l,[f,d],h)=>(l[ss(f,h)+" =>"]=d,l),{})}:oa(o)?{[`Set(${o.size})`]:[...o.values()].map(l=>ss(l))}:Yn(o)?ss(o):st(o)&&!Ce(o)&&!ca(o)?String(o):o,ss=(i,o="")=>{var l;return Yn(i)?`Symbol(${(l=i.description)!=null?l:o})`:i};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Xt;class oc{constructor(o=!1){this.detached=o,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Xt,!o&&Xt&&(this.index=(Xt.scopes||(Xt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let o,l;if(this.scopes)for(o=0,l=this.scopes.length;o<l;o++)this.scopes[o].pause();for(o=0,l=this.effects.length;o<l;o++)this.effects[o].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let o,l;if(this.scopes)for(o=0,l=this.scopes.length;o<l;o++)this.scopes[o].resume();for(o=0,l=this.effects.length;o<l;o++)this.effects[o].resume()}}run(o){if(this._active){const l=Xt;try{return Xt=this,o()}finally{Xt=l}}}on(){Xt=this}off(){Xt=this.parent}stop(o){if(this._active){this._active=!1;let l,f;for(l=0,f=this.effects.length;l<f;l++)this.effects[l].stop();for(this.effects.length=0,l=0,f=this.cleanups.length;l<f;l++)this.cleanups[l]();if(this.cleanups.length=0,this.scopes){for(l=0,f=this.scopes.length;l<f;l++)this.scopes[l].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!o){const d=this.parent.scopes.pop();d&&d!==this&&(this.parent.scopes[this.index]=d,d.index=this.index)}this.parent=void 0}}}function ac(){return Xt}let $e;const os=new WeakSet;class xa{constructor(o){this.fn=o,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Xt&&Xt.active&&Xt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,os.has(this)&&(os.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||wa(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,fo(this),Aa(this);const o=$e,l=ln;$e=this,ln=!0;try{return this.fn()}finally{Ca(this),$e=o,ln=l,this.flags&=-3}}stop(){if(this.flags&1){for(let o=this.deps;o;o=o.nextDep)Ps(o);this.deps=this.depsTail=void 0,fo(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?os.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ws(this)&&this.run()}get dirty(){return ws(this)}}let pa=0,Yr,Xr;function wa(i,o=!1){if(i.flags|=8,o){i.next=Xr,Xr=i;return}i.next=Yr,Yr=i}function Ls(){pa++}function Bs(){if(--pa>0)return;if(Xr){let o=Xr;for(Xr=void 0;o;){const l=o.next;o.next=void 0,o.flags&=-9,o=l}}let i;for(;Yr;){let o=Yr;for(Yr=void 0;o;){const l=o.next;if(o.next=void 0,o.flags&=-9,o.flags&1)try{o.trigger()}catch(f){i||(i=f)}o=l}}if(i)throw i}function Aa(i){for(let o=i.deps;o;o=o.nextDep)o.version=-1,o.prevActiveLink=o.dep.activeLink,o.dep.activeLink=o}function Ca(i){let o,l=i.depsTail,f=l;for(;f;){const d=f.prevDep;f.version===-1?(f===l&&(l=d),Ps(f),lc(f)):o=f,f.dep.activeLink=f.prevActiveLink,f.prevActiveLink=void 0,f=d}i.deps=o,i.depsTail=l}function ws(i){for(let o=i.deps;o;o=o.nextDep)if(o.dep.version!==o.version||o.dep.computed&&(ma(o.dep.computed)||o.dep.version!==o.version))return!0;return!!i._dirty}function ma(i){if(i.flags&4&&!(i.flags&16)||(i.flags&=-17,i.globalVersion===qr))return;i.globalVersion=qr;const o=i.dep;if(i.flags|=2,o.version>0&&!i.isSSR&&i.deps&&!ws(i)){i.flags&=-3;return}const l=$e,f=ln;$e=i,ln=!0;try{Aa(i);const d=i.fn(i._value);(o.version===0||ar(d,i._value))&&(i._value=d,o.version++)}catch(d){throw o.version++,d}finally{$e=l,ln=f,Ca(i),i.flags&=-3}}function Ps(i,o=!1){const{dep:l,prevSub:f,nextSub:d}=i;if(f&&(f.nextSub=d,i.prevSub=void 0),d&&(d.prevSub=f,i.nextSub=void 0),l.subs===i&&(l.subs=f,!f&&l.computed)){l.computed.flags&=-5;for(let h=l.computed.deps;h;h=h.nextDep)Ps(h,!0)}!o&&!--l.sc&&l.map&&l.map.delete(l.key)}function lc(i){const{prevDep:o,nextDep:l}=i;o&&(o.nextDep=l,i.prevDep=void 0),l&&(l.prevDep=o,i.nextDep=void 0)}let ln=!0;const Ea=[];function Zn(){Ea.push(ln),ln=!1}function Kn(){const i=Ea.pop();ln=i===void 0?!0:i}function fo(i){const{cleanup:o}=i;if(i.cleanup=void 0,o){const l=$e;$e=void 0;try{o()}finally{$e=l}}}let qr=0;class cc{constructor(o,l){this.sub=o,this.dep=l,this.version=l.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ia{constructor(o){this.computed=o,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(o){if(!$e||!ln||$e===this.computed)return;let l=this.activeLink;if(l===void 0||l.sub!==$e)l=this.activeLink=new cc($e,this),$e.deps?(l.prevDep=$e.depsTail,$e.depsTail.nextDep=l,$e.depsTail=l):$e.deps=$e.depsTail=l,ya(l);else if(l.version===-1&&(l.version=this.version,l.nextDep)){const f=l.nextDep;f.prevDep=l.prevDep,l.prevDep&&(l.prevDep.nextDep=f),l.prevDep=$e.depsTail,l.nextDep=void 0,$e.depsTail.nextDep=l,$e.depsTail=l,$e.deps===l&&($e.deps=f)}return l}trigger(o){this.version++,qr++,this.notify(o)}notify(o){Ls();try{for(let l=this.subs;l;l=l.prevSub)l.sub.notify()&&l.sub.dep.notify()}finally{Bs()}}}function ya(i){if(i.dep.sc++,i.sub.flags&4){const o=i.dep.computed;if(o&&!i.dep.subs){o.flags|=20;for(let f=o.deps;f;f=f.nextDep)ya(f)}const l=i.dep.subs;l!==i&&(i.prevSub=l,l&&(l.nextSub=i)),i.dep.subs=i}}const As=new WeakMap,lr=Symbol(""),Cs=Symbol(""),Jr=Symbol("");function bt(i,o,l){if(ln&&$e){let f=As.get(i);f||As.set(i,f=new Map);let d=f.get(l);d||(f.set(l,d=new Ia),d.map=f,d.key=l),d.track()}}function _n(i,o,l,f,d,h){const p=As.get(i);if(!p){qr++;return}const E=I=>{I&&I.trigger()};if(Ls(),o==="clear")p.forEach(E);else{const I=Ce(i),w=I&&Rs(l);if(I&&l==="length"){const S=Number(f);p.forEach((b,z)=>{(z==="length"||z===Jr||!Yn(z)&&z>=S)&&E(b)})}else switch((l!==void 0||p.has(void 0))&&E(p.get(l)),w&&E(p.get(Jr)),o){case"add":I?w&&E(p.get("length")):(E(p.get(lr)),Sr(i)&&E(p.get(Cs)));break;case"delete":I||(E(p.get(lr)),Sr(i)&&E(p.get(Cs)));break;case"set":Sr(i)&&E(p.get(lr));break}}Bs()}function Cr(i){const o=Ye(i);return o===i?o:(bt(o,"iterate",Jr),cn(i)?o:o.map(Vt))}function vi(i){return bt(i=Ye(i),"iterate",Jr),i}const uc={__proto__:null,[Symbol.iterator](){return as(this,Symbol.iterator,Vt)},concat(...i){return Cr(this).concat(...i.map(o=>Ce(o)?Cr(o):o))},entries(){return as(this,"entries",i=>(i[1]=Vt(i[1]),i))},every(i,o){return Sn(this,"every",i,o,void 0,arguments)},filter(i,o){return Sn(this,"filter",i,o,l=>l.map(Vt),arguments)},find(i,o){return Sn(this,"find",i,o,Vt,arguments)},findIndex(i,o){return Sn(this,"findIndex",i,o,void 0,arguments)},findLast(i,o){return Sn(this,"findLast",i,o,Vt,arguments)},findLastIndex(i,o){return Sn(this,"findLastIndex",i,o,void 0,arguments)},forEach(i,o){return Sn(this,"forEach",i,o,void 0,arguments)},includes(...i){return ls(this,"includes",i)},indexOf(...i){return ls(this,"indexOf",i)},join(i){return Cr(this).join(i)},lastIndexOf(...i){return ls(this,"lastIndexOf",i)},map(i,o){return Sn(this,"map",i,o,void 0,arguments)},pop(){return Hr(this,"pop")},push(...i){return Hr(this,"push",i)},reduce(i,...o){return ho(this,"reduce",i,o)},reduceRight(i,...o){return ho(this,"reduceRight",i,o)},shift(){return Hr(this,"shift")},some(i,o){return Sn(this,"some",i,o,void 0,arguments)},splice(...i){return Hr(this,"splice",i)},toReversed(){return Cr(this).toReversed()},toSorted(i){return Cr(this).toSorted(i)},toSpliced(...i){return Cr(this).toSpliced(...i)},unshift(...i){return Hr(this,"unshift",i)},values(){return as(this,"values",Vt)}};function as(i,o,l){const f=vi(i),d=f[o]();return f!==i&&!cn(i)&&(d._next=d.next,d.next=()=>{const h=d._next();return h.value&&(h.value=l(h.value)),h}),d}const fc=Array.prototype;function Sn(i,o,l,f,d,h){const p=vi(i),E=p!==i&&!cn(i),I=p[o];if(I!==fc[o]){const b=I.apply(i,h);return E?Vt(b):b}let w=l;p!==i&&(E?w=function(b,z){return l.call(this,Vt(b),z,i)}:l.length>2&&(w=function(b,z){return l.call(this,b,z,i)}));const S=I.call(p,w,f);return E&&d?d(S):S}function ho(i,o,l,f){const d=vi(i);let h=l;return d!==i&&(cn(i)?l.length>3&&(h=function(p,E,I){return l.call(this,p,E,I,i)}):h=function(p,E,I){return l.call(this,p,Vt(E),I,i)}),d[o](h,...f)}function ls(i,o,l){const f=Ye(i);bt(f,"iterate",Jr);const d=f[o](...l);return(d===-1||d===!1)&&Hs(l[0])?(l[0]=Ye(l[0]),f[o](...l)):d}function Hr(i,o,l=[]){Zn(),Ls();const f=Ye(i)[o].apply(i,l);return Bs(),Kn(),f}const hc=Ms("__proto__,__v_isRef,__isVue"),Sa=new Set(Object.getOwnPropertyNames(Symbol).filter(i=>i!=="arguments"&&i!=="caller").map(i=>Symbol[i]).filter(Yn));function dc(i){Yn(i)||(i=String(i));const o=Ye(this);return bt(o,"has",i),o.hasOwnProperty(i)}class Ta{constructor(o=!1,l=!1){this._isReadonly=o,this._isShallow=l}get(o,l,f){if(l==="__v_skip")return o.__v_skip;const d=this._isReadonly,h=this._isShallow;if(l==="__v_isReactive")return!d;if(l==="__v_isReadonly")return d;if(l==="__v_isShallow")return h;if(l==="__v_raw")return f===(d?h?yc:Ma:h?Na:_a).get(o)||Object.getPrototypeOf(o)===Object.getPrototypeOf(f)?o:void 0;const p=Ce(o);if(!d){let I;if(p&&(I=uc[l]))return I;if(l==="hasOwnProperty")return dc}const E=Reflect.get(o,l,vt(o)?o:f);return(Yn(l)?Sa.has(l):hc(l))||(d||bt(o,"get",l),h)?E:vt(E)?p&&Rs(l)?E:E.value:st(E)?d?Oa(E):ks(E):E}}class ba extends Ta{constructor(o=!1){super(!1,o)}set(o,l,f,d){let h=o[l];if(!this._isShallow){const I=Nr(h);if(!cn(f)&&!Nr(f)&&(h=Ye(h),f=Ye(f)),!Ce(o)&&vt(h)&&!vt(f))return I?!1:(h.value=f,!0)}const p=Ce(o)&&Rs(l)?Number(l)<o.length:He(o,l),E=Reflect.set(o,l,f,vt(o)?o:d);return o===Ye(d)&&(p?ar(f,h)&&_n(o,"set",l,f):_n(o,"add",l,f)),E}deleteProperty(o,l){const f=He(o,l);o[l];const d=Reflect.deleteProperty(o,l);return d&&f&&_n(o,"delete",l,void 0),d}has(o,l){const f=Reflect.has(o,l);return(!Yn(l)||!Sa.has(l))&&bt(o,"has",l),f}ownKeys(o){return bt(o,"iterate",Ce(o)?"length":lr),Reflect.ownKeys(o)}}class gc extends Ta{constructor(o=!1){super(!0,o)}set(o,l){return!0}deleteProperty(o,l){return!0}}const xc=new ba,pc=new gc,wc=new ba(!0);const ms=i=>i,di=i=>Reflect.getPrototypeOf(i);function Ac(i,o,l){return function(...f){const d=this.__v_raw,h=Ye(d),p=Sr(h),E=i==="entries"||i===Symbol.iterator&&p,I=i==="keys"&&p,w=d[i](...f),S=l?ms:o?Es:Vt;return!o&&bt(h,"iterate",I?Cs:lr),{next(){const{value:b,done:z}=w.next();return z?{value:b,done:z}:{value:E?[S(b[0]),S(b[1])]:S(b),done:z}},[Symbol.iterator](){return this}}}}function gi(i){return function(...o){return i==="delete"?!1:i==="clear"?void 0:this}}function Cc(i,o){const l={get(d){const h=this.__v_raw,p=Ye(h),E=Ye(d);i||(ar(d,E)&&bt(p,"get",d),bt(p,"get",E));const{has:I}=di(p),w=o?ms:i?Es:Vt;if(I.call(p,d))return w(h.get(d));if(I.call(p,E))return w(h.get(E));h!==p&&h.get(d)},get size(){const d=this.__v_raw;return!i&&bt(Ye(d),"iterate",lr),Reflect.get(d,"size",d)},has(d){const h=this.__v_raw,p=Ye(h),E=Ye(d);return i||(ar(d,E)&&bt(p,"has",d),bt(p,"has",E)),d===E?h.has(d):h.has(d)||h.has(E)},forEach(d,h){const p=this,E=p.__v_raw,I=Ye(E),w=o?ms:i?Es:Vt;return!i&&bt(I,"iterate",lr),E.forEach((S,b)=>d.call(h,w(S),w(b),p))}};return Lt(l,i?{add:gi("add"),set:gi("set"),delete:gi("delete"),clear:gi("clear")}:{add(d){!o&&!cn(d)&&!Nr(d)&&(d=Ye(d));const h=Ye(this);return di(h).has.call(h,d)||(h.add(d),_n(h,"add",d,d)),this},set(d,h){!o&&!cn(h)&&!Nr(h)&&(h=Ye(h));const p=Ye(this),{has:E,get:I}=di(p);let w=E.call(p,d);w||(d=Ye(d),w=E.call(p,d));const S=I.call(p,d);return p.set(d,h),w?ar(h,S)&&_n(p,"set",d,h):_n(p,"add",d,h),this},delete(d){const h=Ye(this),{has:p,get:E}=di(h);let I=p.call(h,d);I||(d=Ye(d),I=p.call(h,d)),E&&E.call(h,d);const w=h.delete(d);return I&&_n(h,"delete",d,void 0),w},clear(){const d=Ye(this),h=d.size!==0,p=d.clear();return h&&_n(d,"clear",void 0,void 0),p}}),["keys","values","entries",Symbol.iterator].forEach(d=>{l[d]=Ac(d,i,o)}),l}function Fs(i,o){const l=Cc(i,o);return(f,d,h)=>d==="__v_isReactive"?!i:d==="__v_isReadonly"?i:d==="__v_raw"?f:Reflect.get(He(l,d)&&d in f?l:f,d,h)}const mc={get:Fs(!1,!1)},Ec={get:Fs(!1,!0)},Ic={get:Fs(!0,!1)};const _a=new WeakMap,Na=new WeakMap,Ma=new WeakMap,yc=new WeakMap;function Sc(i){switch(i){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Tc(i){return i.__v_skip||!Object.isExtensible(i)?0:Sc(ql(i))}function ks(i){return Nr(i)?i:Us(i,!1,xc,mc,_a)}function bc(i){return Us(i,!1,wc,Ec,Na)}function Oa(i){return Us(i,!0,pc,Ic,Ma)}function Us(i,o,l,f,d){if(!st(i)||i.__v_raw&&!(o&&i.__v_isReactive))return i;const h=d.get(i);if(h)return h;const p=Tc(i);if(p===0)return i;const E=new Proxy(i,p===2?f:l);return d.set(i,E),E}function Tr(i){return Nr(i)?Tr(i.__v_raw):!!(i&&i.__v_isReactive)}function Nr(i){return!!(i&&i.__v_isReadonly)}function cn(i){return!!(i&&i.__v_isShallow)}function Hs(i){return i?!!i.__v_raw:!1}function Ye(i){const o=i&&i.__v_raw;return o?Ye(o):i}function _c(i){return!He(i,"__v_skip")&&Object.isExtensible(i)&&fa(i,"__v_skip",!0),i}const Vt=i=>st(i)?ks(i):i,Es=i=>st(i)?Oa(i):i;function vt(i){return i?i.__v_isRef===!0:!1}function Nc(i){return vt(i)?i.value:i}const Mc={get:(i,o,l)=>o==="__v_raw"?i:Nc(Reflect.get(i,o,l)),set:(i,o,l,f)=>{const d=i[o];return vt(d)&&!vt(l)?(d.value=l,!0):Reflect.set(i,o,l,f)}};function Da(i){return Tr(i)?i:new Proxy(i,Mc)}class Oc{constructor(o,l,f){this.fn=o,this.setter=l,this._value=void 0,this.dep=new Ia(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=qr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!l,this.isSSR=f}notify(){if(this.flags|=16,!(this.flags&8)&&$e!==this)return wa(this,!0),!0}get value(){const o=this.dep.track();return ma(this),o&&(o.version=this.dep.version),this._value}set value(o){this.setter&&this.setter(o)}}function Dc(i,o,l=!1){let f,d;return Ie(i)?f=i:(f=i.get,d=i.set),new Oc(f,d,l)}const xi={},Ei=new WeakMap;let ir;function Rc(i,o=!1,l=ir){if(l){let f=Ei.get(l);f||Ei.set(l,f=[]),f.push(i)}}function vc(i,o,l=Ke){const{immediate:f,deep:d,once:h,scheduler:p,augmentJob:E,call:I}=l,w=ee=>d?ee:cn(ee)||d===!1||d===0?Nn(ee,1):Nn(ee);let S,b,z,W,fe=!1,$=!1;if(vt(i)?(b=()=>i.value,fe=cn(i)):Tr(i)?(b=()=>w(i),fe=!0):Ce(i)?($=!0,fe=i.some(ee=>Tr(ee)||cn(ee)),b=()=>i.map(ee=>{if(vt(ee))return ee.value;if(Tr(ee))return w(ee);if(Ie(ee))return I?I(ee,2):ee()})):Ie(i)?o?b=I?()=>I(i,2):i:b=()=>{if(z){Zn();try{z()}finally{Kn()}}const ee=ir;ir=S;try{return I?I(i,3,[W]):i(W)}finally{ir=ee}}:b=In,o&&d){const ee=b,We=d===!0?1/0:d;b=()=>Nn(ee(),We)}const me=ac(),Ae=()=>{S.stop(),me&&me.active&&Ds(me.effects,S)};if(h&&o){const ee=o;o=(...We)=>{ee(...We),Ae()}}let ce=$?new Array(i.length).fill(xi):xi;const ne=ee=>{if(!(!(S.flags&1)||!S.dirty&&!ee))if(o){const We=S.run();if(d||fe||($?We.some((Ne,X)=>ar(Ne,ce[X])):ar(We,ce))){z&&z();const Ne=ir;ir=S;try{const X=[We,ce===xi?void 0:$&&ce[0]===xi?[]:ce,W];I?I(o,3,X):o(...X),ce=We}finally{ir=Ne}}}else S.run()};return E&&E(ne),S=new xa(b),S.scheduler=p?()=>p(ne,!1):ne,W=ee=>Rc(ee,!1,S),z=S.onStop=()=>{const ee=Ei.get(S);if(ee){if(I)I(ee,4);else for(const We of ee)We();Ei.delete(S)}},o?f?ne(!0):ce=S.run():p?p(ne.bind(null,!0),!0):S.run(),Ae.pause=S.pause.bind(S),Ae.resume=S.resume.bind(S),Ae.stop=Ae,Ae}function Nn(i,o=1/0,l){if(o<=0||!st(i)||i.__v_skip||(l=l||new Set,l.has(i)))return i;if(l.add(i),o--,vt(i))Nn(i.value,o,l);else if(Ce(i))for(let f=0;f<i.length;f++)Nn(i[f],o,l);else if(oa(i)||Sr(i))i.forEach(f=>{Nn(f,o,l)});else if(ca(i)){for(const f in i)Nn(i[f],o,l);for(const f of Object.getOwnPropertySymbols(i))Object.prototype.propertyIsEnumerable.call(i,f)&&Nn(i[f],o,l)}return i}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ni(i,o,l,f){try{return f?i(...f):i()}catch(d){Li(d,o,l)}}function yn(i,o,l,f){if(Ie(i)){const d=ni(i,o,l,f);return d&&aa(d)&&d.catch(h=>{Li(h,o,l)}),d}if(Ce(i)){const d=[];for(let h=0;h<i.length;h++)d.push(yn(i[h],o,l,f));return d}}function Li(i,o,l,f=!0){const d=o?o.vnode:null,{errorHandler:h,throwUnhandledErrorInProduction:p}=o&&o.appContext.config||Ke;if(o){let E=o.parent;const I=o.proxy,w=`https://vuejs.org/error-reference/#runtime-${l}`;for(;E;){const S=E.ec;if(S){for(let b=0;b<S.length;b++)if(S[b](i,I,w)===!1)return}E=E.parent}if(h){Zn(),ni(h,null,10,[i,I,w]),Kn();return}}Lc(i,l,d,f,p)}function Lc(i,o,l,f=!0,d=!1){if(d)throw i;console.error(i)}const Dt=[];let Cn=-1;const br=[];let jn=null,mr=0;const Ra=Promise.resolve();let Ii=null;function Bc(i){const o=Ii||Ra;return i?o.then(this?i.bind(this):i):o}function Pc(i){let o=Cn+1,l=Dt.length;for(;o<l;){const f=o+l>>>1,d=Dt[f],h=$r(d);h<i||h===i&&d.flags&2?o=f+1:l=f}return o}function Vs(i){if(!(i.flags&1)){const o=$r(i),l=Dt[Dt.length-1];!l||!(i.flags&2)&&o>=$r(l)?Dt.push(i):Dt.splice(Pc(o),0,i),i.flags|=1,va()}}function va(){Ii||(Ii=Ra.then(Ba))}function Fc(i){Ce(i)?br.push(...i):jn&&i.id===-1?jn.splice(mr+1,0,i):i.flags&1||(br.push(i),i.flags|=1),va()}function go(i,o,l=Cn+1){for(;l<Dt.length;l++){const f=Dt[l];if(f&&f.flags&2){if(i&&f.id!==i.uid)continue;Dt.splice(l,1),l--,f.flags&4&&(f.flags&=-2),f(),f.flags&4||(f.flags&=-2)}}}function La(i){if(br.length){const o=[...new Set(br)].sort((l,f)=>$r(l)-$r(f));if(br.length=0,jn){jn.push(...o);return}for(jn=o,mr=0;mr<jn.length;mr++){const l=jn[mr];l.flags&4&&(l.flags&=-2),l.flags&8||l(),l.flags&=-2}jn=null,mr=0}}const $r=i=>i.id==null?i.flags&2?-1:1/0:i.id;function Ba(i){try{for(Cn=0;Cn<Dt.length;Cn++){const o=Dt[Cn];o&&!(o.flags&8)&&(o.flags&4&&(o.flags&=-2),ni(o,o.i,o.i?15:14),o.flags&4||(o.flags&=-2))}}finally{for(;Cn<Dt.length;Cn++){const o=Dt[Cn];o&&(o.flags&=-2)}Cn=-1,Dt.length=0,La(),Ii=null,(Dt.length||br.length)&&Ba()}}let tn=null,Pa=null;function yi(i){const o=tn;return tn=i,Pa=i&&i.type.__scopeId||null,o}function kc(i,o=tn,l){if(!o||i._n)return i;const f=(...d)=>{f._d&&To(-1);const h=yi(o);let p;try{p=i(...d)}finally{yi(h),f._d&&To(1)}return p};return f._n=!0,f._c=!0,f._d=!0,f}function xo(i,o){if(tn===null)return i;const l=ki(tn),f=i.dirs||(i.dirs=[]);for(let d=0;d<o.length;d++){let[h,p,E,I=Ke]=o[d];h&&(Ie(h)&&(h={mounted:h,updated:h}),h.deep&&Nn(p),f.push({dir:h,instance:l,value:p,oldValue:void 0,arg:E,modifiers:I}))}return i}function nr(i,o,l,f){const d=i.dirs,h=o&&o.dirs;for(let p=0;p<d.length;p++){const E=d[p];h&&(E.oldValue=h[p].value);let I=E.dir[f];I&&(Zn(),yn(I,l,8,[i.el,E,i,o]),Kn())}}const Uc=Symbol("_vte"),Hc=i=>i.__isTeleport;function js(i,o){i.shapeFlag&6&&i.component?(i.transition=o,js(i.component.subTree,o)):i.shapeFlag&128?(i.ssContent.transition=o.clone(i.ssContent),i.ssFallback.transition=o.clone(i.ssFallback)):i.transition=o}function Fa(i){i.ids=[i.ids[0]+i.ids[2]+++"-",0,0]}function Si(i,o,l,f,d=!1){if(Ce(i)){i.forEach((fe,$)=>Si(fe,o&&(Ce(o)?o[$]:o),l,f,d));return}if(Zr(f)&&!d){f.shapeFlag&512&&f.type.__asyncResolved&&f.component.subTree.component&&Si(i,o,l,f.component.subTree);return}const h=f.shapeFlag&4?ki(f.component):f.el,p=d?null:h,{i:E,r:I}=i,w=o&&o.r,S=E.refs===Ke?E.refs={}:E.refs,b=E.setupState,z=Ye(b),W=b===Ke?()=>!1:fe=>He(z,fe);if(w!=null&&w!==I&&(dt(w)?(S[w]=null,W(w)&&(b[w]=null)):vt(w)&&(w.value=null)),Ie(I))ni(I,E,12,[p,S]);else{const fe=dt(I),$=vt(I);if(fe||$){const me=()=>{if(i.f){const Ae=fe?W(I)?b[I]:S[I]:I.value;d?Ce(Ae)&&Ds(Ae,h):Ce(Ae)?Ae.includes(h)||Ae.push(h):fe?(S[I]=[h],W(I)&&(b[I]=S[I])):(I.value=[h],i.k&&(S[i.k]=I.value))}else fe?(S[I]=p,W(I)&&(b[I]=p)):$&&(I.value=p,i.k&&(S[i.k]=p))};p?(me.id=-1,Wt(me,l)):me()}}}Ri().requestIdleCallback;Ri().cancelIdleCallback;const Zr=i=>!!i.type.__asyncLoader,ka=i=>i.type.__isKeepAlive;function Vc(i,o){Ua(i,"a",o)}function jc(i,o){Ua(i,"da",o)}function Ua(i,o,l=Rt){const f=i.__wdc||(i.__wdc=()=>{let d=l;for(;d;){if(d.isDeactivated)return;d=d.parent}return i()});if(Bi(o,f,l),l){let d=l.parent;for(;d&&d.parent;)ka(d.parent.vnode)&&zc(f,o,l,d),d=d.parent}}function zc(i,o,l,f){const d=Bi(o,i,f,!0);Ha(()=>{Ds(f[o],d)},l)}function Bi(i,o,l=Rt,f=!1){if(l){const d=l[i]||(l[i]=[]),h=o.__weh||(o.__weh=(...p)=>{Zn();const E=ri(l),I=yn(o,l,i,p);return E(),Kn(),I});return f?d.unshift(h):d.push(h),h}}const Dn=i=>(o,l=Rt)=>{(!ti||i==="sp")&&Bi(i,(...f)=>o(...f),l)},Wc=Dn("bm"),Gc=Dn("m"),Yc=Dn("bu"),Xc=Dn("u"),Zc=Dn("bum"),Ha=Dn("um"),Kc=Dn("sp"),Qc=Dn("rtg"),qc=Dn("rtc");function Jc(i,o=Rt){Bi("ec",i,o)}const $c=Symbol.for("v-ndc");function po(i,o,l,f){let d;const h=l,p=Ce(i);if(p||dt(i)){const E=p&&Tr(i);let I=!1;E&&(I=!cn(i),i=vi(i)),d=new Array(i.length);for(let w=0,S=i.length;w<S;w++)d[w]=o(I?Vt(i[w]):i[w],w,void 0,h)}else if(typeof i=="number"){d=new Array(i);for(let E=0;E<i;E++)d[E]=o(E+1,E,void 0,h)}else if(st(i))if(i[Symbol.iterator])d=Array.from(i,(E,I)=>o(E,I,void 0,h));else{const E=Object.keys(i);d=new Array(E.length);for(let I=0,w=E.length;I<w;I++){const S=E[I];d[I]=o(i[S],S,I,h)}}else d=[];return d}const Is=i=>i?ll(i)?ki(i):Is(i.parent):null,Kr=Lt(Object.create(null),{$:i=>i,$el:i=>i.vnode.el,$data:i=>i.data,$props:i=>i.props,$attrs:i=>i.attrs,$slots:i=>i.slots,$refs:i=>i.refs,$parent:i=>Is(i.parent),$root:i=>Is(i.root),$host:i=>i.ce,$emit:i=>i.emit,$options:i=>ja(i),$forceUpdate:i=>i.f||(i.f=()=>{Vs(i.update)}),$nextTick:i=>i.n||(i.n=Bc.bind(i.proxy)),$watch:i=>E1.bind(i)}),cs=(i,o)=>i!==Ke&&!i.__isScriptSetup&&He(i,o),e1={get({_:i},o){if(o==="__v_skip")return!0;const{ctx:l,setupState:f,data:d,props:h,accessCache:p,type:E,appContext:I}=i;let w;if(o[0]!=="$"){const W=p[o];if(W!==void 0)switch(W){case 1:return f[o];case 2:return d[o];case 4:return l[o];case 3:return h[o]}else{if(cs(f,o))return p[o]=1,f[o];if(d!==Ke&&He(d,o))return p[o]=2,d[o];if((w=i.propsOptions[0])&&He(w,o))return p[o]=3,h[o];if(l!==Ke&&He(l,o))return p[o]=4,l[o];ys&&(p[o]=0)}}const S=Kr[o];let b,z;if(S)return o==="$attrs"&&bt(i.attrs,"get",""),S(i);if((b=E.__cssModules)&&(b=b[o]))return b;if(l!==Ke&&He(l,o))return p[o]=4,l[o];if(z=I.config.globalProperties,He(z,o))return z[o]},set({_:i},o,l){const{data:f,setupState:d,ctx:h}=i;return cs(d,o)?(d[o]=l,!0):f!==Ke&&He(f,o)?(f[o]=l,!0):He(i.props,o)||o[0]==="$"&&o.slice(1)in i?!1:(h[o]=l,!0)},has({_:{data:i,setupState:o,accessCache:l,ctx:f,appContext:d,propsOptions:h}},p){let E;return!!l[p]||i!==Ke&&He(i,p)||cs(o,p)||(E=h[0])&&He(E,p)||He(f,p)||He(Kr,p)||He(d.config.globalProperties,p)},defineProperty(i,o,l){return l.get!=null?i._.accessCache[o]=0:He(l,"value")&&this.set(i,o,l.value,null),Reflect.defineProperty(i,o,l)}};function wo(i){return Ce(i)?i.reduce((o,l)=>(o[l]=null,o),{}):i}let ys=!0;function t1(i){const o=ja(i),l=i.proxy,f=i.ctx;ys=!1,o.beforeCreate&&Ao(o.beforeCreate,i,"bc");const{data:d,computed:h,methods:p,watch:E,provide:I,inject:w,created:S,beforeMount:b,mounted:z,beforeUpdate:W,updated:fe,activated:$,deactivated:me,beforeDestroy:Ae,beforeUnmount:ce,destroyed:ne,unmounted:ee,render:We,renderTracked:Ne,renderTriggered:X,errorCaptured:Te,serverPrefetch:K,expose:Bt,inheritAttrs:ht,components:de,directives:Re,filters:ot}=o;if(w&&n1(w,f,null),p)for(const se in p){const Be=p[se];Ie(Be)&&(f[se]=Be.bind(l))}if(d){const se=d.call(l,l);st(se)&&(i.data=ks(se))}if(ys=!0,h)for(const se in h){const Be=h[se],yt=Ie(Be)?Be.bind(l,l):Ie(Be.get)?Be.get.bind(l,l):In,jt=!Ie(Be)&&Ie(Be.set)?Be.set.bind(l):In,un=z1({get:yt,set:jt});Object.defineProperty(f,se,{enumerable:!0,configurable:!0,get:()=>un.value,set:Qe=>un.value=Qe})}if(E)for(const se in E)Va(E[se],f,l,se);if(I){const se=Ie(I)?I.call(l):I;Reflect.ownKeys(se).forEach(Be=>{l1(Be,se[Be])})}S&&Ao(S,i,"c");function De(se,Be){Ce(Be)?Be.forEach(yt=>se(yt.bind(l))):Be&&se(Be.bind(l))}if(De(Wc,b),De(Gc,z),De(Yc,W),De(Xc,fe),De(Vc,$),De(jc,me),De(Jc,Te),De(qc,Ne),De(Qc,X),De(Zc,ce),De(Ha,ee),De(Kc,K),Ce(Bt))if(Bt.length){const se=i.exposed||(i.exposed={});Bt.forEach(Be=>{Object.defineProperty(se,Be,{get:()=>l[Be],set:yt=>l[Be]=yt})})}else i.exposed||(i.exposed={});We&&i.render===In&&(i.render=We),ht!=null&&(i.inheritAttrs=ht),de&&(i.components=de),Re&&(i.directives=Re),K&&Fa(i)}function n1(i,o,l=In){Ce(i)&&(i=Ss(i));for(const f in i){const d=i[f];let h;st(d)?"default"in d?h=Ai(d.from||f,d.default,!0):h=Ai(d.from||f):h=Ai(d),vt(h)?Object.defineProperty(o,f,{enumerable:!0,configurable:!0,get:()=>h.value,set:p=>h.value=p}):o[f]=h}}function Ao(i,o,l){yn(Ce(i)?i.map(f=>f.bind(o.proxy)):i.bind(o.proxy),o,l)}function Va(i,o,l,f){let d=f.includes(".")?nl(l,f):()=>l[f];if(dt(i)){const h=o[i];Ie(h)&&fs(d,h)}else if(Ie(i))fs(d,i.bind(l));else if(st(i))if(Ce(i))i.forEach(h=>Va(h,o,l,f));else{const h=Ie(i.handler)?i.handler.bind(l):o[i.handler];Ie(h)&&fs(d,h,i)}}function ja(i){const o=i.type,{mixins:l,extends:f}=o,{mixins:d,optionsCache:h,config:{optionMergeStrategies:p}}=i.appContext,E=h.get(o);let I;return E?I=E:!d.length&&!l&&!f?I=o:(I={},d.length&&d.forEach(w=>Ti(I,w,p,!0)),Ti(I,o,p)),st(o)&&h.set(o,I),I}function Ti(i,o,l,f=!1){const{mixins:d,extends:h}=o;h&&Ti(i,h,l,!0),d&&d.forEach(p=>Ti(i,p,l,!0));for(const p in o)if(!(f&&p==="expose")){const E=r1[p]||l&&l[p];i[p]=E?E(i[p],o[p]):o[p]}return i}const r1={data:Co,props:mo,emits:mo,methods:zr,computed:zr,beforeCreate:Ot,created:Ot,beforeMount:Ot,mounted:Ot,beforeUpdate:Ot,updated:Ot,beforeDestroy:Ot,beforeUnmount:Ot,destroyed:Ot,unmounted:Ot,activated:Ot,deactivated:Ot,errorCaptured:Ot,serverPrefetch:Ot,components:zr,directives:zr,watch:s1,provide:Co,inject:i1};function Co(i,o){return o?i?function(){return Lt(Ie(i)?i.call(this,this):i,Ie(o)?o.call(this,this):o)}:o:i}function i1(i,o){return zr(Ss(i),Ss(o))}function Ss(i){if(Ce(i)){const o={};for(let l=0;l<i.length;l++)o[i[l]]=i[l];return o}return i}function Ot(i,o){return i?[...new Set([].concat(i,o))]:o}function zr(i,o){return i?Lt(Object.create(null),i,o):o}function mo(i,o){return i?Ce(i)&&Ce(o)?[...new Set([...i,...o])]:Lt(Object.create(null),wo(i),wo(o??{})):o}function s1(i,o){if(!i)return o;if(!o)return i;const l=Lt(Object.create(null),i);for(const f in o)l[f]=Ot(i[f],o[f]);return l}function za(){return{app:null,config:{isNativeTag:Kl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let o1=0;function a1(i,o){return function(f,d=null){Ie(f)||(f=Lt({},f)),d!=null&&!st(d)&&(d=null);const h=za(),p=new WeakSet,E=[];let I=!1;const w=h.app={_uid:o1++,_component:f,_props:d,_container:null,_context:h,_instance:null,version:W1,get config(){return h.config},set config(S){},use(S,...b){return p.has(S)||(S&&Ie(S.install)?(p.add(S),S.install(w,...b)):Ie(S)&&(p.add(S),S(w,...b))),w},mixin(S){return h.mixins.includes(S)||h.mixins.push(S),w},component(S,b){return b?(h.components[S]=b,w):h.components[S]},directive(S,b){return b?(h.directives[S]=b,w):h.directives[S]},mount(S,b,z){if(!I){const W=w._ceVNode||On(f,d);return W.appContext=h,z===!0?z="svg":z===!1&&(z=void 0),i(W,S,z),I=!0,w._container=S,S.__vue_app__=w,ki(W.component)}},onUnmount(S){E.push(S)},unmount(){I&&(yn(E,w._instance,16),i(null,w._container),delete w._container.__vue_app__)},provide(S,b){return h.provides[S]=b,w},runWithContext(S){const b=_r;_r=w;try{return S()}finally{_r=b}}};return w}}let _r=null;function l1(i,o){if(Rt){let l=Rt.provides;const f=Rt.parent&&Rt.parent.provides;f===l&&(l=Rt.provides=Object.create(f)),l[i]=o}}function Ai(i,o,l=!1){const f=Rt||tn;if(f||_r){const d=_r?_r._context.provides:f?f.parent==null?f.vnode.appContext&&f.vnode.appContext.provides:f.parent.provides:void 0;if(d&&i in d)return d[i];if(arguments.length>1)return l&&Ie(o)?o.call(f&&f.proxy):o}}const Wa={},Ga=()=>Object.create(Wa),Ya=i=>Object.getPrototypeOf(i)===Wa;function c1(i,o,l,f=!1){const d={},h=Ga();i.propsDefaults=Object.create(null),Xa(i,o,d,h);for(const p in i.propsOptions[0])p in d||(d[p]=void 0);l?i.props=f?d:bc(d):i.type.props?i.props=d:i.props=h,i.attrs=h}function u1(i,o,l,f){const{props:d,attrs:h,vnode:{patchFlag:p}}=i,E=Ye(d),[I]=i.propsOptions;let w=!1;if((f||p>0)&&!(p&16)){if(p&8){const S=i.vnode.dynamicProps;for(let b=0;b<S.length;b++){let z=S[b];if(Pi(i.emitsOptions,z))continue;const W=o[z];if(I)if(He(h,z))W!==h[z]&&(h[z]=W,w=!0);else{const fe=Wn(z);d[fe]=Ts(I,E,fe,W,i,!1)}else W!==h[z]&&(h[z]=W,w=!0)}}}else{Xa(i,o,d,h)&&(w=!0);let S;for(const b in E)(!o||!He(o,b)&&((S=Xn(b))===b||!He(o,S)))&&(I?l&&(l[b]!==void 0||l[S]!==void 0)&&(d[b]=Ts(I,E,b,void 0,i,!0)):delete d[b]);if(h!==E)for(const b in h)(!o||!He(o,b))&&(delete h[b],w=!0)}w&&_n(i.attrs,"set","")}function Xa(i,o,l,f){const[d,h]=i.propsOptions;let p=!1,E;if(o)for(let I in o){if(Gr(I))continue;const w=o[I];let S;d&&He(d,S=Wn(I))?!h||!h.includes(S)?l[S]=w:(E||(E={}))[S]=w:Pi(i.emitsOptions,I)||(!(I in f)||w!==f[I])&&(f[I]=w,p=!0)}if(h){const I=Ye(l),w=E||Ke;for(let S=0;S<h.length;S++){const b=h[S];l[b]=Ts(d,I,b,w[b],i,!He(w,b))}}return p}function Ts(i,o,l,f,d,h){const p=i[l];if(p!=null){const E=He(p,"default");if(E&&f===void 0){const I=p.default;if(p.type!==Function&&!p.skipFactory&&Ie(I)){const{propsDefaults:w}=d;if(l in w)f=w[l];else{const S=ri(d);f=w[l]=I.call(null,o),S()}}else f=I;d.ce&&d.ce._setProp(l,f)}p[0]&&(h&&!E?f=!1:p[1]&&(f===""||f===Xn(l))&&(f=!0))}return f}const f1=new WeakMap;function Za(i,o,l=!1){const f=l?f1:o.propsCache,d=f.get(i);if(d)return d;const h=i.props,p={},E=[];let I=!1;if(!Ie(i)){const S=b=>{I=!0;const[z,W]=Za(b,o,!0);Lt(p,z),W&&E.push(...W)};!l&&o.mixins.length&&o.mixins.forEach(S),i.extends&&S(i.extends),i.mixins&&i.mixins.forEach(S)}if(!h&&!I)return st(i)&&f.set(i,yr),yr;if(Ce(h))for(let S=0;S<h.length;S++){const b=Wn(h[S]);Eo(b)&&(p[b]=Ke)}else if(h)for(const S in h){const b=Wn(S);if(Eo(b)){const z=h[S],W=p[b]=Ce(z)||Ie(z)?{type:z}:Lt({},z),fe=W.type;let $=!1,me=!0;if(Ce(fe))for(let Ae=0;Ae<fe.length;++Ae){const ce=fe[Ae],ne=Ie(ce)&&ce.name;if(ne==="Boolean"){$=!0;break}else ne==="String"&&(me=!1)}else $=Ie(fe)&&fe.name==="Boolean";W[0]=$,W[1]=me,($||He(W,"default"))&&E.push(b)}}const w=[p,E];return st(i)&&f.set(i,w),w}function Eo(i){return i[0]!=="$"&&!Gr(i)}const Ka=i=>i[0]==="_"||i==="$stable",zs=i=>Ce(i)?i.map(En):[En(i)],h1=(i,o,l)=>{if(o._n)return o;const f=kc((...d)=>zs(o(...d)),l);return f._c=!1,f},Qa=(i,o,l)=>{const f=i._ctx;for(const d in i){if(Ka(d))continue;const h=i[d];if(Ie(h))o[d]=h1(d,h,f);else if(h!=null){const p=zs(h);o[d]=()=>p}}},qa=(i,o)=>{const l=zs(o);i.slots.default=()=>l},Ja=(i,o,l)=>{for(const f in o)(l||f!=="_")&&(i[f]=o[f])},d1=(i,o,l)=>{const f=i.slots=Ga();if(i.vnode.shapeFlag&32){const d=o._;d?(Ja(f,o,l),l&&fa(f,"_",d,!0)):Qa(o,f)}else o&&qa(i,o)},g1=(i,o,l)=>{const{vnode:f,slots:d}=i;let h=!0,p=Ke;if(f.shapeFlag&32){const E=o._;E?l&&E===1?h=!1:Ja(d,o,l):(h=!o.$stable,Qa(o,d)),p=o}else o&&(qa(i,o),p={default:1});if(h)for(const E in d)!Ka(E)&&p[E]==null&&delete d[E]},Wt=N1;function x1(i){return p1(i)}function p1(i,o){const l=Ri();l.__VUE__=!0;const{insert:f,remove:d,patchProp:h,createElement:p,createText:E,createComment:I,setText:w,setElementText:S,parentNode:b,nextSibling:z,setScopeId:W=In,insertStaticContent:fe}=i,$=(_,N,P,j=null,V=null,k=null,G=void 0,U=null,q=!!N.dynamicChildren)=>{if(_===N)return;_&&!Vr(_,N)&&(j=Rn(_),Qe(_,V,k,!0),_=null),N.patchFlag===-2&&(q=!1,N.dynamicChildren=null);const{type:v,ref:ue,shapeFlag:te}=N;switch(v){case Fi:me(_,N,P,j);break;case cr:Ae(_,N,P,j);break;case hs:_==null&&ce(N,P,j,G);break;case an:de(_,N,P,j,V,k,G,U,q);break;default:te&1?We(_,N,P,j,V,k,G,U,q):te&6?Re(_,N,P,j,V,k,G,U,q):(te&64||te&128)&&v.process(_,N,P,j,V,k,G,U,q,nn)}ue!=null&&V&&Si(ue,_&&_.ref,k,N||_,!N)},me=(_,N,P,j)=>{if(_==null)f(N.el=E(N.children),P,j);else{const V=N.el=_.el;N.children!==_.children&&w(V,N.children)}},Ae=(_,N,P,j)=>{_==null?f(N.el=I(N.children||""),P,j):N.el=_.el},ce=(_,N,P,j)=>{[_.el,_.anchor]=fe(_.children,N,P,j,_.el,_.anchor)},ne=({el:_,anchor:N},P,j)=>{let V;for(;_&&_!==N;)V=z(_),f(_,P,j),_=V;f(N,P,j)},ee=({el:_,anchor:N})=>{let P;for(;_&&_!==N;)P=z(_),d(_),_=P;d(N)},We=(_,N,P,j,V,k,G,U,q)=>{N.type==="svg"?G="svg":N.type==="math"&&(G="mathml"),_==null?Ne(N,P,j,V,k,G,U,q):K(_,N,V,k,G,U,q)},Ne=(_,N,P,j,V,k,G,U)=>{let q,v;const{props:ue,shapeFlag:te,transition:oe,dirs:xe}=_;if(q=_.el=p(_.type,k,ue&&ue.is,ue),te&8?S(q,_.children):te&16&&Te(_.children,q,null,j,V,us(_,k),G,U),xe&&nr(_,null,j,"created"),X(q,_,_.scopeId,G,j),ue){for(const Ve in ue)Ve!=="value"&&!Gr(Ve)&&h(q,Ve,null,ue[Ve],k,j);"value"in ue&&h(q,"value",null,ue.value,k),(v=ue.onVnodeBeforeMount)&&An(v,j,_)}xe&&nr(_,null,j,"beforeMount");const we=w1(V,oe);we&&oe.beforeEnter(q),f(q,N,P),((v=ue&&ue.onVnodeMounted)||we||xe)&&Wt(()=>{v&&An(v,j,_),we&&oe.enter(q),xe&&nr(_,null,j,"mounted")},V)},X=(_,N,P,j,V)=>{if(P&&W(_,P),j)for(let k=0;k<j.length;k++)W(_,j[k]);if(V){let k=V.subTree;if(N===k||il(k.type)&&(k.ssContent===N||k.ssFallback===N)){const G=V.vnode;X(_,G,G.scopeId,G.slotScopeIds,V.parent)}}},Te=(_,N,P,j,V,k,G,U,q=0)=>{for(let v=q;v<_.length;v++){const ue=_[v]=U?zn(_[v]):En(_[v]);$(null,ue,N,P,j,V,k,G,U)}},K=(_,N,P,j,V,k,G)=>{const U=N.el=_.el;let{patchFlag:q,dynamicChildren:v,dirs:ue}=N;q|=_.patchFlag&16;const te=_.props||Ke,oe=N.props||Ke;let xe;if(P&&rr(P,!1),(xe=oe.onVnodeBeforeUpdate)&&An(xe,P,N,_),ue&&nr(N,_,P,"beforeUpdate"),P&&rr(P,!0),(te.innerHTML&&oe.innerHTML==null||te.textContent&&oe.textContent==null)&&S(U,""),v?Bt(_.dynamicChildren,v,U,P,j,us(N,V),k):G||Be(_,N,U,null,P,j,us(N,V),k,!1),q>0){if(q&16)ht(U,te,oe,P,V);else if(q&2&&te.class!==oe.class&&h(U,"class",null,oe.class,V),q&4&&h(U,"style",te.style,oe.style,V),q&8){const we=N.dynamicProps;for(let Ve=0;Ve<we.length;Ve++){const be=we[Ve],je=te[be],Ct=oe[be];(Ct!==je||be==="value")&&h(U,be,je,Ct,V,P)}}q&1&&_.children!==N.children&&S(U,N.children)}else!G&&v==null&&ht(U,te,oe,P,V);((xe=oe.onVnodeUpdated)||ue)&&Wt(()=>{xe&&An(xe,P,N,_),ue&&nr(N,_,P,"updated")},j)},Bt=(_,N,P,j,V,k,G)=>{for(let U=0;U<N.length;U++){const q=_[U],v=N[U],ue=q.el&&(q.type===an||!Vr(q,v)||q.shapeFlag&70)?b(q.el):P;$(q,v,ue,null,j,V,k,G,!0)}},ht=(_,N,P,j,V)=>{if(N!==P){if(N!==Ke)for(const k in N)!Gr(k)&&!(k in P)&&h(_,k,N[k],null,V,j);for(const k in P){if(Gr(k))continue;const G=P[k],U=N[k];G!==U&&k!=="value"&&h(_,k,U,G,V,j)}"value"in P&&h(_,"value",N.value,P.value,V)}},de=(_,N,P,j,V,k,G,U,q)=>{const v=N.el=_?_.el:E(""),ue=N.anchor=_?_.anchor:E("");let{patchFlag:te,dynamicChildren:oe,slotScopeIds:xe}=N;xe&&(U=U?U.concat(xe):xe),_==null?(f(v,P,j),f(ue,P,j),Te(N.children||[],P,ue,V,k,G,U,q)):te>0&&te&64&&oe&&_.dynamicChildren?(Bt(_.dynamicChildren,oe,P,V,k,G,U),(N.key!=null||V&&N===V.subTree)&&$a(_,N,!0)):Be(_,N,P,ue,V,k,G,U,q)},Re=(_,N,P,j,V,k,G,U,q)=>{N.slotScopeIds=U,_==null?N.shapeFlag&512?V.ctx.activate(N,P,j,G,q):ot(N,P,j,V,k,G,q):F(_,N,q)},ot=(_,N,P,j,V,k,G)=>{const U=_.component=F1(_,j,V);if(ka(_)&&(U.ctx.renderer=nn),k1(U,!1,G),U.asyncDep){if(V&&V.registerDep(U,De,G),!_.el){const q=U.subTree=On(cr);Ae(null,q,N,P)}}else De(U,_,N,P,V,k,G)},F=(_,N,P)=>{const j=N.component=_.component;if(b1(_,N,P))if(j.asyncDep&&!j.asyncResolved){se(j,N,P);return}else j.next=N,j.update();else N.el=_.el,j.vnode=N},De=(_,N,P,j,V,k,G)=>{const U=()=>{if(_.isMounted){let{next:te,bu:oe,u:xe,parent:we,vnode:Ve}=_;{const Qt=el(_);if(Qt){te&&(te.el=Ve.el,se(_,te,G)),Qt.asyncDep.then(()=>{_.isUnmounted||U()});return}}let be=te,je;rr(_,!1),te?(te.el=Ve.el,se(_,te,G)):te=Ve,oe&&wi(oe),(je=te.props&&te.props.onVnodeBeforeUpdate)&&An(je,we,te,Ve),rr(_,!0);const Ct=yo(_),Nt=_.subTree;_.subTree=Ct,$(Nt,Ct,b(Nt.el),Rn(Nt),_,V,k),te.el=Ct.el,be===null&&_1(_,Ct.el),xe&&Wt(xe,V),(je=te.props&&te.props.onVnodeUpdated)&&Wt(()=>An(je,we,te,Ve),V)}else{let te;const{el:oe,props:xe}=N,{bm:we,m:Ve,parent:be,root:je,type:Ct}=_,Nt=Zr(N);rr(_,!1),we&&wi(we),!Nt&&(te=xe&&xe.onVnodeBeforeMount)&&An(te,be,N),rr(_,!0);{je.ce&&je.ce._injectChildStyle(Ct);const Qt=_.subTree=yo(_);$(null,Qt,P,j,_,V,k),N.el=Qt.el}if(Ve&&Wt(Ve,V),!Nt&&(te=xe&&xe.onVnodeMounted)){const Qt=N;Wt(()=>An(te,be,Qt),V)}(N.shapeFlag&256||be&&Zr(be.vnode)&&be.vnode.shapeFlag&256)&&_.a&&Wt(_.a,V),_.isMounted=!0,N=P=j=null}};_.scope.on();const q=_.effect=new xa(U);_.scope.off();const v=_.update=q.run.bind(q),ue=_.job=q.runIfDirty.bind(q);ue.i=_,ue.id=_.uid,q.scheduler=()=>Vs(ue),rr(_,!0),v()},se=(_,N,P)=>{N.component=_;const j=_.vnode.props;_.vnode=N,_.next=null,u1(_,N.props,j,P),g1(_,N.children,P),Zn(),go(_),Kn()},Be=(_,N,P,j,V,k,G,U,q=!1)=>{const v=_&&_.children,ue=_?_.shapeFlag:0,te=N.children,{patchFlag:oe,shapeFlag:xe}=N;if(oe>0){if(oe&128){jt(v,te,P,j,V,k,G,U,q);return}else if(oe&256){yt(v,te,P,j,V,k,G,U,q);return}}xe&8?(ue&16&&ae(v,V,k),te!==v&&S(P,te)):ue&16?xe&16?jt(v,te,P,j,V,k,G,U,q):ae(v,V,k,!0):(ue&8&&S(P,""),xe&16&&Te(te,P,j,V,k,G,U,q))},yt=(_,N,P,j,V,k,G,U,q)=>{_=_||yr,N=N||yr;const v=_.length,ue=N.length,te=Math.min(v,ue);let oe;for(oe=0;oe<te;oe++){const xe=N[oe]=q?zn(N[oe]):En(N[oe]);$(_[oe],xe,P,null,V,k,G,U,q)}v>ue?ae(_,V,k,!0,!1,te):Te(N,P,j,V,k,G,U,q,te)},jt=(_,N,P,j,V,k,G,U,q)=>{let v=0;const ue=N.length;let te=_.length-1,oe=ue-1;for(;v<=te&&v<=oe;){const xe=_[v],we=N[v]=q?zn(N[v]):En(N[v]);if(Vr(xe,we))$(xe,we,P,null,V,k,G,U,q);else break;v++}for(;v<=te&&v<=oe;){const xe=_[te],we=N[oe]=q?zn(N[oe]):En(N[oe]);if(Vr(xe,we))$(xe,we,P,null,V,k,G,U,q);else break;te--,oe--}if(v>te){if(v<=oe){const xe=oe+1,we=xe<ue?N[xe].el:j;for(;v<=oe;)$(null,N[v]=q?zn(N[v]):En(N[v]),P,we,V,k,G,U,q),v++}}else if(v>oe)for(;v<=te;)Qe(_[v],V,k,!0),v++;else{const xe=v,we=v,Ve=new Map;for(v=we;v<=oe;v++){const ve=N[v]=q?zn(N[v]):En(N[v]);ve.key!=null&&Ve.set(ve.key,v)}let be,je=0;const Ct=oe-we+1;let Nt=!1,Qt=0;const qe=new Array(Ct);for(v=0;v<Ct;v++)qe[v]=0;for(v=xe;v<=te;v++){const ve=_[v];if(je>=Ct){Qe(ve,V,k,!0);continue}let _e;if(ve.key!=null)_e=Ve.get(ve.key);else for(be=we;be<=oe;be++)if(qe[be-we]===0&&Vr(ve,N[be])){_e=be;break}_e===void 0?Qe(ve,V,k,!0):(qe[_e-we]=v+1,_e>=Qt?Qt=_e:Nt=!0,$(ve,N[_e],P,null,V,k,G,U,q),je++)}const J=Nt?A1(qe):yr;for(be=J.length-1,v=Ct-1;v>=0;v--){const ve=we+v,_e=N[ve],et=ve+1<ue?N[ve+1].el:j;qe[v]===0?$(null,_e,P,et,V,k,G,U,q):Nt&&(be<0||v!==J[be]?un(_e,P,et,2):be--)}}},un=(_,N,P,j,V=null)=>{const{el:k,type:G,transition:U,children:q,shapeFlag:v}=_;if(v&6){un(_.component.subTree,N,P,j);return}if(v&128){_.suspense.move(N,P,j);return}if(v&64){G.move(_,N,P,nn);return}if(G===an){f(k,N,P);for(let te=0;te<q.length;te++)un(q[te],N,P,j);f(_.anchor,N,P);return}if(G===hs){ne(_,N,P);return}if(j!==2&&v&1&&U)if(j===0)U.beforeEnter(k),f(k,N,P),Wt(()=>U.enter(k),V);else{const{leave:te,delayLeave:oe,afterLeave:xe}=U,we=()=>f(k,N,P),Ve=()=>{te(k,()=>{we(),xe&&xe()})};oe?oe(k,we,Ve):Ve()}else f(k,N,P)},Qe=(_,N,P,j=!1,V=!1)=>{const{type:k,props:G,ref:U,children:q,dynamicChildren:v,shapeFlag:ue,patchFlag:te,dirs:oe,cacheIndex:xe}=_;if(te===-2&&(V=!1),U!=null&&Si(U,null,P,_,!0),xe!=null&&(N.renderCache[xe]=void 0),ue&256){N.ctx.deactivate(_);return}const we=ue&1&&oe,Ve=!Zr(_);let be;if(Ve&&(be=G&&G.onVnodeBeforeUnmount)&&An(be,N,_),ue&6)Or(_.component,P,j);else{if(ue&128){_.suspense.unmount(P,j);return}we&&nr(_,null,N,"beforeUnmount"),ue&64?_.type.remove(_,N,P,nn,j):v&&!v.hasOnce&&(k!==an||te>0&&te&64)?ae(v,N,P,!1,!0):(k===an&&te&384||!V&&ue&16)&&ae(q,N,P),j&&fn(_)}(Ve&&(be=G&&G.onVnodeUnmounted)||we)&&Wt(()=>{be&&An(be,N,_),we&&nr(_,null,N,"unmounted")},P)},fn=_=>{const{type:N,el:P,anchor:j,transition:V}=_;if(N===an){At(P,j);return}if(N===hs){ee(_);return}const k=()=>{d(P),V&&!V.persisted&&V.afterLeave&&V.afterLeave()};if(_.shapeFlag&1&&V&&!V.persisted){const{leave:G,delayLeave:U}=V,q=()=>G(P,k);U?U(_.el,k,q):q()}else k()},At=(_,N)=>{let P;for(;_!==N;)P=z(_),d(_),_=P;d(N)},Or=(_,N,P)=>{const{bum:j,scope:V,job:k,subTree:G,um:U,m:q,a:v}=_;Io(q),Io(v),j&&wi(j),V.stop(),k&&(k.flags|=8,Qe(G,_,N,P)),U&&Wt(U,N),Wt(()=>{_.isUnmounted=!0},N),N&&N.pendingBranch&&!N.isUnmounted&&_.asyncDep&&!_.asyncResolved&&_.suspenseId===N.pendingId&&(N.deps--,N.deps===0&&N.resolve())},ae=(_,N,P,j=!1,V=!1,k=0)=>{for(let G=k;G<_.length;G++)Qe(_[G],N,P,j,V)},Rn=_=>{if(_.shapeFlag&6)return Rn(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const N=z(_.anchor||_.el),P=N&&N[Uc];return P?z(P):N};let at=!1;const vn=(_,N,P)=>{_==null?N._vnode&&Qe(N._vnode,null,null,!0):$(N._vnode||null,_,N,null,null,null,P),N._vnode=_,at||(at=!0,go(),La(),at=!1)},nn={p:$,um:Qe,m:un,r:fn,mt:ot,mc:Te,pc:Be,pbc:Bt,n:Rn,o:i};return{render:vn,hydrate:void 0,createApp:a1(vn)}}function us({type:i,props:o},l){return l==="svg"&&i==="foreignObject"||l==="mathml"&&i==="annotation-xml"&&o&&o.encoding&&o.encoding.includes("html")?void 0:l}function rr({effect:i,job:o},l){l?(i.flags|=32,o.flags|=4):(i.flags&=-33,o.flags&=-5)}function w1(i,o){return(!i||i&&!i.pendingBranch)&&o&&!o.persisted}function $a(i,o,l=!1){const f=i.children,d=o.children;if(Ce(f)&&Ce(d))for(let h=0;h<f.length;h++){const p=f[h];let E=d[h];E.shapeFlag&1&&!E.dynamicChildren&&((E.patchFlag<=0||E.patchFlag===32)&&(E=d[h]=zn(d[h]),E.el=p.el),!l&&E.patchFlag!==-2&&$a(p,E)),E.type===Fi&&(E.el=p.el)}}function A1(i){const o=i.slice(),l=[0];let f,d,h,p,E;const I=i.length;for(f=0;f<I;f++){const w=i[f];if(w!==0){if(d=l[l.length-1],i[d]<w){o[f]=d,l.push(f);continue}for(h=0,p=l.length-1;h<p;)E=h+p>>1,i[l[E]]<w?h=E+1:p=E;w<i[l[h]]&&(h>0&&(o[f]=l[h-1]),l[h]=f)}}for(h=l.length,p=l[h-1];h-- >0;)l[h]=p,p=o[p];return l}function el(i){const o=i.subTree.component;if(o)return o.asyncDep&&!o.asyncResolved?o:el(o)}function Io(i){if(i)for(let o=0;o<i.length;o++)i[o].flags|=8}const C1=Symbol.for("v-scx"),m1=()=>Ai(C1);function fs(i,o,l){return tl(i,o,l)}function tl(i,o,l=Ke){const{immediate:f,deep:d,flush:h,once:p}=l,E=Lt({},l),I=o&&f||!o&&h!=="post";let w;if(ti){if(h==="sync"){const W=m1();w=W.__watcherHandles||(W.__watcherHandles=[])}else if(!I){const W=()=>{};return W.stop=In,W.resume=In,W.pause=In,W}}const S=Rt;E.call=(W,fe,$)=>yn(W,S,fe,$);let b=!1;h==="post"?E.scheduler=W=>{Wt(W,S&&S.suspense)}:h!=="sync"&&(b=!0,E.scheduler=(W,fe)=>{fe?W():Vs(W)}),E.augmentJob=W=>{o&&(W.flags|=4),b&&(W.flags|=2,S&&(W.id=S.uid,W.i=S))};const z=vc(i,o,E);return ti&&(w?w.push(z):I&&z()),z}function E1(i,o,l){const f=this.proxy,d=dt(i)?i.includes(".")?nl(f,i):()=>f[i]:i.bind(f,f);let h;Ie(o)?h=o:(h=o.handler,l=o);const p=ri(this),E=tl(d,h.bind(f),l);return p(),E}function nl(i,o){const l=o.split(".");return()=>{let f=i;for(let d=0;d<l.length&&f;d++)f=f[l[d]];return f}}const I1=(i,o)=>o==="modelValue"||o==="model-value"?i.modelModifiers:i[`${o}Modifiers`]||i[`${Wn(o)}Modifiers`]||i[`${Xn(o)}Modifiers`];function y1(i,o,...l){if(i.isUnmounted)return;const f=i.vnode.props||Ke;let d=l;const h=o.startsWith("update:"),p=h&&I1(f,o.slice(7));p&&(p.trim&&(d=l.map(S=>dt(S)?S.trim():S)),p.number&&(d=l.map(ps)));let E,I=f[E=is(o)]||f[E=is(Wn(o))];!I&&h&&(I=f[E=is(Xn(o))]),I&&yn(I,i,6,d);const w=f[E+"Once"];if(w){if(!i.emitted)i.emitted={};else if(i.emitted[E])return;i.emitted[E]=!0,yn(w,i,6,d)}}function rl(i,o,l=!1){const f=o.emitsCache,d=f.get(i);if(d!==void 0)return d;const h=i.emits;let p={},E=!1;if(!Ie(i)){const I=w=>{const S=rl(w,o,!0);S&&(E=!0,Lt(p,S))};!l&&o.mixins.length&&o.mixins.forEach(I),i.extends&&I(i.extends),i.mixins&&i.mixins.forEach(I)}return!h&&!E?(st(i)&&f.set(i,null),null):(Ce(h)?h.forEach(I=>p[I]=null):Lt(p,h),st(i)&&f.set(i,p),p)}function Pi(i,o){return!i||!Mi(o)?!1:(o=o.slice(2).replace(/Once$/,""),He(i,o[0].toLowerCase()+o.slice(1))||He(i,Xn(o))||He(i,o))}function yo(i){const{type:o,vnode:l,proxy:f,withProxy:d,propsOptions:[h],slots:p,attrs:E,emit:I,render:w,renderCache:S,props:b,data:z,setupState:W,ctx:fe,inheritAttrs:$}=i,me=yi(i);let Ae,ce;try{if(l.shapeFlag&4){const ee=d||f,We=ee;Ae=En(w.call(We,ee,S,b,W,z,fe)),ce=E}else{const ee=o;Ae=En(ee.length>1?ee(b,{attrs:E,slots:p,emit:I}):ee(b,null)),ce=o.props?E:S1(E)}}catch(ee){Qr.length=0,Li(ee,i,1),Ae=On(cr)}let ne=Ae;if(ce&&$!==!1){const ee=Object.keys(ce),{shapeFlag:We}=ne;ee.length&&We&7&&(h&&ee.some(Os)&&(ce=T1(ce,h)),ne=Mr(ne,ce,!1,!0))}return l.dirs&&(ne=Mr(ne,null,!1,!0),ne.dirs=ne.dirs?ne.dirs.concat(l.dirs):l.dirs),l.transition&&js(ne,l.transition),Ae=ne,yi(me),Ae}const S1=i=>{let o;for(const l in i)(l==="class"||l==="style"||Mi(l))&&((o||(o={}))[l]=i[l]);return o},T1=(i,o)=>{const l={};for(const f in i)(!Os(f)||!(f.slice(9)in o))&&(l[f]=i[f]);return l};function b1(i,o,l){const{props:f,children:d,component:h}=i,{props:p,children:E,patchFlag:I}=o,w=h.emitsOptions;if(o.dirs||o.transition)return!0;if(l&&I>=0){if(I&1024)return!0;if(I&16)return f?So(f,p,w):!!p;if(I&8){const S=o.dynamicProps;for(let b=0;b<S.length;b++){const z=S[b];if(p[z]!==f[z]&&!Pi(w,z))return!0}}}else return(d||E)&&(!E||!E.$stable)?!0:f===p?!1:f?p?So(f,p,w):!0:!!p;return!1}function So(i,o,l){const f=Object.keys(o);if(f.length!==Object.keys(i).length)return!0;for(let d=0;d<f.length;d++){const h=f[d];if(o[h]!==i[h]&&!Pi(l,h))return!0}return!1}function _1({vnode:i,parent:o},l){for(;o;){const f=o.subTree;if(f.suspense&&f.suspense.activeBranch===i&&(f.el=i.el),f===i)(i=o.vnode).el=l,o=o.parent;else break}}const il=i=>i.__isSuspense;function N1(i,o){o&&o.pendingBranch?Ce(i)?o.effects.push(...i):o.effects.push(i):Fc(i)}const an=Symbol.for("v-fgt"),Fi=Symbol.for("v-txt"),cr=Symbol.for("v-cmt"),hs=Symbol.for("v-stc"),Qr=[];let Kt=null;function Tn(i=!1){Qr.push(Kt=i?null:[])}function M1(){Qr.pop(),Kt=Qr[Qr.length-1]||null}let ei=1;function To(i,o=!1){ei+=i,i<0&&Kt&&o&&(Kt.hasOnce=!0)}function sl(i){return i.dynamicChildren=ei>0?Kt||yr:null,M1(),ei>0&&Kt&&Kt.push(i),i}function Hn(i,o,l,f,d,h){return sl(Pe(i,o,l,f,d,h,!0))}function O1(i,o,l,f,d){return sl(On(i,o,l,f,d,!0))}function ol(i){return i?i.__v_isVNode===!0:!1}function Vr(i,o){return i.type===o.type&&i.key===o.key}const al=({key:i})=>i??null,Ci=({ref:i,ref_key:o,ref_for:l})=>(typeof i=="number"&&(i=""+i),i!=null?dt(i)||vt(i)||Ie(i)?{i:tn,r:i,k:o,f:!!l}:i:null);function Pe(i,o=null,l=null,f=0,d=null,h=i===an?0:1,p=!1,E=!1){const I={__v_isVNode:!0,__v_skip:!0,type:i,props:o,key:o&&al(o),ref:o&&Ci(o),scopeId:Pa,slotScopeIds:null,children:l,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:h,patchFlag:f,dynamicProps:d,dynamicChildren:null,appContext:null,ctx:tn};return E?(Ws(I,l),h&128&&i.normalize(I)):l&&(I.shapeFlag|=dt(l)?8:16),ei>0&&!p&&Kt&&(I.patchFlag>0||h&6)&&I.patchFlag!==32&&Kt.push(I),I}const On=D1;function D1(i,o=null,l=null,f=0,d=null,h=!1){if((!i||i===$c)&&(i=cr),ol(i)){const E=Mr(i,o,!0);return l&&Ws(E,l),ei>0&&!h&&Kt&&(E.shapeFlag&6?Kt[Kt.indexOf(i)]=E:Kt.push(E)),E.patchFlag=-2,E}if(j1(i)&&(i=i.__vccOpts),o){o=R1(o);let{class:E,style:I}=o;E&&!dt(E)&&(o.class=or(E)),st(I)&&(Hs(I)&&!Ce(I)&&(I=Lt({},I)),o.style=vs(I))}const p=dt(i)?1:il(i)?128:Hc(i)?64:st(i)?4:Ie(i)?2:0;return Pe(i,o,l,f,d,p,h,!0)}function R1(i){return i?Hs(i)||Ya(i)?Lt({},i):i:null}function Mr(i,o,l=!1,f=!1){const{props:d,ref:h,patchFlag:p,children:E,transition:I}=i,w=o?L1(d||{},o):d,S={__v_isVNode:!0,__v_skip:!0,type:i.type,props:w,key:w&&al(w),ref:o&&o.ref?l&&h?Ce(h)?h.concat(Ci(o)):[h,Ci(o)]:Ci(o):h,scopeId:i.scopeId,slotScopeIds:i.slotScopeIds,children:E,target:i.target,targetStart:i.targetStart,targetAnchor:i.targetAnchor,staticCount:i.staticCount,shapeFlag:i.shapeFlag,patchFlag:o&&i.type!==an?p===-1?16:p|16:p,dynamicProps:i.dynamicProps,dynamicChildren:i.dynamicChildren,appContext:i.appContext,dirs:i.dirs,transition:I,component:i.component,suspense:i.suspense,ssContent:i.ssContent&&Mr(i.ssContent),ssFallback:i.ssFallback&&Mr(i.ssFallback),el:i.el,anchor:i.anchor,ctx:i.ctx,ce:i.ce};return I&&f&&js(S,I.clone(S)),S}function sr(i=" ",o=0){return On(Fi,null,i,o)}function v1(i="",o=!1){return o?(Tn(),O1(cr,null,i)):On(cr,null,i)}function En(i){return i==null||typeof i=="boolean"?On(cr):Ce(i)?On(an,null,i.slice()):ol(i)?zn(i):On(Fi,null,String(i))}function zn(i){return i.el===null&&i.patchFlag!==-1||i.memo?i:Mr(i)}function Ws(i,o){let l=0;const{shapeFlag:f}=i;if(o==null)o=null;else if(Ce(o))l=16;else if(typeof o=="object")if(f&65){const d=o.default;d&&(d._c&&(d._d=!1),Ws(i,d()),d._c&&(d._d=!0));return}else{l=32;const d=o._;!d&&!Ya(o)?o._ctx=tn:d===3&&tn&&(tn.slots._===1?o._=1:(o._=2,i.patchFlag|=1024))}else Ie(o)?(o={default:o,_ctx:tn},l=32):(o=String(o),f&64?(l=16,o=[sr(o)]):l=8);i.children=o,i.shapeFlag|=l}function L1(...i){const o={};for(let l=0;l<i.length;l++){const f=i[l];for(const d in f)if(d==="class")o.class!==f.class&&(o.class=or([o.class,f.class]));else if(d==="style")o.style=vs([o.style,f.style]);else if(Mi(d)){const h=o[d],p=f[d];p&&h!==p&&!(Ce(h)&&h.includes(p))&&(o[d]=h?[].concat(h,p):p)}else d!==""&&(o[d]=f[d])}return o}function An(i,o,l,f=null){yn(i,o,7,[l,f])}const B1=za();let P1=0;function F1(i,o,l){const f=i.type,d=(o?o.appContext:i.appContext)||B1,h={uid:P1++,vnode:i,type:f,parent:o,appContext:d,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new oc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:o?o.provides:Object.create(d.provides),ids:o?o.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Za(f,d),emitsOptions:rl(f,d),emit:null,emitted:null,propsDefaults:Ke,inheritAttrs:f.inheritAttrs,ctx:Ke,data:Ke,props:Ke,attrs:Ke,slots:Ke,refs:Ke,setupState:Ke,setupContext:null,suspense:l,suspenseId:l?l.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return h.ctx={_:h},h.root=o?o.root:h,h.emit=y1.bind(null,h),i.ce&&i.ce(h),h}let Rt=null,bi,bs;{const i=Ri(),o=(l,f)=>{let d;return(d=i[l])||(d=i[l]=[]),d.push(f),h=>{d.length>1?d.forEach(p=>p(h)):d[0](h)}};bi=o("__VUE_INSTANCE_SETTERS__",l=>Rt=l),bs=o("__VUE_SSR_SETTERS__",l=>ti=l)}const ri=i=>{const o=Rt;return bi(i),i.scope.on(),()=>{i.scope.off(),bi(o)}},bo=()=>{Rt&&Rt.scope.off(),bi(null)};function ll(i){return i.vnode.shapeFlag&4}let ti=!1;function k1(i,o=!1,l=!1){o&&bs(o);const{props:f,children:d}=i.vnode,h=ll(i);c1(i,f,h,o),d1(i,d,l);const p=h?U1(i,o):void 0;return o&&bs(!1),p}function U1(i,o){const l=i.type;i.accessCache=Object.create(null),i.proxy=new Proxy(i.ctx,e1);const{setup:f}=l;if(f){Zn();const d=i.setupContext=f.length>1?V1(i):null,h=ri(i),p=ni(f,i,0,[i.props,d]),E=aa(p);if(Kn(),h(),(E||i.sp)&&!Zr(i)&&Fa(i),E){if(p.then(bo,bo),o)return p.then(I=>{_o(i,I)}).catch(I=>{Li(I,i,0)});i.asyncDep=p}else _o(i,p)}else cl(i)}function _o(i,o,l){Ie(o)?i.type.__ssrInlineRender?i.ssrRender=o:i.render=o:st(o)&&(i.setupState=Da(o)),cl(i)}function cl(i,o,l){const f=i.type;i.render||(i.render=f.render||In);{const d=ri(i);Zn();try{t1(i)}finally{Kn(),d()}}}const H1={get(i,o){return bt(i,"get",""),i[o]}};function V1(i){const o=l=>{i.exposed=l||{}};return{attrs:new Proxy(i.attrs,H1),slots:i.slots,emit:i.emit,expose:o}}function ki(i){return i.exposed?i.exposeProxy||(i.exposeProxy=new Proxy(Da(_c(i.exposed)),{get(o,l){if(l in o)return o[l];if(l in Kr)return Kr[l](i)},has(o,l){return l in o||l in Kr}})):i.proxy}function j1(i){return Ie(i)&&"__vccOpts"in i}const z1=(i,o)=>Dc(i,o,ti),W1="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let _s;const No=typeof window<"u"&&window.trustedTypes;if(No)try{_s=No.createPolicy("vue",{createHTML:i=>i})}catch{}const ul=_s?i=>_s.createHTML(i):i=>i,G1="http://www.w3.org/2000/svg",Y1="http://www.w3.org/1998/Math/MathML",bn=typeof document<"u"?document:null,Mo=bn&&bn.createElement("template"),X1={insert:(i,o,l)=>{o.insertBefore(i,l||null)},remove:i=>{const o=i.parentNode;o&&o.removeChild(i)},createElement:(i,o,l,f)=>{const d=o==="svg"?bn.createElementNS(G1,i):o==="mathml"?bn.createElementNS(Y1,i):l?bn.createElement(i,{is:l}):bn.createElement(i);return i==="select"&&f&&f.multiple!=null&&d.setAttribute("multiple",f.multiple),d},createText:i=>bn.createTextNode(i),createComment:i=>bn.createComment(i),setText:(i,o)=>{i.nodeValue=o},setElementText:(i,o)=>{i.textContent=o},parentNode:i=>i.parentNode,nextSibling:i=>i.nextSibling,querySelector:i=>bn.querySelector(i),setScopeId(i,o){i.setAttribute(o,"")},insertStaticContent(i,o,l,f,d,h){const p=l?l.previousSibling:o.lastChild;if(d&&(d===h||d.nextSibling))for(;o.insertBefore(d.cloneNode(!0),l),!(d===h||!(d=d.nextSibling)););else{Mo.innerHTML=ul(f==="svg"?`<svg>${i}</svg>`:f==="mathml"?`<math>${i}</math>`:i);const E=Mo.content;if(f==="svg"||f==="mathml"){const I=E.firstChild;for(;I.firstChild;)E.appendChild(I.firstChild);E.removeChild(I)}o.insertBefore(E,l)}return[p?p.nextSibling:o.firstChild,l?l.previousSibling:o.lastChild]}},Z1=Symbol("_vtc");function K1(i,o,l){const f=i[Z1];f&&(o=(o?[o,...f]:[...f]).join(" ")),o==null?i.removeAttribute("class"):l?i.setAttribute("class",o):i.className=o}const Oo=Symbol("_vod"),Q1=Symbol("_vsh"),q1=Symbol(""),J1=/(^|;)\s*display\s*:/;function $1(i,o,l){const f=i.style,d=dt(l);let h=!1;if(l&&!d){if(o)if(dt(o))for(const p of o.split(";")){const E=p.slice(0,p.indexOf(":")).trim();l[E]==null&&mi(f,E,"")}else for(const p in o)l[p]==null&&mi(f,p,"");for(const p in l)p==="display"&&(h=!0),mi(f,p,l[p])}else if(d){if(o!==l){const p=f[q1];p&&(l+=";"+p),f.cssText=l,h=J1.test(l)}}else o&&i.removeAttribute("style");Oo in i&&(i[Oo]=h?f.display:"",i[Q1]&&(f.display="none"))}const Do=/\s*!important$/;function mi(i,o,l){if(Ce(l))l.forEach(f=>mi(i,o,f));else if(l==null&&(l=""),o.startsWith("--"))i.setProperty(o,l);else{const f=e0(i,o);Do.test(l)?i.setProperty(Xn(f),l.replace(Do,""),"important"):i[f]=l}}const Ro=["Webkit","Moz","ms"],ds={};function e0(i,o){const l=ds[o];if(l)return l;let f=Wn(o);if(f!=="filter"&&f in i)return ds[o]=f;f=ua(f);for(let d=0;d<Ro.length;d++){const h=Ro[d]+f;if(h in i)return ds[o]=h}return o}const vo="http://www.w3.org/1999/xlink";function Lo(i,o,l,f,d,h=sc(o)){f&&o.startsWith("xlink:")?l==null?i.removeAttributeNS(vo,o.slice(6,o.length)):i.setAttributeNS(vo,o,l):l==null||h&&!ha(l)?i.removeAttribute(o):i.setAttribute(o,h?"":Yn(l)?String(l):l)}function Bo(i,o,l,f,d){if(o==="innerHTML"||o==="textContent"){l!=null&&(i[o]=o==="innerHTML"?ul(l):l);return}const h=i.tagName;if(o==="value"&&h!=="PROGRESS"&&!h.includes("-")){const E=h==="OPTION"?i.getAttribute("value")||"":i.value,I=l==null?i.type==="checkbox"?"on":"":String(l);(E!==I||!("_value"in i))&&(i.value=I),l==null&&i.removeAttribute(o),i._value=l;return}let p=!1;if(l===""||l==null){const E=typeof i[o];E==="boolean"?l=ha(l):l==null&&E==="string"?(l="",p=!0):E==="number"&&(l=0,p=!0)}try{i[o]=l}catch{}p&&i.removeAttribute(d||o)}function Er(i,o,l,f){i.addEventListener(o,l,f)}function t0(i,o,l,f){i.removeEventListener(o,l,f)}const Po=Symbol("_vei");function n0(i,o,l,f,d=null){const h=i[Po]||(i[Po]={}),p=h[o];if(f&&p)p.value=f;else{const[E,I]=r0(o);if(f){const w=h[o]=o0(f,d);Er(i,E,w,I)}else p&&(t0(i,E,p,I),h[o]=void 0)}}const Fo=/(?:Once|Passive|Capture)$/;function r0(i){let o;if(Fo.test(i)){o={};let f;for(;f=i.match(Fo);)i=i.slice(0,i.length-f[0].length),o[f[0].toLowerCase()]=!0}return[i[2]===":"?i.slice(3):Xn(i.slice(2)),o]}let gs=0;const i0=Promise.resolve(),s0=()=>gs||(i0.then(()=>gs=0),gs=Date.now());function o0(i,o){const l=f=>{if(!f._vts)f._vts=Date.now();else if(f._vts<=l.attached)return;yn(a0(f,l.value),o,5,[f])};return l.value=i,l.attached=s0(),l}function a0(i,o){if(Ce(o)){const l=i.stopImmediatePropagation;return i.stopImmediatePropagation=()=>{l.call(i),i._stopped=!0},o.map(f=>d=>!d._stopped&&f&&f(d))}else return o}const ko=i=>i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)>96&&i.charCodeAt(2)<123,l0=(i,o,l,f,d,h)=>{const p=d==="svg";o==="class"?K1(i,f,p):o==="style"?$1(i,l,f):Mi(o)?Os(o)||n0(i,o,l,f,h):(o[0]==="."?(o=o.slice(1),!0):o[0]==="^"?(o=o.slice(1),!1):c0(i,o,f,p))?(Bo(i,o,f),!i.tagName.includes("-")&&(o==="value"||o==="checked"||o==="selected")&&Lo(i,o,f,p,h,o!=="value")):i._isVueCE&&(/[A-Z]/.test(o)||!dt(f))?Bo(i,Wn(o),f,h,o):(o==="true-value"?i._trueValue=f:o==="false-value"&&(i._falseValue=f),Lo(i,o,f,p))};function c0(i,o,l,f){if(f)return!!(o==="innerHTML"||o==="textContent"||o in i&&ko(o)&&Ie(l));if(o==="spellcheck"||o==="draggable"||o==="translate"||o==="form"||o==="list"&&i.tagName==="INPUT"||o==="type"&&i.tagName==="TEXTAREA")return!1;if(o==="width"||o==="height"){const d=i.tagName;if(d==="IMG"||d==="VIDEO"||d==="CANVAS"||d==="SOURCE")return!1}return ko(o)&&dt(l)?!1:o in i}const Uo=i=>{const o=i.props["onUpdate:modelValue"]||!1;return Ce(o)?l=>wi(o,l):o};function u0(i){i.target.composing=!0}function Ho(i){const o=i.target;o.composing&&(o.composing=!1,o.dispatchEvent(new Event("input")))}const xs=Symbol("_assign"),Vo={created(i,{modifiers:{lazy:o,trim:l,number:f}},d){i[xs]=Uo(d);const h=f||d.props&&d.props.type==="number";Er(i,o?"change":"input",p=>{if(p.target.composing)return;let E=i.value;l&&(E=E.trim()),h&&(E=ps(E)),i[xs](E)}),l&&Er(i,"change",()=>{i.value=i.value.trim()}),o||(Er(i,"compositionstart",u0),Er(i,"compositionend",Ho),Er(i,"change",Ho))},mounted(i,{value:o}){i.value=o??""},beforeUpdate(i,{value:o,oldValue:l,modifiers:{lazy:f,trim:d,number:h}},p){if(i[xs]=Uo(p),i.composing)return;const E=(h||i.type==="number")&&!/^0\d/.test(i.value)?ps(i.value):i.value,I=o??"";E!==I&&(document.activeElement===i&&i.type!=="range"&&(f&&o===l||d&&i.value.trim()===I)||(i.value=I))}},f0={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},jo=(i,o)=>{const l=i._withKeys||(i._withKeys={}),f=o.join(".");return l[f]||(l[f]=d=>{if(!("key"in d))return;const h=Xn(d.key);if(o.some(p=>p===h||f0[p]===h))return i(d)})},h0=Lt({patchProp:l0},X1);let zo;function d0(){return zo||(zo=x1(h0))}const g0=(...i)=>{const o=d0().createApp(...i),{mount:l}=o;return o.mount=f=>{const d=p0(f);if(!d)return;const h=o._component;!Ie(h)&&!h.render&&!h.template&&(h.template=d.innerHTML),d.nodeType===1&&(d.textContent="");const p=l(d,!1,x0(d));return d instanceof Element&&(d.removeAttribute("v-cloak"),d.setAttribute("data-v-app","")),p},o};function x0(i){if(i instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&i instanceof MathMLElement)return"mathml"}function p0(i){return dt(i)?document.querySelector(i):i}var ie;(function(i){i[i.QR_CODE=0]="QR_CODE",i[i.AZTEC=1]="AZTEC",i[i.CODABAR=2]="CODABAR",i[i.CODE_39=3]="CODE_39",i[i.CODE_93=4]="CODE_93",i[i.CODE_128=5]="CODE_128",i[i.DATA_MATRIX=6]="DATA_MATRIX",i[i.MAXICODE=7]="MAXICODE",i[i.ITF=8]="ITF",i[i.EAN_13=9]="EAN_13",i[i.EAN_8=10]="EAN_8",i[i.PDF_417=11]="PDF_417",i[i.RSS_14=12]="RSS_14",i[i.RSS_EXPANDED=13]="RSS_EXPANDED",i[i.UPC_A=14]="UPC_A",i[i.UPC_E=15]="UPC_E",i[i.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ie||(ie={}));var Wo=new Map([[ie.QR_CODE,"QR_CODE"],[ie.AZTEC,"AZTEC"],[ie.CODABAR,"CODABAR"],[ie.CODE_39,"CODE_39"],[ie.CODE_93,"CODE_93"],[ie.CODE_128,"CODE_128"],[ie.DATA_MATRIX,"DATA_MATRIX"],[ie.MAXICODE,"MAXICODE"],[ie.ITF,"ITF"],[ie.EAN_13,"EAN_13"],[ie.EAN_8,"EAN_8"],[ie.PDF_417,"PDF_417"],[ie.RSS_14,"RSS_14"],[ie.RSS_EXPANDED,"RSS_EXPANDED"],[ie.UPC_A,"UPC_A"],[ie.UPC_E,"UPC_E"],[ie.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Go;(function(i){i[i.UNKNOWN=0]="UNKNOWN",i[i.URL=1]="URL"})(Go||(Go={}));function w0(i){return Object.values(ie).includes(i)}var Gn;(function(i){i[i.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",i[i.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Gn||(Gn={}));var on=function(){function i(){}return i.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",i.SCAN_DEFAULT_FPS=2,i.DEFAULT_DISABLE_FLIP=!1,i.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,i.DEFAULT_SUPPORTED_SCAN_TYPE=[Gn.SCAN_TYPE_CAMERA,Gn.SCAN_TYPE_FILE],i}(),fl=function(){function i(o,l){this.format=o,this.formatName=l}return i.prototype.toString=function(){return this.formatName},i.create=function(o){if(!Wo.has(o))throw"".concat(o," not in html5QrcodeSupportedFormatsTextMap");return new i(o,Wo.get(o))},i}(),Yo=function(){function i(){}return i.createFromText=function(o){var l={text:o};return{decodedText:o,result:l}},i.createFromQrcodeResult=function(o){return{decodedText:o.text,result:o}},i}(),Ns;(function(i){i[i.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",i[i.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",i[i.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Ns||(Ns={}));var hl=function(){function i(){}return i.createFrom=function(o){return{errorMessage:o,type:Ns.UNKWOWN_ERROR}},i}(),dl=function(){function i(o){this.verbose=o}return i.prototype.log=function(o){this.verbose&&console.log(o)},i.prototype.warn=function(o){this.verbose&&console.warn(o)},i.prototype.logError=function(o,l){(this.verbose||l===!0)&&console.error(o)},i.prototype.logErrors=function(o){if(o.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(o)},i}();function mn(i){return typeof i>"u"||i===null}function A0(i,o,l){return i>l?l:i<o?o:i}var Ir=function(){function i(){}return i.codeParseError=function(o){return"QR code parse error, error = ".concat(o)},i.errorGettingUserMedia=function(o){return"Error getting userMedia, error = ".concat(o)},i.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},i.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},i.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},i.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},i.scannerPaused=function(){return"Scanner paused"},i}(),ze=function(){function i(){}return i.scanningStatus=function(){return"Scanning"},i.idleStatus=function(){return"Idle"},i.errorStatus=function(){return"Error"},i.permissionStatus=function(){return"Permission"},i.noCameraFoundErrorStatus=function(){return"No Cameras"},i.lastMatch=function(o){return"Last Match: ".concat(o)},i.codeScannerTitle=function(){return"Code Scanner"},i.cameraPermissionTitle=function(){return"Request Camera Permissions"},i.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},i.noCameraFound=function(){return"No camera found"},i.scanButtonStopScanningText=function(){return"Stop Scanning"},i.scanButtonStartScanningText=function(){return"Start Scanning"},i.torchOnButton=function(){return"Switch On Torch"},i.torchOffButton=function(){return"Switch Off Torch"},i.torchOnFailedMessage=function(){return"Failed to turn on torch"},i.torchOffFailedMessage=function(){return"Failed to turn off torch"},i.scanButtonScanningStarting=function(){return"Launching Camera..."},i.textIfCameraScanSelected=function(){return"Scan an Image File"},i.textIfFileScanSelected=function(){return"Scan using camera directly"},i.selectCamera=function(){return"Select Camera"},i.fileSelectionChooseImage=function(){return"Choose Image"},i.fileSelectionChooseAnother=function(){return"Choose Another"},i.fileSelectionNoImageSelected=function(){return"No image choosen"},i.anonymousCameraPrefix=function(){return"Anonymous Camera"},i.dragAndDropMessage=function(){return"Or drop an image to scan"},i.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},i.zoom=function(){return"zoom"},i.loadingImage=function(){return"Loading image..."},i.cameraScanAltText=function(){return"Camera based scan"},i.fileScanAltText=function(){return"Fule based scan"},i}(),Xo=function(){function i(){}return i.poweredBy=function(){return"Powered by "},i.reportIssues=function(){return"Report issues"},i}(),gl=function(){function i(){}return i.isMediaStreamConstraintsValid=function(o,l){if(typeof o!="object"){var f=typeof o;return l.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(f,"."),!0),!1}for(var d=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],h=new Set(d),p=Object.keys(o),E=0,I=p;E<I.length;E++){var w=I[E];if(h.has(w))return l.logError("".concat(w," is not supported videoConstaints."),!0),!1}return!0},i}(),pi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function C0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Wr={exports:{}},m0=Wr.exports,Zo;function E0(){return Zo||(Zo=1,function(i,o){(function(l,f){f(o)})(m0,function(l){function f(A){return A==null}var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,e){A.__proto__=e}||function(A,e){for(var t in e)e.hasOwnProperty(t)&&(A[t]=e[t])};function h(A,e){d(A,e);function t(){this.constructor=A}A.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function p(A,e){var t=Object.setPrototypeOf;t?t(A,e):A.__proto__=e}function E(A,e){e===void 0&&(e=A.constructor);var t=Error.captureStackTrace;t&&t(A,e)}var I=function(A){h(e,A);function e(t){var n=this.constructor,r=A.call(this,t)||this;return Object.defineProperty(r,"name",{value:n.name,enumerable:!1}),p(r,n.prototype),E(r),r}return e}(Error);class w extends I{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}w.kind="Exception";class S extends w{}S.kind="ArgumentException";class b extends w{}b.kind="IllegalArgumentException";class z{constructor(e){if(this.binarizer=e,e===null)throw new b("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,t){return this.binarizer.getBlackRow(e,t)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,t,n,r){const s=this.binarizer.getLuminanceSource().crop(e,t,n,r);return new z(this.binarizer.createBinarizer(s))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new z(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new z(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class W extends w{static getChecksumInstance(){return new W}}W.kind="ChecksumException";class fe{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class ${static arraycopy(e,t,n,r,s){for(;s--;)n[r++]=e[t++]}static currentTimeMillis(){return Date.now()}}class me extends w{}me.kind="IndexOutOfBoundsException";class Ae extends me{constructor(e=void 0,t=void 0){super(t),this.index=e,this.message=t}}Ae.kind="ArrayIndexOutOfBoundsException";class ce{static fill(e,t){for(let n=0,r=e.length;n<r;n++)e[n]=t}static fillWithin(e,t,n,r){ce.rangeCheck(e.length,t,n);for(let s=t;s<n;s++)e[s]=r}static rangeCheck(e,t,n){if(t>n)throw new b("fromIndex("+t+") > toIndex("+n+")");if(t<0)throw new Ae(t);if(n>e)throw new Ae(n)}static asList(...e){return e}static create(e,t,n){return Array.from({length:e}).map(s=>Array.from({length:t}).fill(n))}static createInt32Array(e,t,n){return Array.from({length:e}).map(s=>Int32Array.from({length:t}).fill(n))}static equals(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}static hashCode(e){if(e===null)return 0;let t=1;for(const n of e)t=31*t+n;return t}static fillUint8Array(e,t){for(let n=0;n!==e.length;n++)e[n]=t}static copyOf(e,t){return e.slice(0,t)}static copyOfUint8Array(e,t){if(e.length<=t){const n=new Uint8Array(t);return n.set(e),n}return e.slice(0,t)}static copyOfRange(e,t,n){const r=n-t,s=new Int32Array(r);return $.arraycopy(e,t,s,0,r),s}static binarySearch(e,t,n){n===void 0&&(n=ce.numberComparator);let r=0,s=e.length-1;for(;r<=s;){const a=s+r>>1,c=n(t,e[a]);if(c>0)r=a+1;else if(c<0)s=a-1;else return a}return-r-1}static numberComparator(e,t){return e-t}}class ne{static numberOfTrailingZeros(e){let t;if(e===0)return 32;let n=31;return t=e<<16,t!==0&&(n-=16,e=t),t=e<<8,t!==0&&(n-=8,e=t),t=e<<4,t!==0&&(n-=4,e=t),t=e<<2,t!==0&&(n-=2,e=t),n-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let t=1;return e>>>16||(t+=16,e<<=16),e>>>24||(t+=8,e<<=8),e>>>28||(t+=4,e<<=4),e>>>30||(t+=2,e<<=2),t-=e>>>31,t}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,t){return Math.trunc(e/t)}static parseInt(e,t=void 0){return parseInt(e,t)}}ne.MIN_VALUE_32_BITS=-2147483648,ne.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ee{constructor(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=ee.makeArray(e):this.bits=t)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const t=ee.makeArray(e);$.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const t=this.size;if(e>=t)return t;const n=this.bits;let r=Math.floor(e/32),s=n[r];s&=~((1<<(e&31))-1);const a=n.length;for(;s===0;){if(++r===a)return t;s=n[r]}const c=r*32+ne.numberOfTrailingZeros(s);return c>t?t:c}getNextUnset(e){const t=this.size;if(e>=t)return t;const n=this.bits;let r=Math.floor(e/32),s=~n[r];s&=~((1<<(e&31))-1);const a=n.length;for(;s===0;){if(++r===a)return t;s=~n[r]}const c=r*32+ne.numberOfTrailingZeros(s);return c>t?t:c}setBulk(e,t){this.bits[Math.floor(e/32)]=t}setRange(e,t){if(t<e||e<0||t>this.size)throw new b;if(t===e)return;t--;const n=Math.floor(e/32),r=Math.floor(t/32),s=this.bits;for(let a=n;a<=r;a++){const c=a>n?0:e&31,g=(2<<(a<r?31:t&31))-(1<<c);s[a]|=g}}clear(){const e=this.bits.length,t=this.bits;for(let n=0;n<e;n++)t[n]=0}isRange(e,t,n){if(t<e||e<0||t>this.size)throw new b;if(t===e)return!0;t--;const r=Math.floor(e/32),s=Math.floor(t/32),a=this.bits;for(let c=r;c<=s;c++){const u=c>r?0:e&31,x=(2<<(c<s?31:t&31))-(1<<u)&4294967295;if((a[c]&x)!==(n?x:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,t){if(t<0||t>32)throw new b("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(let n=t;n>0;n--)this.appendBit((e>>n-1&1)===1)}appendBitArray(e){const t=e.size;this.ensureCapacity(this.size+t);for(let n=0;n<t;n++)this.appendBit(e.get(n))}xor(e){if(this.size!==e.size)throw new b("Sizes don't match");const t=this.bits;for(let n=0,r=t.length;n<r;n++)t[n]^=e.bits[n]}toBytes(e,t,n,r){for(let s=0;s<r;s++){let a=0;for(let c=0;c<8;c++)this.get(e)&&(a|=1<<7-c),e++;t[n+s]=a}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),n=t+1,r=this.bits;for(let s=0;s<n;s++){let a=r[s];a=a>>1&1431655765|(a&1431655765)<<1,a=a>>2&858993459|(a&858993459)<<2,a=a>>4&252645135|(a&252645135)<<4,a=a>>8&16711935|(a&16711935)<<8,a=a>>16&65535|(a&65535)<<16,e[t-s]=a}if(this.size!==n*32){const s=n*32-this.size;let a=e[0]>>>s;for(let c=1;c<n;c++){const u=e[c];a|=u<<32-s,e[c-1]=a,a=u>>>s}e[n-1]=a}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof ee))return!1;const t=e;return this.size===t.size&&ce.equals(this.bits,t.bits)}hashCode(){return 31*this.size+ce.hashCode(this.bits)}toString(){let e="";for(let t=0,n=this.size;t<n;t++)(t&7)===0&&(e+=" "),e+=this.get(t)?"X":".";return e}clone(){return new ee(this.size,this.bits.slice())}}var We;(function(A){A[A.OTHER=0]="OTHER",A[A.PURE_BARCODE=1]="PURE_BARCODE",A[A.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",A[A.TRY_HARDER=3]="TRY_HARDER",A[A.CHARACTER_SET=4]="CHARACTER_SET",A[A.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",A[A.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",A[A.ASSUME_GS1=7]="ASSUME_GS1",A[A.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",A[A.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",A[A.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(We||(We={}));var Ne=We;class X extends w{static getFormatInstance(){return new X}}X.kind="FormatException";var Te;(function(A){A[A.Cp437=0]="Cp437",A[A.ISO8859_1=1]="ISO8859_1",A[A.ISO8859_2=2]="ISO8859_2",A[A.ISO8859_3=3]="ISO8859_3",A[A.ISO8859_4=4]="ISO8859_4",A[A.ISO8859_5=5]="ISO8859_5",A[A.ISO8859_6=6]="ISO8859_6",A[A.ISO8859_7=7]="ISO8859_7",A[A.ISO8859_8=8]="ISO8859_8",A[A.ISO8859_9=9]="ISO8859_9",A[A.ISO8859_10=10]="ISO8859_10",A[A.ISO8859_11=11]="ISO8859_11",A[A.ISO8859_13=12]="ISO8859_13",A[A.ISO8859_14=13]="ISO8859_14",A[A.ISO8859_15=14]="ISO8859_15",A[A.ISO8859_16=15]="ISO8859_16",A[A.SJIS=16]="SJIS",A[A.Cp1250=17]="Cp1250",A[A.Cp1251=18]="Cp1251",A[A.Cp1252=19]="Cp1252",A[A.Cp1256=20]="Cp1256",A[A.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",A[A.UTF8=22]="UTF8",A[A.ASCII=23]="ASCII",A[A.Big5=24]="Big5",A[A.GB18030=25]="GB18030",A[A.EUC_KR=26]="EUC_KR"})(Te||(Te={}));class K{constructor(e,t,n,...r){this.valueIdentifier=e,this.name=n,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=r,K.VALUE_IDENTIFIER_TO_ECI.set(e,this),K.NAME_TO_ECI.set(n,this);const s=this.values;for(let a=0,c=s.length;a!==c;a++){const u=s[a];K.VALUES_TO_ECI.set(u,this)}for(const a of r)K.NAME_TO_ECI.set(a,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new X("incorect value");const t=K.VALUES_TO_ECI.get(e);if(t===void 0)throw new X("incorect value");return t}static getCharacterSetECIByName(e){const t=K.NAME_TO_ECI.get(e);if(t===void 0)throw new X("incorect value");return t}equals(e){if(!(e instanceof K))return!1;const t=e;return this.getName()===t.getName()}}K.VALUE_IDENTIFIER_TO_ECI=new Map,K.VALUES_TO_ECI=new Map,K.NAME_TO_ECI=new Map,K.Cp437=new K(Te.Cp437,Int32Array.from([0,2]),"Cp437"),K.ISO8859_1=new K(Te.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),K.ISO8859_2=new K(Te.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),K.ISO8859_3=new K(Te.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),K.ISO8859_4=new K(Te.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),K.ISO8859_5=new K(Te.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),K.ISO8859_6=new K(Te.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),K.ISO8859_7=new K(Te.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),K.ISO8859_8=new K(Te.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),K.ISO8859_9=new K(Te.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),K.ISO8859_10=new K(Te.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),K.ISO8859_11=new K(Te.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),K.ISO8859_13=new K(Te.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),K.ISO8859_14=new K(Te.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),K.ISO8859_15=new K(Te.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),K.ISO8859_16=new K(Te.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),K.SJIS=new K(Te.SJIS,20,"SJIS","Shift_JIS"),K.Cp1250=new K(Te.Cp1250,21,"Cp1250","windows-1250"),K.Cp1251=new K(Te.Cp1251,22,"Cp1251","windows-1251"),K.Cp1252=new K(Te.Cp1252,23,"Cp1252","windows-1252"),K.Cp1256=new K(Te.Cp1256,24,"Cp1256","windows-1256"),K.UnicodeBigUnmarked=new K(Te.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),K.UTF8=new K(Te.UTF8,26,"UTF8","UTF-8"),K.ASCII=new K(Te.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),K.Big5=new K(Te.Big5,28,"Big5"),K.GB18030=new K(Te.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),K.EUC_KR=new K(Te.EUC_KR,30,"EUC_KR","EUC-KR");class Bt extends w{}Bt.kind="UnsupportedOperationException";class ht{static decode(e,t){const n=this.encodingName(t);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)}static shouldDecodeOnFallback(e){return!ht.isBrowser()&&e==="ISO-8859-1"}static encode(e,t){const n=this.encodingName(t);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof K?e:K.getCharacterSetECIByName(e)}static decodeFallback(e,t){const n=this.encodingCharacterSet(t);if(ht.isDecodeFallbackSupported(n)){let r="";for(let s=0,a=e.length;s<a;s++){let c=e[s].toString(16);c.length<2&&(c="0"+c),r+="%"+c}return decodeURIComponent(r)}if(n.equals(K.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Bt(`Encoding ${this.encodingName(t)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(K.UTF8)||e.equals(K.ISO8859_1)||e.equals(K.ASCII)}static encodeFallback(e){const n=btoa(unescape(encodeURIComponent(e))).split(""),r=[];for(let s=0;s<n.length;s++)r.push(n[s].charCodeAt(0));return new Uint8Array(r)}}class de{static castAsNonUtf8Char(e,t=null){const n=t?t.getName():this.ISO88591;return ht.decode(new Uint8Array([e]),n)}static guessEncoding(e,t){if(t!=null&&t.get(Ne.CHARACTER_SET)!==void 0)return t.get(Ne.CHARACTER_SET).toString();const n=e.length;let r=!0,s=!0,a=!0,c=0,u=0,g=0,x=0,C=0,m=0,T=0,M=0,O=0,D=0,B=0;const Z=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let Q=0;Q<n&&(r||s||a);Q++){const Y=e[Q]&255;a&&(c>0?(Y&128)===0?a=!1:c--:(Y&128)!==0&&((Y&64)===0?a=!1:(c++,(Y&32)===0?u++:(c++,(Y&16)===0?g++:(c++,(Y&8)===0?x++:a=!1))))),r&&(Y>127&&Y<160?r=!1:Y>159&&(Y<192||Y===215||Y===247)&&B++),s&&(C>0?Y<64||Y===127||Y>252?s=!1:C--:Y===128||Y===160||Y>239?s=!1:Y>160&&Y<224?(m++,M=0,T++,T>O&&(O=T)):Y>127?(C++,T=0,M++,M>D&&(D=M)):(T=0,M=0))}return a&&c>0&&(a=!1),s&&C>0&&(s=!1),a&&(Z||u+g+x>0)?de.UTF8:s&&(de.ASSUME_SHIFT_JIS||O>=3||D>=3)?de.SHIFT_JIS:r&&s?O===2&&m===2||B*10>=n?de.SHIFT_JIS:de.ISO88591:r?de.ISO88591:s?de.SHIFT_JIS:a?de.UTF8:de.PLATFORM_DEFAULT_ENCODING}static format(e,...t){let n=-1;function r(a,c,u,g,x,C){if(a==="%%")return"%";if(t[++n]===void 0)return;a=g?parseInt(g.substr(1)):void 0;let m=x?parseInt(x.substr(1)):void 0,T;switch(C){case"s":T=t[n];break;case"c":T=t[n][0];break;case"f":T=parseFloat(t[n]).toFixed(a);break;case"p":T=parseFloat(t[n]).toPrecision(a);break;case"e":T=parseFloat(t[n]).toExponential(a);break;case"x":T=parseInt(t[n]).toString(m||16);break;case"d":T=parseFloat(parseInt(t[n],m||10).toPrecision(a)).toFixed(0);break}T=typeof T=="object"?JSON.stringify(T):(+T).toString(m);let M=parseInt(u),O=u&&u[0]+""=="0"?"0":" ";for(;T.length<M;)T=c!==void 0?T+O:O+T;return T}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,r)}static getBytes(e,t){return ht.encode(e,t)}static getCharCode(e,t=0){return e.charCodeAt(t)}static getCharAt(e){return String.fromCharCode(e)}}de.SHIFT_JIS=K.SJIS.getName(),de.GB2312="GB2312",de.ISO88591=K.ISO8859_1.getName(),de.EUC_JP="EUC_JP",de.UTF8=K.UTF8.getName(),de.PLATFORM_DEFAULT_ENCODING=de.UTF8,de.ASSUME_SHIFT_JIS=!1;class Re{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=de.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,t,n){for(let r=t;t<t+n;r++)this.append(e[r]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)}substring(e,t){return this.value.substring(e,t)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+t.length)}}class ot{constructor(e,t,n,r){if(this.width=e,this.height=t,this.rowSize=n,this.bits=r,t==null&&(t=e),this.height=t,e<1||t<1)throw new b("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,r==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const t=e.length,n=e[0].length,r=new ot(n,t);for(let s=0;s<t;s++){const a=e[s];for(let c=0;c<n;c++)a[c]&&r.set(c,s)}return r}static parseFromString(e,t,n){if(e===null)throw new b("stringRepresentation cannot be null");const r=new Array(e.length);let s=0,a=0,c=-1,u=0,g=0;for(;g<e.length;)if(e.charAt(g)===`
`||e.charAt(g)==="\r"){if(s>a){if(c===-1)c=s-a;else if(s-a!==c)throw new b("row lengths do not match");a=s,u++}g++}else if(e.substring(g,g+t.length)===t)g+=t.length,r[s]=!0,s++;else if(e.substring(g,g+n.length)===n)g+=n.length,r[s]=!1,s++;else throw new b("illegal character encountered: "+e.substring(g));if(s>a){if(c===-1)c=s-a;else if(s-a!==c)throw new b("row lengths do not match");u++}const x=new ot(c,u);for(let C=0;C<s;C++)r[C]&&x.set(Math.floor(C%c),Math.floor(C/c));return x}get(e,t){const n=t*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0}set(e,t){const n=t*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295}unset(e,t){const n=t*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)}flip(e,t){const n=t*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new b("input matrix dimensions do not match");const t=new ee(Math.floor(this.width/32)+1),n=this.rowSize,r=this.bits;for(let s=0,a=this.height;s<a;s++){const c=s*n,u=e.getRow(s,t).getBitArray();for(let g=0;g<n;g++)r[c+g]^=u[g]}}clear(){const e=this.bits,t=e.length;for(let n=0;n<t;n++)e[n]=0}setRegion(e,t,n,r){if(t<0||e<0)throw new b("Left and top must be nonnegative");if(r<1||n<1)throw new b("Height and width must be at least 1");const s=e+n,a=t+r;if(a>this.height||s>this.width)throw new b("The region must fit inside the matrix");const c=this.rowSize,u=this.bits;for(let g=t;g<a;g++){const x=g*c;for(let C=e;C<s;C++)u[x+Math.floor(C/32)]|=1<<(C&31)&4294967295}}getRow(e,t){t==null||t.getSize()<this.width?t=new ee(this.width):t.clear();const n=this.rowSize,r=this.bits,s=e*n;for(let a=0;a<n;a++)t.setBulk(a*32,r[s+a]);return t}setRow(e,t){$.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),t=this.getHeight();let n=new ee(e),r=new ee(e);for(let s=0,a=Math.floor((t+1)/2);s<a;s++)n=this.getRow(s,n),r=this.getRow(t-1-s,r),n.reverse(),r.reverse(),this.setRow(s,r),this.setRow(t-1-s,n)}getEnclosingRectangle(){const e=this.width,t=this.height,n=this.rowSize,r=this.bits;let s=e,a=t,c=-1,u=-1;for(let g=0;g<t;g++)for(let x=0;x<n;x++){const C=r[g*n+x];if(C!==0){if(g<a&&(a=g),g>u&&(u=g),x*32<s){let m=0;for(;(C<<31-m&4294967295)===0;)m++;x*32+m<s&&(s=x*32+m)}if(x*32+31>c){let m=31;for(;!(C>>>m);)m--;x*32+m>c&&(c=x*32+m)}}}return c<s||u<a?null:Int32Array.from([s,a,c-s+1,u-a+1])}getTopLeftOnBit(){const e=this.rowSize,t=this.bits;let n=0;for(;n<t.length&&t[n]===0;)n++;if(n===t.length)return null;const r=n/e;let s=n%e*32;const a=t[n];let c=0;for(;(a<<31-c&4294967295)===0;)c++;return s+=c,Int32Array.from([s,r])}getBottomRightOnBit(){const e=this.rowSize,t=this.bits;let n=t.length-1;for(;n>=0&&t[n]===0;)n--;if(n<0)return null;const r=Math.floor(n/e);let s=Math.floor(n%e)*32;const a=t[n];let c=31;for(;!(a>>>c);)c--;return s+=c,Int32Array.from([s,r])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof ot))return!1;const t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&ce.equals(this.bits,t.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+ce.hashCode(this.bits),e}toString(e="X ",t="  ",n=`
`){return this.buildToString(e,t,n)}buildToString(e,t,n){let r=new Re;for(let s=0,a=this.height;s<a;s++){for(let c=0,u=this.width;c<u;c++)r.append(this.get(c,s)?e:t);r.append(n)}return r.toString()}clone(){return new ot(this.width,this.height,this.rowSize,this.bits.slice())}}class F extends w{static getNotFoundInstance(){return new F}}F.kind="NotFoundException";class De extends fe{constructor(e){super(e),this.luminances=De.EMPTY,this.buckets=new Int32Array(De.LUMINANCE_BUCKETS)}getBlackRow(e,t){const n=this.getLuminanceSource(),r=n.getWidth();t==null||t.getSize()<r?t=new ee(r):t.clear(),this.initArrays(r);const s=n.getRow(e,this.luminances),a=this.buckets;for(let u=0;u<r;u++)a[(s[u]&255)>>De.LUMINANCE_SHIFT]++;const c=De.estimateBlackPoint(a);if(r<3)for(let u=0;u<r;u++)(s[u]&255)<c&&t.set(u);else{let u=s[0]&255,g=s[1]&255;for(let x=1;x<r-1;x++){const C=s[x+1]&255;(g*4-u-C)/2<c&&t.set(x),u=g,g=C}}return t}getBlackMatrix(){const e=this.getLuminanceSource(),t=e.getWidth(),n=e.getHeight(),r=new ot(t,n);this.initArrays(t);const s=this.buckets;for(let u=1;u<5;u++){const g=Math.floor(n*u/5),x=e.getRow(g,this.luminances),C=Math.floor(t*4/5);for(let m=Math.floor(t/5);m<C;m++){const T=x[m]&255;s[T>>De.LUMINANCE_SHIFT]++}}const a=De.estimateBlackPoint(s),c=e.getMatrix();for(let u=0;u<n;u++){const g=u*t;for(let x=0;x<t;x++)(c[g+x]&255)<a&&r.set(x,u)}return r}createBinarizer(e){return new De(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const t=this.buckets;for(let n=0;n<De.LUMINANCE_BUCKETS;n++)t[n]=0}static estimateBlackPoint(e){const t=e.length;let n=0,r=0,s=0;for(let x=0;x<t;x++)e[x]>s&&(r=x,s=e[x]),e[x]>n&&(n=e[x]);let a=0,c=0;for(let x=0;x<t;x++){const C=x-r,m=e[x]*C*C;m>c&&(a=x,c=m)}if(r>a){const x=r;r=a,a=x}if(a-r<=t/16)throw new F;let u=a-1,g=-1;for(let x=a-1;x>r;x--){const C=x-r,m=C*C*(a-x)*(n-e[x]);m>g&&(u=x,g=m)}return u<<De.LUMINANCE_SHIFT}}De.LUMINANCE_BITS=5,De.LUMINANCE_SHIFT=8-De.LUMINANCE_BITS,De.LUMINANCE_BUCKETS=1<<De.LUMINANCE_BITS,De.EMPTY=Uint8ClampedArray.from([0]);class se extends De{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),t=e.getWidth(),n=e.getHeight();if(t>=se.MINIMUM_DIMENSION&&n>=se.MINIMUM_DIMENSION){const r=e.getMatrix();let s=t>>se.BLOCK_SIZE_POWER;(t&se.BLOCK_SIZE_MASK)!==0&&s++;let a=n>>se.BLOCK_SIZE_POWER;(n&se.BLOCK_SIZE_MASK)!==0&&a++;const c=se.calculateBlackPoints(r,s,a,t,n),u=new ot(t,n);se.calculateThresholdForBlock(r,s,a,t,n,c,u),this.matrix=u}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new se(e)}static calculateThresholdForBlock(e,t,n,r,s,a,c){const u=s-se.BLOCK_SIZE,g=r-se.BLOCK_SIZE;for(let x=0;x<n;x++){let C=x<<se.BLOCK_SIZE_POWER;C>u&&(C=u);const m=se.cap(x,2,n-3);for(let T=0;T<t;T++){let M=T<<se.BLOCK_SIZE_POWER;M>g&&(M=g);const O=se.cap(T,2,t-3);let D=0;for(let Z=-2;Z<=2;Z++){const Q=a[m+Z];D+=Q[O-2]+Q[O-1]+Q[O]+Q[O+1]+Q[O+2]}const B=D/25;se.thresholdBlock(e,M,C,B,r,c)}}}static cap(e,t,n){return e<t?t:e>n?n:e}static thresholdBlock(e,t,n,r,s,a){for(let c=0,u=n*s+t;c<se.BLOCK_SIZE;c++,u+=s)for(let g=0;g<se.BLOCK_SIZE;g++)(e[u+g]&255)<=r&&a.set(t+g,n+c)}static calculateBlackPoints(e,t,n,r,s){const a=s-se.BLOCK_SIZE,c=r-se.BLOCK_SIZE,u=new Array(n);for(let g=0;g<n;g++){u[g]=new Int32Array(t);let x=g<<se.BLOCK_SIZE_POWER;x>a&&(x=a);for(let C=0;C<t;C++){let m=C<<se.BLOCK_SIZE_POWER;m>c&&(m=c);let T=0,M=255,O=0;for(let B=0,Z=x*r+m;B<se.BLOCK_SIZE;B++,Z+=r){for(let Q=0;Q<se.BLOCK_SIZE;Q++){const Y=e[Z+Q]&255;T+=Y,Y<M&&(M=Y),Y>O&&(O=Y)}if(O-M>se.MIN_DYNAMIC_RANGE)for(B++,Z+=r;B<se.BLOCK_SIZE;B++,Z+=r)for(let Q=0;Q<se.BLOCK_SIZE;Q++)T+=e[Z+Q]&255}let D=T>>se.BLOCK_SIZE_POWER*2;if(O-M<=se.MIN_DYNAMIC_RANGE&&(D=M/2,g>0&&C>0)){const B=(u[g-1][C]+2*u[g][C-1]+u[g-1][C-1])/4;M<B&&(D=B)}u[g][C]=D}}return u}}se.BLOCK_SIZE_POWER=3,se.BLOCK_SIZE=1<<se.BLOCK_SIZE_POWER,se.BLOCK_SIZE_MASK=se.BLOCK_SIZE-1,se.MINIMUM_DIMENSION=se.BLOCK_SIZE*5,se.MIN_DYNAMIC_RANGE=24;class Be{constructor(e,t){this.width=e,this.height=t}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,t,n,r){throw new Bt("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Bt("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Bt("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let t=new Re;for(let n=0;n<this.height;n++){const r=this.getRow(n,e);for(let s=0;s<this.width;s++){const a=r[s]&255;let c;a<64?c="#":a<128?c="+":a<192?c=".":c=" ",t.append(c)}t.append(`
`)}return t.toString()}}class yt extends Be{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,t){const n=this.delegate.getRow(e,t),r=this.getWidth();for(let s=0;s<r;s++)n[s]=255-(n[s]&255);return n}getMatrix(){const e=this.delegate.getMatrix(),t=this.getWidth()*this.getHeight(),n=new Uint8ClampedArray(t);for(let r=0;r<t;r++)n[r]=255-(e[r]&255);return n}isCropSupported(){return this.delegate.isCropSupported()}crop(e,t,n,r){return new yt(this.delegate.crop(e,t,n,r))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new yt(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new yt(this.delegate.rotateCounterClockwise45())}}class jt extends Be{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=jt.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const t=e.getContext("2d").getImageData(0,0,e.width,e.height);return jt.toGrayscaleBuffer(t.data,e.width,e.height)}static toGrayscaleBuffer(e,t,n){const r=new Uint8ClampedArray(t*n);for(let s=0,a=0,c=e.length;s<c;s+=4,a++){let u;if(e[s+3]===0)u=255;else{const x=e[s],C=e[s+1],m=e[s+2];u=306*x+601*C+117*m+512>>10}r[a]=u}return r}getRow(e,t){if(e<0||e>=this.getHeight())throw new b("Requested row is outside the image: "+e);const n=this.getWidth(),r=e*n;return t===null?t=this.buffer.slice(r,r+n):(t.length<n&&(t=new Uint8ClampedArray(n)),t.set(this.buffer.slice(r,r+n))),t}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,t,n,r){return super.crop(e,t,n,r),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const t=this.getTempCanvasElement(),n=t.getContext("2d"),r=e*jt.DEGREE_TO_RADIANS,s=this.canvas.width,a=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(r))*s+Math.abs(Math.sin(r))*a),u=Math.ceil(Math.abs(Math.sin(r))*s+Math.abs(Math.cos(r))*a);return t.width=c,t.height=u,n.translate(c/2,u/2),n.rotate(r),n.drawImage(this.canvas,s/-2,a/-2),this.buffer=jt.makeBufferFromCanvasImageData(t),this}invert(){return new yt(this)}}jt.DEGREE_TO_RADIANS=Math.PI/180;class un{constructor(e,t,n){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=n||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Qe=(globalThis||pi||self||window||void 0)&&(globalThis||pi||self||window||void 0).__awaiter||function(A,e,t,n){function r(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function c(x){try{g(n.next(x))}catch(C){a(C)}}function u(x){try{g(n.throw(x))}catch(C){a(C)}}function g(x){x.done?s(x.value):r(x.value).then(c,u)}g((n=n.apply(A,e||[])).next())})};class fn{constructor(e,t=500,n){this.reader=e,this.timeBetweenScansMillis=t,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return Qe(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),t=[];for(const n of e){const r=n.kind==="video"?"videoinput":n.kind;if(r!=="videoinput")continue;const s=n.deviceId||n.id,a=n.label||`Video device ${t.length+1}`,c=n.groupId,u={deviceId:s,label:a,kind:r,groupId:c};t.push(u)}return t})}getVideoInputDevices(){return Qe(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(t=>new un(t.deviceId,t.label))})}findDeviceById(e){return Qe(this,void 0,void 0,function*(){const t=yield this.listVideoInputDevices();return t?t.find(n=>n.deviceId===e):null})}decodeFromInputVideoDevice(e,t){return Qe(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,t)})}decodeOnceFromVideoDevice(e,t){return Qe(this,void 0,void 0,function*(){this.reset();let n;e?n={deviceId:{exact:e}}:n={facingMode:"environment"};const r={video:n};return yield this.decodeOnceFromConstraints(r,t)})}decodeOnceFromConstraints(e,t){return Qe(this,void 0,void 0,function*(){const n=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(n,t)})}decodeOnceFromStream(e,t){return Qe(this,void 0,void 0,function*(){this.reset();const n=yield this.attachStreamToVideo(e,t);return yield this.decodeOnce(n)})}decodeFromInputVideoDeviceContinuously(e,t,n){return Qe(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,t,n)})}decodeFromVideoDevice(e,t,n){return Qe(this,void 0,void 0,function*(){let r;e?r={deviceId:{exact:e}}:r={facingMode:"environment"};const s={video:r};return yield this.decodeFromConstraints(s,t,n)})}decodeFromConstraints(e,t,n){return Qe(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(r,t,n)})}decodeFromStream(e,t,n){return Qe(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(e,t);return yield this.decodeContinuously(r,n)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,t){return Qe(this,void 0,void 0,function*(){const n=this.prepareVideoElement(t);return this.addVideoSource(n,e),this.videoElement=n,this.stream=e,yield this.playVideoOnLoadAsync(n),n})}playVideoOnLoadAsync(e){return new Promise((t,n)=>this.playVideoOnLoad(e,()=>t()))}playVideoOnLoad(e,t){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return Qe(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,t){const n=document.getElementById(e);if(!n)throw new S(`element with id '${e}' not found`);if(n.nodeName.toLowerCase()!==t.toLowerCase())throw new S(`element with id '${e}' must be an ${t} element`);return n}decodeFromImage(e,t){if(!e&&!t)throw new S("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)}decodeFromVideo(e,t){if(!e&&!t)throw new S("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,t,n){if(e===void 0&&t===void 0)throw new S("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,n):this.decodeFromVideoElementContinuously(e,n)}decodeFromImageElement(e){if(!e)throw new S("An image element must be provided.");this.reset();const t=this.prepareImageElement(e);this.imageElement=t;let n;return this.isImageLoaded(t)?n=this.decodeOnce(t,!1,!0):n=this._decodeOnLoadImage(t),n}decodeFromVideoElement(e){const t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)}decodeFromVideoElementContinuously(e,t){const n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,t)}_decodeFromVideoElementSetup(e){if(!e)throw new S("A video element must be provided.");this.reset();const t=this.prepareVideoElement(e);return this.videoElement=t,t}decodeFromImageUrl(e){if(!e)throw new S("An URL must be provided.");this.reset();const t=this.prepareImageElement();this.imageElement=t;const n=this._decodeOnLoadImage(t);return t.src=e,n}decodeFromVideoUrl(e){if(!e)throw new S("An URL must be provided.");this.reset();const t=this.prepareVideoElement(),n=this.decodeFromVideoElement(t);return t.src=e,n}decodeFromVideoUrlContinuously(e,t){if(!e)throw new S("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),r=this.decodeFromVideoElementContinuously(n,t);return n.src=e,r}_decodeOnLoadImage(e){return new Promise((t,n)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(t,n),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return Qe(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,t){return Qe(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,t)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let t;return typeof e>"u"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t}prepareVideoElement(e){let t;return!e&&typeof document<"u"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t}decodeOnce(e,t=!0,n=!0){this._stopAsyncDecode=!1;const r=(s,a)=>{if(this._stopAsyncDecode){a(new F("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const c=this.decode(e);s(c)}catch(c){const u=t&&c instanceof F,x=(c instanceof W||c instanceof X)&&n;if(u||x)return setTimeout(r,this._timeBetweenDecodingAttempts,s,a);a(c)}};return new Promise((s,a)=>r(s,a))}decodeContinuously(e,t){this._stopContinuousDecode=!1;const n=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const r=this.decode(e);t(r,null),setTimeout(n,this.timeBetweenScansMillis)}catch(r){t(null,r);const s=r instanceof W||r instanceof X,a=r instanceof F;(s||a)&&setTimeout(n,this._timeBetweenDecodingAttempts)}};n()}decode(e){const t=this.createBinaryBitmap(e);return this.decodeBitmap(t)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,t,n){t||(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n||(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}drawImageOnCanvas(e,t,n=this.captureCanvasContext){t||(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n||(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const t=this.getCaptureCanvas(e),n=new jt(t),r=new se(n);return new z(r)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const n=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=n}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const t=document.createElement("canvas");let n,r;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,r=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,r=e.naturalHeight||e.height)),t.style.width=n+"px",t.style.height=r+"px",t.width=n,t.height=r,t}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class At{constructor(e,t,n=t==null?0:8*t.length,r,s,a=$.currentTimeMillis()){this.text=e,this.rawBytes=t,this.numBits=n,this.resultPoints=r,this.format=s,this.timestamp=a,this.text=e,this.rawBytes=t,n==null?this.numBits=t==null?0:8*t.length:this.numBits=n,this.resultPoints=r,this.format=s,this.resultMetadata=null,a==null?this.timestamp=$.currentTimeMillis():this.timestamp=a}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){const n=new Array(t.length+e.length);$.arraycopy(t,0,n,0,t.length),$.arraycopy(e,0,n,t.length,e.length),this.resultPoints=n}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Or;(function(A){A[A.AZTEC=0]="AZTEC",A[A.CODABAR=1]="CODABAR",A[A.CODE_39=2]="CODE_39",A[A.CODE_93=3]="CODE_93",A[A.CODE_128=4]="CODE_128",A[A.DATA_MATRIX=5]="DATA_MATRIX",A[A.EAN_8=6]="EAN_8",A[A.EAN_13=7]="EAN_13",A[A.ITF=8]="ITF",A[A.MAXICODE=9]="MAXICODE",A[A.PDF_417=10]="PDF_417",A[A.QR_CODE=11]="QR_CODE",A[A.RSS_14=12]="RSS_14",A[A.RSS_EXPANDED=13]="RSS_EXPANDED",A[A.UPC_A=14]="UPC_A",A[A.UPC_E=15]="UPC_E",A[A.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Or||(Or={}));var ae=Or,Rn;(function(A){A[A.OTHER=0]="OTHER",A[A.ORIENTATION=1]="ORIENTATION",A[A.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",A[A.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",A[A.ISSUE_NUMBER=4]="ISSUE_NUMBER",A[A.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",A[A.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",A[A.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",A[A.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",A[A.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",A[A.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Rn||(Rn={}));var at=Rn;class vn{constructor(e,t,n,r,s=-1,a=-1){this.rawBytes=e,this.text=t,this.byteSegments=n,this.ecLevel=r,this.structuredAppendSequenceNumber=s,this.structuredAppendParity=a,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class nn{exp(e){return this.expTable[e]}log(e){if(e===0)throw new b;return this.logTable[e]}static addOrSubtract(e,t){return e^t}}class _t{constructor(e,t){if(t.length===0)throw new b;this.field=e;const n=t.length;if(n>1&&t[0]===0){let r=1;for(;r<n&&t[r]===0;)r++;r===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-r),$.arraycopy(t,r,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const t=this.coefficients;let n;if(e===1){n=0;for(let a=0,c=t.length;a!==c;a++){const u=t[a];n=nn.addOrSubtract(n,u)}return n}n=t[0];const r=t.length,s=this.field;for(let a=1;a<r;a++)n=nn.addOrSubtract(s.multiply(e,n),t[a]);return n}addOrSubtract(e){if(!this.field.equals(e.field))throw new b("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,n=e.coefficients;if(t.length>n.length){const a=t;t=n,n=a}let r=new Int32Array(n.length);const s=n.length-t.length;$.arraycopy(n,0,r,0,s);for(let a=s;a<n.length;a++)r[a]=nn.addOrSubtract(t[a-s],n[a]);return new _t(this.field,r)}multiply(e){if(!this.field.equals(e.field))throw new b("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const t=this.coefficients,n=t.length,r=e.coefficients,s=r.length,a=new Int32Array(n+s-1),c=this.field;for(let u=0;u<n;u++){const g=t[u];for(let x=0;x<s;x++)a[u+x]=nn.addOrSubtract(a[u+x],c.multiply(g,r[x]))}return new _t(c,a)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const t=this.coefficients.length,n=this.field,r=new Int32Array(t),s=this.coefficients;for(let a=0;a<t;a++)r[a]=n.multiply(s[a],e);return new _t(n,r)}multiplyByMonomial(e,t){if(e<0)throw new b;if(t===0)return this.field.getZero();const n=this.coefficients,r=n.length,s=new Int32Array(r+e),a=this.field;for(let c=0;c<r;c++)s[c]=a.multiply(n[c],t);return new _t(a,s)}divide(e){if(!this.field.equals(e.field))throw new b("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new b("Divide by 0");const t=this.field;let n=t.getZero(),r=this;const s=e.getCoefficient(e.getDegree()),a=t.inverse(s);for(;r.getDegree()>=e.getDegree()&&!r.isZero();){const c=r.getDegree()-e.getDegree(),u=t.multiply(r.getCoefficient(r.getDegree()),a),g=e.multiplyByMonomial(c,u),x=t.buildMonomial(c,u);n=n.addOrSubtract(x),r=r.addOrSubtract(g)}return[n,r]}toString(){let e="";for(let t=this.getDegree();t>=0;t--){let n=this.getCoefficient(t);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),t===0||n!==1){const r=this.field.log(n);r===0?e+="1":r===1?e+="a":(e+="a^",e+=r)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e}}class _ extends w{}_.kind="ArithmeticException";class N extends nn{constructor(e,t,n){super(),this.primitive=e,this.size=t,this.generatorBase=n;const r=new Int32Array(t);let s=1;for(let c=0;c<t;c++)r[c]=s,s*=2,s>=t&&(s^=e,s&=t-1);this.expTable=r;const a=new Int32Array(t);for(let c=0;c<t-1;c++)a[r[c]]=c;this.logTable=a,this.zero=new _t(this,Int32Array.from([0])),this.one=new _t(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new b;if(t===0)return this.zero;const n=new Int32Array(e+1);return n[0]=t,new _t(this,n)}inverse(e){if(e===0)throw new _;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+ne.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}N.AZTEC_DATA_12=new N(4201,4096,1),N.AZTEC_DATA_10=new N(1033,1024,1),N.AZTEC_DATA_6=new N(67,64,1),N.AZTEC_PARAM=new N(19,16,1),N.QR_CODE_FIELD_256=new N(285,256,0),N.DATA_MATRIX_FIELD_256=new N(301,256,1),N.AZTEC_DATA_8=N.DATA_MATRIX_FIELD_256,N.MAXICODE_FIELD_64=N.AZTEC_DATA_6;class P extends w{}P.kind="ReedSolomonException";class j extends w{}j.kind="IllegalStateException";class V{constructor(e){this.field=e}decode(e,t){const n=this.field,r=new _t(n,e),s=new Int32Array(t);let a=!0;for(let T=0;T<t;T++){const M=r.evaluateAt(n.exp(T+n.getGeneratorBase()));s[s.length-1-T]=M,M!==0&&(a=!1)}if(a)return;const c=new _t(n,s),u=this.runEuclideanAlgorithm(n.buildMonomial(t,1),c,t),g=u[0],x=u[1],C=this.findErrorLocations(g),m=this.findErrorMagnitudes(x,C);for(let T=0;T<C.length;T++){const M=e.length-1-n.log(C[T]);if(M<0)throw new P("Bad error location");e[M]=N.addOrSubtract(e[M],m[T])}}runEuclideanAlgorithm(e,t,n){if(e.getDegree()<t.getDegree()){const T=e;e=t,t=T}const r=this.field;let s=e,a=t,c=r.getZero(),u=r.getOne();for(;a.getDegree()>=(n/2|0);){let T=s,M=c;if(s=a,c=u,s.isZero())throw new P("r_{i-1} was zero");a=T;let O=r.getZero();const D=s.getCoefficient(s.getDegree()),B=r.inverse(D);for(;a.getDegree()>=s.getDegree()&&!a.isZero();){const Z=a.getDegree()-s.getDegree(),Q=r.multiply(a.getCoefficient(a.getDegree()),B);O=O.addOrSubtract(r.buildMonomial(Z,Q)),a=a.addOrSubtract(s.multiplyByMonomial(Z,Q))}if(u=O.multiply(c).addOrSubtract(M),a.getDegree()>=s.getDegree())throw new j("Division algorithm failed to reduce polynomial?")}const g=u.getCoefficient(0);if(g===0)throw new P("sigmaTilde(0) was zero");const x=r.inverse(g),C=u.multiplyScalar(x),m=a.multiplyScalar(x);return[C,m]}findErrorLocations(e){const t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);const n=new Int32Array(t);let r=0;const s=this.field;for(let a=1;a<s.getSize()&&r<t;a++)e.evaluateAt(a)===0&&(n[r]=s.inverse(a),r++);if(r!==t)throw new P("Error locator degree does not match number of roots");return n}findErrorMagnitudes(e,t){const n=t.length,r=new Int32Array(n),s=this.field;for(let a=0;a<n;a++){const c=s.inverse(t[a]);let u=1;for(let g=0;g<n;g++)if(a!==g){const x=s.multiply(t[g],c),C=(x&1)===0?x|1:x&-2;u=s.multiply(u,C)}r[a]=s.multiply(e.evaluateAt(c),s.inverse(u)),s.getGeneratorBase()!==0&&(r[a]=s.multiply(r[a],c))}return r}}var k;(function(A){A[A.UPPER=0]="UPPER",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.DIGIT=3]="DIGIT",A[A.PUNCT=4]="PUNCT",A[A.BINARY=5]="BINARY"})(k||(k={}));class G{decode(e){this.ddata=e;let t=e.getBits(),n=this.extractBits(t),r=this.correctBits(n),s=G.convertBoolArrayToByteArray(r),a=G.getEncodedData(r),c=new vn(s,a,null,null);return c.setNumBits(r.length),c}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let t=e.length,n=k.UPPER,r=k.UPPER,s="",a=0;for(;a<t;)if(r===k.BINARY){if(t-a<5)break;let c=G.readCode(e,a,5);if(a+=5,c===0){if(t-a<11)break;c=G.readCode(e,a,11)+31,a+=11}for(let u=0;u<c;u++){if(t-a<8){a=t;break}const g=G.readCode(e,a,8);s+=de.castAsNonUtf8Char(g),a+=8}r=n}else{let c=r===k.DIGIT?4:5;if(t-a<c)break;let u=G.readCode(e,a,c);a+=c;let g=G.getCharacter(r,u);g.startsWith("CTRL_")?(n=r,r=G.getTable(g.charAt(5)),g.charAt(6)==="L"&&(n=r)):(s+=g,r=n)}return s}static getTable(e){switch(e){case"L":return k.LOWER;case"P":return k.PUNCT;case"M":return k.MIXED;case"D":return k.DIGIT;case"B":return k.BINARY;case"U":default:return k.UPPER}}static getCharacter(e,t){switch(e){case k.UPPER:return G.UPPER_TABLE[t];case k.LOWER:return G.LOWER_TABLE[t];case k.MIXED:return G.MIXED_TABLE[t];case k.PUNCT:return G.PUNCT_TABLE[t];case k.DIGIT:return G.DIGIT_TABLE[t];default:throw new j("Bad table")}}correctBits(e){let t,n;this.ddata.getNbLayers()<=2?(n=6,t=N.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,t=N.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,t=N.AZTEC_DATA_10):(n=12,t=N.AZTEC_DATA_12);let r=this.ddata.getNbDatablocks(),s=e.length/n;if(s<r)throw new X;let a=e.length%n,c=new Int32Array(s);for(let m=0;m<s;m++,a+=n)c[m]=G.readCode(e,a,n);try{new V(t).decode(c,s-r)}catch(m){throw new X(m)}let u=(1<<n)-1,g=0;for(let m=0;m<r;m++){let T=c[m];if(T===0||T===u)throw new X;(T===1||T===u-1)&&g++}let x=new Array(r*n-g),C=0;for(let m=0;m<r;m++){let T=c[m];if(T===1||T===u-1)x.fill(T>1,C,C+n-1),C+=n-1;else for(let M=n-1;M>=0;--M)x[C++]=(T&1<<M)!==0}return x}extractBits(e){let t=this.ddata.isCompact(),n=this.ddata.getNbLayers(),r=(t?11:14)+n*4,s=new Int32Array(r),a=new Array(this.totalBitsInLayer(n,t));if(t)for(let c=0;c<s.length;c++)s[c]=c;else{let c=r+1+2*ne.truncDivision(ne.truncDivision(r,2)-1,15),u=r/2,g=ne.truncDivision(c,2);for(let x=0;x<u;x++){let C=x+ne.truncDivision(x,15);s[u-x-1]=g-C-1,s[u+x]=g+C+1}}for(let c=0,u=0;c<n;c++){let g=(n-c)*4+(t?9:12),x=c*2,C=r-1-x;for(let m=0;m<g;m++){let T=m*2;for(let M=0;M<2;M++)a[u+T+M]=e.get(s[x+M],s[x+m]),a[u+2*g+T+M]=e.get(s[x+m],s[C-M]),a[u+4*g+T+M]=e.get(s[C-M],s[C-m]),a[u+6*g+T+M]=e.get(s[C-m],s[x+M])}u+=g*8}return a}static readCode(e,t,n){let r=0;for(let s=t;s<t+n;s++)r<<=1,e[s]&&(r|=1);return r}static readByte(e,t){let n=e.length-t;return n>=8?G.readCode(e,t,8):G.readCode(e,t,n)<<8-n}static convertBoolArrayToByteArray(e){let t=new Uint8Array((e.length+7)/8);for(let n=0;n<t.length;n++)t[n]=G.readByte(e,8*n);return t}totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}G.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],G.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],G.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],G.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],G.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class U{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,t,n,r){const s=e-n,a=t-r;return Math.sqrt(s*s+a*a)}static sum(e){let t=0;for(let n=0,r=e.length;n!==r;n++){const s=e[n];t+=s}return t}}class q{static floatToIntBits(e){return e}}q.MAX_VALUE=Number.MAX_SAFE_INTEGER;class v{constructor(e,t){this.x=e,this.y=t}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof v){const t=e;return this.x===t.x&&this.y===t.y}return!1}hashCode(){return 31*q.floatToIntBits(this.x)+q.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const t=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),r=this.distance(e[0],e[2]);let s,a,c;if(n>=t&&n>=r?(a=e[0],s=e[1],c=e[2]):r>=n&&r>=t?(a=e[1],s=e[0],c=e[2]):(a=e[2],s=e[0],c=e[1]),this.crossProductZ(s,a,c)<0){const u=s;s=c,c=u}e[0]=s,e[1]=a,e[2]=c}static distance(e,t){return U.distance(e.x,e.y,t.x,t.y)}static crossProductZ(e,t,n){const r=t.x,s=t.y;return(n.x-r)*(e.y-s)-(n.y-s)*(e.x-r)}}class ue{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class te extends ue{constructor(e,t,n,r,s){super(e,t),this.compact=n,this.nbDatablocks=r,this.nbLayers=s}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class oe{constructor(e,t,n,r){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=oe.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),r==null&&(r=e.getHeight()/2|0);const s=t/2|0;if(this.leftInit=n-s,this.rightInit=n+s,this.upInit=r-s,this.downInit=r+s,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new F}detect(){let e=this.leftInit,t=this.rightInit,n=this.upInit,r=this.downInit,s=!1,a=!0,c=!1,u=!1,g=!1,x=!1,C=!1;const m=this.width,T=this.height;for(;a;){a=!1;let M=!0;for(;(M||!u)&&t<m;)M=this.containsBlackPoint(n,r,t,!1),M?(t++,a=!0,u=!0):u||t++;if(t>=m){s=!0;break}let O=!0;for(;(O||!g)&&r<T;)O=this.containsBlackPoint(e,t,r,!0),O?(r++,a=!0,g=!0):g||r++;if(r>=T){s=!0;break}let D=!0;for(;(D||!x)&&e>=0;)D=this.containsBlackPoint(n,r,e,!1),D?(e--,a=!0,x=!0):x||e--;if(e<0){s=!0;break}let B=!0;for(;(B||!C)&&n>=0;)B=this.containsBlackPoint(e,t,n,!0),B?(n--,a=!0,C=!0):C||n--;if(n<0){s=!0;break}a&&(c=!0)}if(!s&&c){const M=t-e;let O=null;for(let Q=1;O===null&&Q<M;Q++)O=this.getBlackPointOnSegment(e,r-Q,e+Q,r);if(O==null)throw new F;let D=null;for(let Q=1;D===null&&Q<M;Q++)D=this.getBlackPointOnSegment(e,n+Q,e+Q,n);if(D==null)throw new F;let B=null;for(let Q=1;B===null&&Q<M;Q++)B=this.getBlackPointOnSegment(t,n+Q,t-Q,n);if(B==null)throw new F;let Z=null;for(let Q=1;Z===null&&Q<M;Q++)Z=this.getBlackPointOnSegment(t,r-Q,t-Q,r);if(Z==null)throw new F;return this.centerEdges(Z,O,B,D)}else throw new F}getBlackPointOnSegment(e,t,n,r){const s=U.round(U.distance(e,t,n,r)),a=(n-e)/s,c=(r-t)/s,u=this.image;for(let g=0;g<s;g++){const x=U.round(e+g*a),C=U.round(t+g*c);if(u.get(x,C))return new v(x,C)}return null}centerEdges(e,t,n,r){const s=e.getX(),a=e.getY(),c=t.getX(),u=t.getY(),g=n.getX(),x=n.getY(),C=r.getX(),m=r.getY(),T=oe.CORR;return s<this.width/2?[new v(C-T,m+T),new v(c+T,u+T),new v(g-T,x-T),new v(s+T,a-T)]:[new v(C+T,m+T),new v(c+T,u-T),new v(g-T,x+T),new v(s-T,a-T)]}containsBlackPoint(e,t,n,r){const s=this.image;if(r){for(let a=e;a<=t;a++)if(s.get(a,n))return!0}else for(let a=e;a<=t;a++)if(s.get(n,a))return!0;return!1}}oe.INIT_SIZE=10,oe.CORR=1;class xe{static checkAndNudgePoints(e,t){const n=e.getWidth(),r=e.getHeight();let s=!0;for(let a=0;a<t.length&&s;a+=2){const c=Math.floor(t[a]),u=Math.floor(t[a+1]);if(c<-1||c>n||u<-1||u>r)throw new F;s=!1,c===-1?(t[a]=0,s=!0):c===n&&(t[a]=n-1,s=!0),u===-1?(t[a+1]=0,s=!0):u===r&&(t[a+1]=r-1,s=!0)}s=!0;for(let a=t.length-2;a>=0&&s;a-=2){const c=Math.floor(t[a]),u=Math.floor(t[a+1]);if(c<-1||c>n||u<-1||u>r)throw new F;s=!1,c===-1?(t[a]=0,s=!0):c===n&&(t[a]=n-1,s=!0),u===-1?(t[a+1]=0,s=!0):u===r&&(t[a+1]=r-1,s=!0)}}}class we{constructor(e,t,n,r,s,a,c,u,g){this.a11=e,this.a21=t,this.a31=n,this.a12=r,this.a22=s,this.a32=a,this.a13=c,this.a23=u,this.a33=g}static quadrilateralToQuadrilateral(e,t,n,r,s,a,c,u,g,x,C,m,T,M,O,D){const B=we.quadrilateralToSquare(e,t,n,r,s,a,c,u);return we.squareToQuadrilateral(g,x,C,m,T,M,O,D).times(B)}transformPoints(e){const t=e.length,n=this.a11,r=this.a12,s=this.a13,a=this.a21,c=this.a22,u=this.a23,g=this.a31,x=this.a32,C=this.a33;for(let m=0;m<t;m+=2){const T=e[m],M=e[m+1],O=s*T+u*M+C;e[m]=(n*T+a*M+g)/O,e[m+1]=(r*T+c*M+x)/O}}transformPointsWithValues(e,t){const n=this.a11,r=this.a12,s=this.a13,a=this.a21,c=this.a22,u=this.a23,g=this.a31,x=this.a32,C=this.a33,m=e.length;for(let T=0;T<m;T++){const M=e[T],O=t[T],D=s*M+u*O+C;e[T]=(n*M+a*O+g)/D,t[T]=(r*M+c*O+x)/D}}static squareToQuadrilateral(e,t,n,r,s,a,c,u){const g=e-n+s-c,x=t-r+a-u;if(g===0&&x===0)return new we(n-e,s-n,e,r-t,a-r,t,0,0,1);{const C=n-s,m=c-s,T=r-a,M=u-a,O=C*M-m*T,D=(g*M-m*x)/O,B=(C*x-g*T)/O;return new we(n-e+D*n,c-e+B*c,e,r-t+D*r,u-t+B*u,t,D,B,1)}}static quadrilateralToSquare(e,t,n,r,s,a,c,u){return we.squareToQuadrilateral(e,t,n,r,s,a,c,u).buildAdjoint()}buildAdjoint(){return new we(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new we(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class Ve extends xe{sampleGrid(e,t,n,r,s,a,c,u,g,x,C,m,T,M,O,D,B,Z,Q){const Y=we.quadrilateralToQuadrilateral(r,s,a,c,u,g,x,C,m,T,M,O,D,B,Z,Q);return this.sampleGridWithTransform(e,t,n,Y)}sampleGridWithTransform(e,t,n,r){if(t<=0||n<=0)throw new F;const s=new ot(t,n),a=new Float32Array(2*t);for(let c=0;c<n;c++){const u=a.length,g=c+.5;for(let x=0;x<u;x+=2)a[x]=x/2+.5,a[x+1]=g;r.transformPoints(a),xe.checkAndNudgePoints(e,a);try{for(let x=0;x<u;x+=2)e.get(Math.floor(a[x]),Math.floor(a[x+1]))&&s.set(x/2,c)}catch{throw new F}}return s}}class be{static setGridSampler(e){be.gridSampler=e}static getInstance(){return be.gridSampler}}be.gridSampler=new Ve;class je{constructor(e,t){this.x=e,this.y=t}toResultPoint(){return new v(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Ct{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let t=this.getMatrixCenter(),n=this.getBullsEyeCorners(t);if(e){let a=n[0];n[0]=n[2],n[2]=a}this.extractParameters(n);let r=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),s=this.getMatrixCornerPoints(n);return new te(r,s,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new F;let t=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(n,t);let r=0;for(let a=0;a<4;a++){let c=n[(this.shift+a)%4];this.compact?(r<<=7,r+=c>>1&127):(r<<=10,r+=(c>>2&992)+(c>>1&31))}let s=this.getCorrectedParameterData(r,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)}getRotation(e,t){let n=0;e.forEach((r,s,a)=>{let c=(r>>t-2<<1)+(r&1);n=(n<<3)+c}),n=((n&1)<<11)+(n>>1);for(let r=0;r<4;r++)if(ne.bitCount(n^this.EXPECTED_CORNER_BITS[r])<=2)return r;throw new F}getCorrectedParameterData(e,t){let n,r;t?(n=7,r=2):(n=10,r=4);let s=n-r,a=new Int32Array(n);for(let u=n-1;u>=0;--u)a[u]=e&15,e>>=4;try{new V(N.AZTEC_PARAM).decode(a,s)}catch{throw new F}let c=0;for(let u=0;u<r;u++)c=(c<<4)+a[u];return c}getBullsEyeCorners(e){let t=e,n=e,r=e,s=e,a=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let C=this.getFirstDifferent(t,a,1,-1),m=this.getFirstDifferent(n,a,1,1),T=this.getFirstDifferent(r,a,-1,1),M=this.getFirstDifferent(s,a,-1,-1);if(this.nbCenterLayers>2){let O=this.distancePoint(M,C)*this.nbCenterLayers/(this.distancePoint(s,t)*(this.nbCenterLayers+2));if(O<.75||O>1.25||!this.isWhiteOrBlackRectangle(C,m,T,M))break}t=C,n=m,r=T,s=M,a=!a}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new F;this.compact=this.nbCenterLayers===5;let c=new v(t.getX()+.5,t.getY()-.5),u=new v(n.getX()+.5,n.getY()+.5),g=new v(r.getX()-.5,r.getY()+.5),x=new v(s.getX()-.5,s.getY()-.5);return this.expandSquare([c,u,g,x],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,t,n,r;try{let c=new oe(this.image).detect();e=c[0],t=c[1],n=c[2],r=c[3]}catch{let u=this.image.getWidth()/2,g=this.image.getHeight()/2;e=this.getFirstDifferent(new je(u+7,g-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new je(u+7,g+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new je(u-7,g+7),!1,-1,1).toResultPoint(),r=this.getFirstDifferent(new je(u-7,g-7),!1,-1,-1).toResultPoint()}let s=U.round((e.getX()+r.getX()+t.getX()+n.getX())/4),a=U.round((e.getY()+r.getY()+t.getY()+n.getY())/4);try{let c=new oe(this.image,15,s,a).detect();e=c[0],t=c[1],n=c[2],r=c[3]}catch{e=this.getFirstDifferent(new je(s+7,a-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new je(s+7,a+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new je(s-7,a+7),!1,-1,1).toResultPoint(),r=this.getFirstDifferent(new je(s-7,a-7),!1,-1,-1).toResultPoint()}return s=U.round((e.getX()+r.getX()+t.getX()+n.getX())/4),a=U.round((e.getY()+r.getY()+t.getY()+n.getY())/4),new je(s,a)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,t,n,r,s){let a=be.getInstance(),c=this.getDimension(),u=c/2-this.nbCenterLayers,g=c/2+this.nbCenterLayers;return a.sampleGrid(e,c,c,u,u,g,u,g,g,u,g,t.getX(),t.getY(),n.getX(),n.getY(),r.getX(),r.getY(),s.getX(),s.getY())}sampleLine(e,t,n){let r=0,s=this.distanceResultPoint(e,t),a=s/n,c=e.getX(),u=e.getY(),g=a*(t.getX()-e.getX())/s,x=a*(t.getY()-e.getY())/s;for(let C=0;C<n;C++)this.image.get(U.round(c+C*g),U.round(u+C*x))&&(r|=1<<n-C-1);return r}isWhiteOrBlackRectangle(e,t,n,r){let s=3;e=new je(e.getX()-s,e.getY()+s),t=new je(t.getX()-s,t.getY()-s),n=new je(n.getX()+s,n.getY()-s),r=new je(r.getX()+s,r.getY()+s);let a=this.getColor(r,e);if(a===0)return!1;let c=this.getColor(e,t);return c!==a||(c=this.getColor(t,n),c!==a)?!1:(c=this.getColor(n,r),c===a)}getColor(e,t){let n=this.distancePoint(e,t),r=(t.getX()-e.getX())/n,s=(t.getY()-e.getY())/n,a=0,c=e.getX(),u=e.getY(),g=this.image.get(e.getX(),e.getY()),x=Math.ceil(n);for(let m=0;m<x;m++)c+=r,u+=s,this.image.get(U.round(c),U.round(u))!==g&&a++;let C=a/n;return C>.1&&C<.9?0:C<=.1===g?1:-1}getFirstDifferent(e,t,n,r){let s=e.getX()+n,a=e.getY()+r;for(;this.isValid(s,a)&&this.image.get(s,a)===t;)s+=n,a+=r;for(s-=n,a-=r;this.isValid(s,a)&&this.image.get(s,a)===t;)s+=n;for(s-=n;this.isValid(s,a)&&this.image.get(s,a)===t;)a+=r;return a-=r,new je(s,a)}expandSquare(e,t,n){let r=n/(2*t),s=e[0].getX()-e[2].getX(),a=e[0].getY()-e[2].getY(),c=(e[0].getX()+e[2].getX())/2,u=(e[0].getY()+e[2].getY())/2,g=new v(c+r*s,u+r*a),x=new v(c-r*s,u-r*a);s=e[1].getX()-e[3].getX(),a=e[1].getY()-e[3].getY(),c=(e[1].getX()+e[3].getX())/2,u=(e[1].getY()+e[3].getY())/2;let C=new v(c+r*s,u+r*a),m=new v(c-r*s,u-r*a);return[g,C,x,m]}isValid(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()}isValidPoint(e){let t=U.round(e.getX()),n=U.round(e.getY());return this.isValid(t,n)}distancePoint(e,t){return U.distance(e.getX(),e.getY(),t.getX(),t.getY())}distanceResultPoint(e,t){return U.distance(e.getX(),e.getY(),t.getX(),t.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(ne.truncDivision(this.nbLayers-4,8)+1)+15}}class Nt{decode(e,t=null){let n=null,r=new Ct(e.getBlackMatrix()),s=null,a=null;try{let x=r.detectMirror(!1);s=x.getPoints(),this.reportFoundResultPoints(t,s),a=new G().decode(x)}catch(x){n=x}if(a==null)try{let x=r.detectMirror(!0);s=x.getPoints(),this.reportFoundResultPoints(t,s),a=new G().decode(x)}catch(x){throw n??x}let c=new At(a.getText(),a.getRawBytes(),a.getNumBits(),s,ae.AZTEC,$.currentTimeMillis()),u=a.getByteSegments();u!=null&&c.putMetadata(at.BYTE_SEGMENTS,u);let g=a.getECLevel();return g!=null&&c.putMetadata(at.ERROR_CORRECTION_LEVEL,g),c}reportFoundResultPoints(e,t){if(e!=null){let n=e.get(Ne.NEED_RESULT_POINT_CALLBACK);n!=null&&t.forEach((r,s,a)=>{n.foundPossibleResultPoint(r)})}}reset(){}}class Qt extends fn{constructor(e=500){super(new Nt,e)}}class qe{decode(e,t){try{return this.doDecode(e,t)}catch{if(t&&t.get(Ne.TRY_HARDER)===!0&&e.isRotateSupported()){const s=e.rotateCounterClockwise(),a=this.doDecode(s,t),c=a.getResultMetadata();let u=270;c!==null&&c.get(at.ORIENTATION)===!0&&(u=u+c.get(at.ORIENTATION)%360),a.putMetadata(at.ORIENTATION,u);const g=a.getResultPoints();if(g!==null){const x=s.getHeight();for(let C=0;C<g.length;C++)g[C]=new v(x-g[C].getY()-1,g[C].getX())}return a}else throw new F}}reset(){}doDecode(e,t){const n=e.getWidth(),r=e.getHeight();let s=new ee(n);const a=t&&t.get(Ne.TRY_HARDER)===!0,c=Math.max(1,r>>(a?8:5));let u;a?u=r:u=15;const g=Math.trunc(r/2);for(let x=0;x<u;x++){const C=Math.trunc((x+1)/2),m=(x&1)===0,T=g+c*(m?C:-C);if(T<0||T>=r)break;try{s=e.getBlackRow(T,s)}catch{continue}for(let M=0;M<2;M++){if(M===1&&(s.reverse(),t&&t.get(Ne.NEED_RESULT_POINT_CALLBACK)===!0)){const O=new Map;t.forEach((D,B)=>O.set(B,D)),O.delete(Ne.NEED_RESULT_POINT_CALLBACK),t=O}try{const O=this.decodeRow(T,s,t);if(M===1){O.putMetadata(at.ORIENTATION,180);const D=O.getResultPoints();D!==null&&(D[0]=new v(n-D[0].getX()-1,D[0].getY()),D[1]=new v(n-D[1].getX()-1,D[1].getY()))}return O}catch{}}}throw new F}static recordPattern(e,t,n){const r=n.length;for(let g=0;g<r;g++)n[g]=0;const s=e.getSize();if(t>=s)throw new F;let a=!e.get(t),c=0,u=t;for(;u<s;){if(e.get(u)!==a)n[c]++;else{if(++c===r)break;n[c]=1,a=!a}u++}if(!(c===r||c===r-1&&u===s))throw new F}static recordPatternInReverse(e,t,n){let r=n.length,s=e.get(t);for(;t>0&&r>=0;)e.get(--t)!==s&&(r--,s=!s);if(r>=0)throw new F;qe.recordPattern(e,t+1,n)}static patternMatchVariance(e,t,n){const r=e.length;let s=0,a=0;for(let g=0;g<r;g++)s+=e[g],a+=t[g];if(s<a)return Number.POSITIVE_INFINITY;const c=s/a;n*=c;let u=0;for(let g=0;g<r;g++){const x=e[g],C=t[g]*c,m=x>C?x-C:C-x;if(m>n)return Number.POSITIVE_INFINITY;u+=m}return u/s}}class J extends qe{static findStartPattern(e){const t=e.getSize(),n=e.getNextSet(0);let r=0,s=Int32Array.from([0,0,0,0,0,0]),a=n,c=!1;const u=6;for(let g=n;g<t;g++)if(e.get(g)!==c)s[r]++;else{if(r===u-1){let x=J.MAX_AVG_VARIANCE,C=-1;for(let m=J.CODE_START_A;m<=J.CODE_START_C;m++){const T=qe.patternMatchVariance(s,J.CODE_PATTERNS[m],J.MAX_INDIVIDUAL_VARIANCE);T<x&&(x=T,C=m)}if(C>=0&&e.isRange(Math.max(0,a-(g-a)/2),a,!1))return Int32Array.from([a,g,C]);a+=s[0]+s[1],s=s.slice(2,s.length-1),s[r-1]=0,s[r]=0,r--}else r++;s[r]=1,c=!c}throw new F}static decodeCode(e,t,n){qe.recordPattern(e,n,t);let r=J.MAX_AVG_VARIANCE,s=-1;for(let a=0;a<J.CODE_PATTERNS.length;a++){const c=J.CODE_PATTERNS[a],u=this.patternMatchVariance(t,c,J.MAX_INDIVIDUAL_VARIANCE);u<r&&(r=u,s=a)}if(s>=0)return s;throw new F}decodeRow(e,t,n){const r=n&&n.get(Ne.ASSUME_GS1)===!0,s=J.findStartPattern(t),a=s[2];let c=0;const u=new Uint8Array(20);u[c++]=a;let g;switch(a){case J.CODE_START_A:g=J.CODE_CODE_A;break;case J.CODE_START_B:g=J.CODE_CODE_B;break;case J.CODE_START_C:g=J.CODE_CODE_C;break;default:throw new X}let x=!1,C=!1,m="",T=s[0],M=s[1];const O=Int32Array.from([0,0,0,0,0,0]);let D=0,B=0,Z=a,Q=0,Y=!0,Me=!1,Ee=!1;for(;!x;){const Ar=C;switch(C=!1,D=B,B=J.decodeCode(t,O,M),u[c++]=B,B!==J.CODE_STOP&&(Y=!0),B!==J.CODE_STOP&&(Q++,Z+=Q*B),T=M,M+=O.reduce((Yl,Xl)=>Yl+Xl,0),B){case J.CODE_START_A:case J.CODE_START_B:case J.CODE_START_C:throw new X}switch(g){case J.CODE_CODE_A:if(B<64)Ee===Me?m+=String.fromCharCode(32+B):m+=String.fromCharCode(32+B+128),Ee=!1;else if(B<96)Ee===Me?m+=String.fromCharCode(B-64):m+=String.fromCharCode(B+64),Ee=!1;else switch(B!==J.CODE_STOP&&(Y=!1),B){case J.CODE_FNC_1:r&&(m.length===0?m+="]C1":m+="");break;case J.CODE_FNC_2:case J.CODE_FNC_3:break;case J.CODE_FNC_4_A:!Me&&Ee?(Me=!0,Ee=!1):Me&&Ee?(Me=!1,Ee=!1):Ee=!0;break;case J.CODE_SHIFT:C=!0,g=J.CODE_CODE_B;break;case J.CODE_CODE_B:g=J.CODE_CODE_B;break;case J.CODE_CODE_C:g=J.CODE_CODE_C;break;case J.CODE_STOP:x=!0;break}break;case J.CODE_CODE_B:if(B<96)Ee===Me?m+=String.fromCharCode(32+B):m+=String.fromCharCode(32+B+128),Ee=!1;else switch(B!==J.CODE_STOP&&(Y=!1),B){case J.CODE_FNC_1:r&&(m.length===0?m+="]C1":m+="");break;case J.CODE_FNC_2:case J.CODE_FNC_3:break;case J.CODE_FNC_4_B:!Me&&Ee?(Me=!0,Ee=!1):Me&&Ee?(Me=!1,Ee=!1):Ee=!0;break;case J.CODE_SHIFT:C=!0,g=J.CODE_CODE_A;break;case J.CODE_CODE_A:g=J.CODE_CODE_A;break;case J.CODE_CODE_C:g=J.CODE_CODE_C;break;case J.CODE_STOP:x=!0;break}break;case J.CODE_CODE_C:if(B<100)B<10&&(m+="0"),m+=B;else switch(B!==J.CODE_STOP&&(Y=!1),B){case J.CODE_FNC_1:r&&(m.length===0?m+="]C1":m+="");break;case J.CODE_CODE_A:g=J.CODE_CODE_A;break;case J.CODE_CODE_B:g=J.CODE_CODE_B;break;case J.CODE_STOP:x=!0;break}break}Ar&&(g=g===J.CODE_CODE_A?J.CODE_CODE_B:J.CODE_CODE_A)}const Ut=M-T;if(M=t.getNextUnset(M),!t.isRange(M,Math.min(t.getSize(),M+(M-T)/2),!1))throw new F;if(Z-=Q*D,Z%103!==D)throw new W;const sn=m.length;if(sn===0)throw new F;sn>0&&Y&&(g===J.CODE_CODE_C?m=m.substring(0,sn-2):m=m.substring(0,sn-1));const Ht=(s[1]+s[0])/2,Ze=T+Ut/2,It=u.length,zt=new Uint8Array(It);for(let Ar=0;Ar<It;Ar++)zt[Ar]=u[Ar];const wr=[new v(Ht,e),new v(Ze,e)];return new At(m,zt,0,wr,ae.CODE_128,new Date().getTime())}}J.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],J.MAX_AVG_VARIANCE=.25,J.MAX_INDIVIDUAL_VARIANCE=.7,J.CODE_SHIFT=98,J.CODE_CODE_C=99,J.CODE_CODE_B=100,J.CODE_CODE_A=101,J.CODE_FNC_1=102,J.CODE_FNC_2=97,J.CODE_FNC_3=96,J.CODE_FNC_4_A=101,J.CODE_FNC_4_B=100,J.CODE_START_A=103,J.CODE_START_B=104,J.CODE_START_C=105,J.CODE_STOP=106;class ve extends qe{constructor(e=!1,t=!1){super(),this.usingCheckDigit=e,this.extendedMode=t,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,t,n){let r=this.counters;r.fill(0),this.decodeRowResult="";let s=ve.findAsteriskPattern(t,r),a=t.getNextSet(s[1]),c=t.getSize(),u,g;do{ve.recordPattern(t,a,r);let O=ve.toNarrowWidePattern(r);if(O<0)throw new F;u=ve.patternToChar(O),this.decodeRowResult+=u,g=a;for(let D of r)a+=D;a=t.getNextSet(a)}while(u!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let x=0;for(let O of r)x+=O;let C=a-g-x;if(a!==c&&C*2<x)throw new F;if(this.usingCheckDigit){let O=this.decodeRowResult.length-1,D=0;for(let B=0;B<O;B++)D+=ve.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(B));if(this.decodeRowResult.charAt(O)!==ve.ALPHABET_STRING.charAt(D%43))throw new W;this.decodeRowResult=this.decodeRowResult.substring(0,O)}if(this.decodeRowResult.length===0)throw new F;let m;this.extendedMode?m=ve.decodeExtended(this.decodeRowResult):m=this.decodeRowResult;let T=(s[1]+s[0])/2,M=g+x/2;return new At(m,null,0,[new v(T,e),new v(M,e)],ae.CODE_39,new Date().getTime())}static findAsteriskPattern(e,t){let n=e.getSize(),r=e.getNextSet(0),s=0,a=r,c=!1,u=t.length;for(let g=r;g<n;g++)if(e.get(g)!==c)t[s]++;else{if(s===u-1){if(this.toNarrowWidePattern(t)===ve.ASTERISK_ENCODING&&e.isRange(Math.max(0,a-Math.floor((g-a)/2)),a,!1))return[a,g];a+=t[0]+t[1],t.copyWithin(0,2,2+s-1),t[s-1]=0,t[s]=0,s--}else s++;t[s]=1,c=!c}throw new F}static toNarrowWidePattern(e){let t=e.length,n=0,r;do{let s=2147483647;for(let u of e)u<s&&u>n&&(s=u);n=s,r=0;let a=0,c=0;for(let u=0;u<t;u++){let g=e[u];g>n&&(c|=1<<t-1-u,r++,a+=g)}if(r===3){for(let u=0;u<t&&r>0;u++){let g=e[u];if(g>n&&(r--,g*2>=a))return-1}return c}}while(r>3);return-1}static patternToChar(e){for(let t=0;t<ve.CHARACTER_ENCODINGS.length;t++)if(ve.CHARACTER_ENCODINGS[t]===e)return ve.ALPHABET_STRING.charAt(t);if(e===ve.ASTERISK_ENCODING)return"*";throw new F}static decodeExtended(e){let t=e.length,n="";for(let r=0;r<t;r++){let s=e.charAt(r);if(s==="+"||s==="$"||s==="%"||s==="/"){let a=e.charAt(r+1),c="\0";switch(s){case"+":if(a>="A"&&a<="Z")c=String.fromCharCode(a.charCodeAt(0)+32);else throw new X;break;case"$":if(a>="A"&&a<="Z")c=String.fromCharCode(a.charCodeAt(0)-64);else throw new X;break;case"%":if(a>="A"&&a<="E")c=String.fromCharCode(a.charCodeAt(0)-38);else if(a>="F"&&a<="J")c=String.fromCharCode(a.charCodeAt(0)-11);else if(a>="K"&&a<="O")c=String.fromCharCode(a.charCodeAt(0)+16);else if(a>="P"&&a<="T")c=String.fromCharCode(a.charCodeAt(0)+43);else if(a==="U")c="\0";else if(a==="V")c="@";else if(a==="W")c="`";else if(a==="X"||a==="Y"||a==="Z")c="";else throw new X;break;case"/":if(a>="A"&&a<="O")c=String.fromCharCode(a.charCodeAt(0)-32);else if(a==="Z")c=":";else throw new X;break}n+=c,r++}else n+=s}return n}}ve.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",ve.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],ve.ASTERISK_ENCODING=148;class _e extends qe{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,t,n){let r=this.decodeStart(t),s=this.decodeEnd(t),a=new Re;_e.decodeMiddle(t,r[1],s[0],a);let c=a.toString(),u=null;n!=null&&(u=n.get(Ne.ALLOWED_LENGTHS)),u==null&&(u=_e.DEFAULT_ALLOWED_LENGTHS);let g=c.length,x=!1,C=0;for(let M of u){if(g===M){x=!0;break}M>C&&(C=M)}if(!x&&g>C&&(x=!0),!x)throw new X;const m=[new v(r[1],e),new v(s[0],e)];return new At(c,null,0,m,ae.ITF,new Date().getTime())}static decodeMiddle(e,t,n,r){let s=new Int32Array(10),a=new Int32Array(5),c=new Int32Array(5);for(s.fill(0),a.fill(0),c.fill(0);t<n;){qe.recordPattern(e,t,s);for(let g=0;g<5;g++){let x=2*g;a[g]=s[x],c[g]=s[x+1]}let u=_e.decodeDigit(a);r.append(u.toString()),u=this.decodeDigit(c),r.append(u.toString()),s.forEach(function(g){t+=g})}}decodeStart(e){let t=_e.skipWhiteSpace(e),n=_e.findGuardPattern(e,t,_e.START_PATTERN);return this.narrowLineWidth=(n[1]-n[0])/4,this.validateQuietZone(e,n[0]),n}validateQuietZone(e,t){let n=this.narrowLineWidth*10;n=n<t?n:t;for(let r=t-1;n>0&&r>=0&&!e.get(r);r--)n--;if(n!==0)throw new F}static skipWhiteSpace(e){const t=e.getSize(),n=e.getNextSet(0);if(n===t)throw new F;return n}decodeEnd(e){e.reverse();try{let t=_e.skipWhiteSpace(e),n;try{n=_e.findGuardPattern(e,t,_e.END_PATTERN_REVERSED[0])}catch(s){s instanceof F&&(n=_e.findGuardPattern(e,t,_e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,n[0]);let r=n[0];return n[0]=e.getSize()-n[1],n[1]=e.getSize()-r,n}finally{e.reverse()}}static findGuardPattern(e,t,n){let r=n.length,s=new Int32Array(r),a=e.getSize(),c=!1,u=0,g=t;s.fill(0);for(let x=t;x<a;x++)if(e.get(x)!==c)s[u]++;else{if(u===r-1){if(qe.patternMatchVariance(s,n,_e.MAX_INDIVIDUAL_VARIANCE)<_e.MAX_AVG_VARIANCE)return[g,x];g+=s[0]+s[1],$.arraycopy(s,2,s,0,u-1),s[u-1]=0,s[u]=0,u--}else u++;s[u]=1,c=!c}throw new F}static decodeDigit(e){let t=_e.MAX_AVG_VARIANCE,n=-1,r=_e.PATTERNS.length;for(let s=0;s<r;s++){let a=_e.PATTERNS[s],c=qe.patternMatchVariance(e,a,_e.MAX_INDIVIDUAL_VARIANCE);c<t?(t=c,n=s):c===t&&(n=-1)}if(n>=0)return n%10;throw new F}}_e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],_e.MAX_AVG_VARIANCE=.38,_e.MAX_INDIVIDUAL_VARIANCE=.5,_e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],_e.START_PATTERN=Int32Array.from([1,1,1,1]),_e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class et extends qe{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let t=!1,n,r=0,s=Int32Array.from([0,0,0]);for(;!t;){s=Int32Array.from([0,0,0]),n=et.findGuardPattern(e,r,!1,this.START_END_PATTERN,s);let a=n[0];r=n[1];let c=a-(r-a);c>=0&&(t=e.isRange(c,a,!1))}return n}static checkChecksum(e){return et.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(t===0)return!1;let n=parseInt(e.charAt(t-1),10);return et.getStandardUPCEANChecksum(e.substring(0,t-1))===n}static getStandardUPCEANChecksum(e){let t=e.length,n=0;for(let r=t-1;r>=0;r-=2){let s=e.charAt(r).charCodeAt(0)-48;if(s<0||s>9)throw new X;n+=s}n*=3;for(let r=t-2;r>=0;r-=2){let s=e.charAt(r).charCodeAt(0)-48;if(s<0||s>9)throw new X;n+=s}return(1e3-n)%10}static decodeEnd(e,t){return et.findGuardPattern(e,t,!1,et.START_END_PATTERN,new Int32Array(et.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,t,n,r){return this.findGuardPattern(e,t,n,r,new Int32Array(r.length))}static findGuardPattern(e,t,n,r,s){let a=e.getSize();t=n?e.getNextUnset(t):e.getNextSet(t);let c=0,u=t,g=r.length,x=n;for(let C=t;C<a;C++)if(e.get(C)!==x)s[c]++;else{if(c===g-1){if(qe.patternMatchVariance(s,r,et.MAX_INDIVIDUAL_VARIANCE)<et.MAX_AVG_VARIANCE)return Int32Array.from([u,C]);u+=s[0]+s[1];let m=s.slice(2,s.length-1);for(let T=0;T<c-1;T++)s[T]=m[T];s[c-1]=0,s[c]=0,c--}else c++;s[c]=1,x=!x}throw new F}static decodeDigit(e,t,n,r){this.recordPattern(e,n,t);let s=this.MAX_AVG_VARIANCE,a=-1,c=r.length;for(let u=0;u<c;u++){let g=r[u],x=qe.patternMatchVariance(t,g,et.MAX_INDIVIDUAL_VARIANCE);x<s&&(s=x,a=u)}if(a>=0)return a;throw new F}}et.MAX_AVG_VARIANCE=.48,et.MAX_INDIVIDUAL_VARIANCE=.7,et.START_END_PATTERN=Int32Array.from([1,1,1]),et.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),et.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),et.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Dr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,n){let r=this.decodeRowStringBuffer,s=this.decodeMiddle(t,n,r),a=r.toString(),c=Dr.parseExtensionString(a),u=[new v((n[0]+n[1])/2,e),new v(s,e)],g=new At(a,null,0,u,ae.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&g.putAllMetadata(c),g}decodeMiddle(e,t,n){let r=this.decodeMiddleCounters;r[0]=0,r[1]=0,r[2]=0,r[3]=0;let s=e.getSize(),a=t[1],c=0;for(let g=0;g<5&&a<s;g++){let x=et.decodeDigit(e,r,a,et.L_AND_G_PATTERNS);n+=String.fromCharCode(48+x%10);for(let C of r)a+=C;x>=10&&(c|=1<<4-g),g!==4&&(a=e.getNextSet(a),a=e.getNextUnset(a))}if(n.length!==5)throw new F;let u=this.determineCheckDigit(c);if(Dr.extensionChecksum(n.toString())!==u)throw new F;return a}static extensionChecksum(e){let t=e.length,n=0;for(let r=t-2;r>=0;r-=2)n+=e.charAt(r).charCodeAt(0)-48;n*=3;for(let r=t-1;r>=0;r-=2)n+=e.charAt(r).charCodeAt(0)-48;return n*=3,n%10}determineCheckDigit(e){for(let t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new F}static parseExtensionString(e){if(e.length!==5)return null;let t=Dr.parseExtension5String(e);return t==null?null:new Map([[at.SUGGESTED_PRICE,t]])}static parseExtension5String(e){let t;switch(e.charAt(0)){case"0":t="£";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}let n=parseInt(e.substring(1)),r=(n/100).toString(),s=n%100,a=s<10?"0"+s:s.toString();return t+r+"."+a}}class Ui{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,n){let r=this.decodeRowStringBuffer,s=this.decodeMiddle(t,n,r),a=r.toString(),c=Ui.parseExtensionString(a),u=[new v((n[0]+n[1])/2,e),new v(s,e)],g=new At(a,null,0,u,ae.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&g.putAllMetadata(c),g}decodeMiddle(e,t,n){let r=this.decodeMiddleCounters;r[0]=0,r[1]=0,r[2]=0,r[3]=0;let s=e.getSize(),a=t[1],c=0;for(let u=0;u<2&&a<s;u++){let g=et.decodeDigit(e,r,a,et.L_AND_G_PATTERNS);n+=String.fromCharCode(48+g%10);for(let x of r)a+=x;g>=10&&(c|=1<<1-u),u!==1&&(a=e.getNextSet(a),a=e.getNextUnset(a))}if(n.length!==2)throw new F;if(parseInt(n.toString())%4!==c)throw new F;return a}static parseExtensionString(e){return e.length!==2?null:new Map([[at.ISSUE_NUMBER,parseInt(e)]])}}class Xs{static decodeRow(e,t,n){let r=et.findGuardPattern(t,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Dr().decodeRow(e,t,r)}catch{return new Ui().decodeRow(e,t,r)}}}Xs.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Fe extends et{constructor(){super(),this.decodeRowStringBuffer="",Fe.L_AND_G_PATTERNS=Fe.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let t=Fe.L_PATTERNS[e-10],n=new Int32Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[t.length-r-1];Fe.L_AND_G_PATTERNS[e]=n}}decodeRow(e,t,n){let r=Fe.findStartGuardPattern(t),s=n==null?null:n.get(Ne.NEED_RESULT_POINT_CALLBACK);if(s!=null){const Y=new v((r[0]+r[1])/2,e);s.foundPossibleResultPoint(Y)}let a=this.decodeMiddle(t,r,this.decodeRowStringBuffer),c=a.rowOffset,u=a.resultString;if(s!=null){const Y=new v(c,e);s.foundPossibleResultPoint(Y)}let g=this.decodeEnd(t,c);if(s!=null){const Y=new v((g[0]+g[1])/2,e);s.foundPossibleResultPoint(Y)}let x=g[1],C=x+(x-g[0]);if(C>=t.getSize()||!t.isRange(x,C,!1))throw new F;let m=u.toString();if(m.length<8)throw new X;if(!Fe.checkChecksum(m))throw new W;let T=(r[1]+r[0])/2,M=(g[1]+g[0])/2,O=this.getBarcodeFormat(),D=[new v(T,e),new v(M,e)],B=new At(m,null,0,D,O,new Date().getTime()),Z=0;try{let Y=Xs.decodeRow(e,t,g[1]);B.putMetadata(at.UPC_EAN_EXTENSION,Y.getText()),B.putAllMetadata(Y.getResultMetadata()),B.addResultPoints(Y.getResultPoints()),Z=Y.getText().length}catch{}let Q=n==null?null:n.get(Ne.ALLOWED_EAN_EXTENSIONS);if(Q!=null){let Y=!1;for(let Me in Q)if(Z.toString()===Me){Y=!0;break}if(!Y)throw new F}return B}decodeEnd(e,t){return Fe.findGuardPattern(e,t,!1,Fe.START_END_PATTERN,new Int32Array(Fe.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return Fe.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(t===0)return!1;let n=parseInt(e.charAt(t-1),10);return Fe.getStandardUPCEANChecksum(e.substring(0,t-1))===n}static getStandardUPCEANChecksum(e){let t=e.length,n=0;for(let r=t-1;r>=0;r-=2){let s=e.charAt(r).charCodeAt(0)-48;if(s<0||s>9)throw new X;n+=s}n*=3;for(let r=t-2;r>=0;r-=2){let s=e.charAt(r).charCodeAt(0)-48;if(s<0||s>9)throw new X;n+=s}return(1e3-n)%10}}class Qn extends Fe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,n){let r=this.decodeMiddleCounters;r[0]=0,r[1]=0,r[2]=0,r[3]=0;let s=e.getSize(),a=t[1],c=0;for(let g=0;g<6&&a<s;g++){let x=Fe.decodeDigit(e,r,a,Fe.L_AND_G_PATTERNS);n+=String.fromCharCode(48+x%10);for(let C of r)a+=C;x>=10&&(c|=1<<5-g)}n=Qn.determineFirstDigit(n,c),a=Fe.findGuardPattern(e,a,!0,Fe.MIDDLE_PATTERN,new Int32Array(Fe.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<6&&a<s;g++){let x=Fe.decodeDigit(e,r,a,Fe.L_PATTERNS);n+=String.fromCharCode(48+x);for(let C of r)a+=C}return{rowOffset:a,resultString:n}}getBarcodeFormat(){return ae.EAN_13}static determineFirstDigit(e,t){for(let n=0;n<10;n++)if(t===this.FIRST_DIGIT_ENCODINGS[n])return e=String.fromCharCode(48+n)+e,e;throw new F}}Qn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Zs extends Fe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,n){const r=this.decodeMiddleCounters;r[0]=0,r[1]=0,r[2]=0,r[3]=0;let s=e.getSize(),a=t[1];for(let u=0;u<4&&a<s;u++){let g=Fe.decodeDigit(e,r,a,Fe.L_PATTERNS);n+=String.fromCharCode(48+g);for(let x of r)a+=x}a=Fe.findGuardPattern(e,a,!0,Fe.MIDDLE_PATTERN,new Int32Array(Fe.MIDDLE_PATTERN.length).fill(0))[1];for(let u=0;u<4&&a<s;u++){let g=Fe.decodeDigit(e,r,a,Fe.L_PATTERNS);n+=String.fromCharCode(48+g);for(let x of r)a+=x}return{rowOffset:a,resultString:n}}getBarcodeFormat(){return ae.EAN_8}}class Ks extends Fe{constructor(){super(...arguments),this.ean13Reader=new Qn}getBarcodeFormat(){return ae.UPC_A}decode(e,t){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,t,n){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,t,n))}decodeMiddle(e,t,n){return this.ean13Reader.decodeMiddle(e,t,n)}maybeReturnResult(e){let t=e.getText();if(t.charAt(0)==="0"){let n=new At(t.substring(1),null,null,e.getResultPoints(),ae.UPC_A);return e.getResultMetadata()!=null&&n.putAllMetadata(e.getResultMetadata()),n}else throw new F}reset(){this.ean13Reader.reset()}}class rn extends Fe{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,t,n){const r=this.decodeMiddleCounters.map(g=>g);r[0]=0,r[1]=0,r[2]=0,r[3]=0;const s=e.getSize();let a=t[1],c=0;for(let g=0;g<6&&a<s;g++){const x=rn.decodeDigit(e,r,a,rn.L_AND_G_PATTERNS);n+=String.fromCharCode(48+x%10);for(let C of r)a+=C;x>=10&&(c|=1<<5-g)}let u=rn.determineNumSysAndCheckDigit(n,c);return{rowOffset:a,resultString:u}}decodeEnd(e,t){return rn.findGuardPatternWithoutCounters(e,t,!0,rn.MIDDLE_END_PATTERN)}checkChecksum(e){return Fe.checkChecksum(rn.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,t){for(let n=0;n<=1;n++)for(let r=0;r<10;r++)if(t===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[n][r]){let s=String.fromCharCode(48+n),a=String.fromCharCode(48+r);return s+e+a}throw F.getNotFoundInstance()}getBarcodeFormat(){return ae.UPC_E}static convertUPCEtoUPCA(e){const t=e.slice(1,7).split("").map(s=>s.charCodeAt(0)),n=new Re;n.append(e.charAt(0));let r=t[5];switch(r){case 0:case 1:case 2:n.appendChars(t,0,2),n.append(r),n.append("0000"),n.appendChars(t,2,3);break;case 3:n.appendChars(t,0,3),n.append("00000"),n.appendChars(t,3,2);break;case 4:n.appendChars(t,0,4),n.append("00000"),n.append(t[4]);break;default:n.appendChars(t,0,5),n.append("0000"),n.append(r);break}return e.length>=8&&n.append(e.charAt(7)),n.toString()}}rn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),rn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Hi extends qe{constructor(e){super();let t=e==null?null:e.get(Ne.POSSIBLE_FORMATS),n=[];f(t)?(n.push(new Qn),n.push(new Ks),n.push(new Zs),n.push(new rn)):(t.indexOf(ae.EAN_13)>-1&&n.push(new Qn),t.indexOf(ae.UPC_A)>-1&&n.push(new Ks),t.indexOf(ae.EAN_8)>-1&&n.push(new Zs),t.indexOf(ae.UPC_E)>-1&&n.push(new rn)),this.readers=n}decodeRow(e,t,n){for(let r of this.readers)try{const s=r.decodeRow(e,t,n),a=s.getBarcodeFormat()===ae.EAN_13&&s.getText().charAt(0)==="0",c=n==null?null:n.get(Ne.POSSIBLE_FORMATS),u=c==null||c.includes(ae.UPC_A);if(a&&u){const g=s.getRawBytes(),x=new At(s.getText().substring(1),g,g?g.length:null,s.getResultPoints(),ae.UPC_A);return x.putAllMetadata(s.getResultMetadata()),x}return s}catch{}throw new F}reset(){for(let e of this.readers)e.reset()}}class St extends qe{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,t){for(let n=0;n<t.length;n++)if(qe.patternMatchVariance(e,t[n],St.MAX_INDIVIDUAL_VARIANCE)<St.MAX_AVG_VARIANCE)return n;throw new F}static count(e){return U.sum(new Int32Array(e))}static increment(e,t){let n=0,r=t[0];for(let s=1;s<e.length;s++)t[s]>r&&(r=t[s],n=s);e[n]++}static decrement(e,t){let n=0,r=t[0];for(let s=1;s<e.length;s++)t[s]<r&&(r=t[s],n=s);e[n]--}static isFinderPattern(e){let t=e[0]+e[1],n=t+e[2]+e[3],r=t/n;if(r>=St.MIN_FINDER_PATTERN_RATIO&&r<=St.MAX_FINDER_PATTERN_RATIO){let s=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;for(let c of e)c>a&&(a=c),c<s&&(s=c);return a<10*s}return!1}}St.MAX_AVG_VARIANCE=.2,St.MAX_INDIVIDUAL_VARIANCE=.45,St.MIN_FINDER_PATTERN_RATIO=9.5/12,St.MAX_FINDER_PATTERN_RATIO=12.5/14;class ur{constructor(e,t){this.value=e,this.checksumPortion=t}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof ur))return!1;const t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ii{constructor(e,t,n,r,s){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new v(n,s)),this.resultPoints.push(new v(r,s))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof ii))return!1;const t=e;return this.value===t.value}hashCode(){return this.value}}class hn{constructor(){}static getRSSvalue(e,t,n){let r=0;for(let u of e)r+=u;let s=0,a=0,c=e.length;for(let u=0;u<c-1;u++){let g;for(g=1,a|=1<<u;g<e[u];g++,a&=~(1<<u)){let x=hn.combins(r-g-1,c-u-2);if(n&&a===0&&r-g-(c-u-1)>=c-u-1&&(x-=hn.combins(r-g-(c-u),c-u-2)),c-u-1>1){let C=0;for(let m=r-g-(c-u-2);m>t;m--)C+=hn.combins(r-g-m-1,c-u-3);x-=C*(c-1-u)}else r-g>t&&x--;s+=x}r-=g}return s}static combins(e,t){let n,r;e-t>t?(r=t,n=e-t):(r=e-t,n=t);let s=1,a=1;for(let c=e;c>n;c--)s*=c,a<=r&&(s/=a,a++);for(;a<=r;)s/=a,a++;return s}}class Al{static buildBitArray(e){let t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);let n=12*t,r=new ee(n),s=0,c=e[0].getRightChar().getValue();for(let u=11;u>=0;--u)(c&1<<u)!=0&&r.set(s),s++;for(let u=1;u<e.length;++u){let g=e[u],x=g.getLeftChar().getValue();for(let C=11;C>=0;--C)(x&1<<C)!=0&&r.set(s),s++;if(g.getRightChar()!=null){let C=g.getRightChar().getValue();for(let m=11;m>=0;--m)(C&1<<m)!=0&&r.set(s),s++}}return r}}class qn{constructor(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Vi{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class Pt extends Vi{constructor(e,t){super(e),this.value=t}getValue(){return this.value}isFNC1(){return this.value===Pt.FNC1}}Pt.FNC1="$";class Jn extends Vi{constructor(e,t,n){super(e),n?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=t}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class qt extends Vi{constructor(e,t,n){if(super(e),t<0||t>10||n<0||n>10)throw new X;this.firstDigit=t,this.secondDigit=n}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===qt.FNC1}isSecondDigitFNC1(){return this.secondDigit===qt.FNC1}isAnyFNC1(){return this.firstDigit===qt.FNC1||this.secondDigit===qt.FNC1}}qt.FNC1=10;class re{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new F;let t=e.substring(0,2);for(let s of re.TWO_DIGIT_DATA_LENGTH)if(s[0]===t)return s[1]===re.VARIABLE_LENGTH?re.processVariableAI(2,s[2],e):re.processFixedAI(2,s[1],e);if(e.length<3)throw new F;let n=e.substring(0,3);for(let s of re.THREE_DIGIT_DATA_LENGTH)if(s[0]===n)return s[1]===re.VARIABLE_LENGTH?re.processVariableAI(3,s[2],e):re.processFixedAI(3,s[1],e);for(let s of re.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(s[0]===n)return s[1]===re.VARIABLE_LENGTH?re.processVariableAI(4,s[2],e):re.processFixedAI(4,s[1],e);if(e.length<4)throw new F;let r=e.substring(0,4);for(let s of re.FOUR_DIGIT_DATA_LENGTH)if(s[0]===r)return s[1]===re.VARIABLE_LENGTH?re.processVariableAI(4,s[2],e):re.processFixedAI(4,s[1],e);throw new F}static processFixedAI(e,t,n){if(n.length<e)throw new F;let r=n.substring(0,e);if(n.length<e+t)throw new F;let s=n.substring(e,e+t),a=n.substring(e+t),c="("+r+")"+s,u=re.parseFieldsInGeneralPurpose(a);return u==null?c:c+u}static processVariableAI(e,t,n){let r=n.substring(0,e),s;n.length<e+t?s=n.length:s=e+t;let a=n.substring(e,s),c=n.substring(s),u="("+r+")"+a,g=re.parseFieldsInGeneralPurpose(c);return g==null?u:u+g}}re.VARIABLE_LENGTH=[],re.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",re.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",re.VARIABLE_LENGTH,20],["22",re.VARIABLE_LENGTH,29],["30",re.VARIABLE_LENGTH,8],["37",re.VARIABLE_LENGTH,8],["90",re.VARIABLE_LENGTH,30],["91",re.VARIABLE_LENGTH,30],["92",re.VARIABLE_LENGTH,30],["93",re.VARIABLE_LENGTH,30],["94",re.VARIABLE_LENGTH,30],["95",re.VARIABLE_LENGTH,30],["96",re.VARIABLE_LENGTH,30],["97",re.VARIABLE_LENGTH,3],["98",re.VARIABLE_LENGTH,30],["99",re.VARIABLE_LENGTH,30]],re.THREE_DIGIT_DATA_LENGTH=[["240",re.VARIABLE_LENGTH,30],["241",re.VARIABLE_LENGTH,30],["242",re.VARIABLE_LENGTH,6],["250",re.VARIABLE_LENGTH,30],["251",re.VARIABLE_LENGTH,30],["253",re.VARIABLE_LENGTH,17],["254",re.VARIABLE_LENGTH,20],["400",re.VARIABLE_LENGTH,30],["401",re.VARIABLE_LENGTH,30],["402",17],["403",re.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",re.VARIABLE_LENGTH,20],["421",re.VARIABLE_LENGTH,15],["422",3],["423",re.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],re.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",re.VARIABLE_LENGTH,15],["391",re.VARIABLE_LENGTH,18],["392",re.VARIABLE_LENGTH,15],["393",re.VARIABLE_LENGTH,18],["703",re.VARIABLE_LENGTH,30]],re.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",re.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",re.VARIABLE_LENGTH,20],["8003",re.VARIABLE_LENGTH,30],["8004",re.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",re.VARIABLE_LENGTH,30],["8008",re.VARIABLE_LENGTH,12],["8018",18],["8020",re.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",re.VARIABLE_LENGTH,70],["8200",re.VARIABLE_LENGTH,70]];class fr{constructor(e){this.buffer=new Re,this.information=e}decodeAllCodes(e,t){let n=t,r=null;do{let s=this.decodeGeneralPurposeField(n,r),a=re.parseFieldsInGeneralPurpose(s.getNewString());if(a!=null&&e.append(a),s.isRemaining()?r=""+s.getRemainingValue():r=null,n===s.getNewPosition())break;n=s.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let s=this.extractNumericValueFromBitArray(e,4);return s===0?new qt(this.information.getSize(),qt.FNC1,qt.FNC1):new qt(this.information.getSize(),s-1,qt.FNC1)}let t=this.extractNumericValueFromBitArray(e,7),n=(t-8)/11,r=(t-8)%11;return new qt(e+7,n,r)}extractNumericValueFromBitArray(e,t){return fr.extractNumericValueFromBitArray(this.information,e,t)}static extractNumericValueFromBitArray(e,t,n){let r=0;for(let s=0;s<n;++s)e.get(t+s)&&(r|=1<<n-s-1);return r}decodeGeneralPurposeField(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);let n=this.parseBlocks();return n!=null&&n.isRemaining()?new Jn(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new Jn(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,t;do{let n=this.current.getPosition();if(this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished()),!(n!==this.current.getPosition())&&!e)break}while(!e);return t.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let t;return e.isSecondDigitFNC1()?t=new Jn(this.current.getPosition(),this.buffer.toString()):t=new Jn(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new qn(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let t=new Jn(this.current.getPosition(),this.buffer.toString());return new qn(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new qn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let t=new Jn(this.current.getPosition(),this.buffer.toString());return new qn(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new qn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let t=new Jn(this.current.getPosition(),this.buffer.toString());return new qn(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new qn(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,8);return r>=232&&r<253}decodeIsoIec646(e){let t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Pt(e+5,Pt.FNC1);if(t>=5&&t<15)return new Pt(e+5,"0"+(t-5));let n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new Pt(e+7,""+(n+1));if(n>=90&&n<116)return new Pt(e+7,""+(n+7));let r=this.extractNumericValueFromBitArray(e,8),s;switch(r){case 232:s="!";break;case 233:s='"';break;case 234:s="%";break;case 235:s="&";break;case 236:s="'";break;case 237:s="(";break;case 238:s=")";break;case 239:s="*";break;case 240:s="+";break;case 241:s=",";break;case 242:s="-";break;case 243:s=".";break;case 244:s="/";break;case 245:s=":";break;case 246:s=";";break;case 247:s="<";break;case 248:s="=";break;case 249:s=">";break;case 250:s="?";break;case 251:s="_";break;case 252:s=" ";break;default:throw new X}return new Pt(e+8,s)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63}decodeAlphanumeric(e){let t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Pt(e+5,Pt.FNC1);if(t>=5&&t<15)return new Pt(e+5,"0"+(t-5));let n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new Pt(e+6,""+(n+33));let r;switch(n){case 58:r="*";break;case 59:r=",";break;case 60:r="-";break;case 61:r=".";break;case 62:r="/";break;default:throw new j("Decoding invalid alphanumeric value: "+n)}return new Pt(e+6,r)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0}}class ji{constructor(e){this.information=e,this.generalDecoder=new fr(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Ft extends ji{constructor(e){super(e)}encodeCompressedGtin(e,t){e.append("(01)");let n=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,t,n)}encodeCompressedGtinWithoutAI(e,t,n){for(let r=0;r<4;++r){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(t+10*r,10);s/100===0&&e.append("0"),s/10===0&&e.append("0"),e.append(s)}Ft.appendCheckDigit(e,n)}static appendCheckDigit(e,t){let n=0;for(let r=0;r<13;r++){let s=e.charAt(r+t).charCodeAt(0)-48;n+=(r&1)===0?3*s:s}n=10-n%10,n===10&&(n=0),e.append(n)}}Ft.GTIN_SIZE=40;class hr extends Ft{constructor(e){super(e)}parseInformation(){let e=new Re;e.append("(01)");let t=e.length(),n=this.getGeneralDecoder().extractNumericValueFromBitArray(hr.HEADER_SIZE,4);return e.append(n),this.encodeCompressedGtinWithoutAI(e,hr.HEADER_SIZE+4,t),this.getGeneralDecoder().decodeAllCodes(e,hr.HEADER_SIZE+44)}}hr.HEADER_SIZE=4;class si extends ji{constructor(e){super(e)}parseInformation(){let e=new Re;return this.getGeneralDecoder().decodeAllCodes(e,si.HEADER_SIZE)}}si.HEADER_SIZE=5;class oi extends Ft{constructor(e){super(e)}encodeCompressedWeight(e,t,n){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(t,n);this.addWeightCode(e,r);let s=this.checkWeight(r),a=1e5;for(let c=0;c<5;++c)s/a===0&&e.append("0"),a/=10;e.append(s)}}class dn extends oi{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=dn.HEADER_SIZE+oi.GTIN_SIZE+dn.WEIGHT_SIZE)throw new F;let e=new Re;return this.encodeCompressedGtin(e,dn.HEADER_SIZE),this.encodeCompressedWeight(e,dn.HEADER_SIZE+oi.GTIN_SIZE,dn.WEIGHT_SIZE),e.toString()}}dn.HEADER_SIZE=5,dn.WEIGHT_SIZE=15;class Cl extends dn{constructor(e){super(e)}addWeightCode(e,t){e.append("(3103)")}checkWeight(e){return e}}class ml extends dn{constructor(e){super(e)}addWeightCode(e,t){t<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class gn extends Ft{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<gn.HEADER_SIZE+Ft.GTIN_SIZE)throw new F;let e=new Re;this.encodeCompressedGtin(e,gn.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(gn.HEADER_SIZE+Ft.GTIN_SIZE,gn.LAST_DIGIT_SIZE);e.append("(392"),e.append(t),e.append(")");let n=this.getGeneralDecoder().decodeGeneralPurposeField(gn.HEADER_SIZE+Ft.GTIN_SIZE+gn.LAST_DIGIT_SIZE,null);return e.append(n.getNewString()),e.toString()}}gn.HEADER_SIZE=8,gn.LAST_DIGIT_SIZE=2;class Mt extends Ft{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Mt.HEADER_SIZE+Ft.GTIN_SIZE)throw new F;let e=new Re;this.encodeCompressedGtin(e,Mt.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(Mt.HEADER_SIZE+Ft.GTIN_SIZE,Mt.LAST_DIGIT_SIZE);e.append("(393"),e.append(t),e.append(")");let n=this.getGeneralDecoder().extractNumericValueFromBitArray(Mt.HEADER_SIZE+Ft.GTIN_SIZE+Mt.LAST_DIGIT_SIZE,Mt.FIRST_THREE_DIGITS_SIZE);n/100==0&&e.append("0"),n/10==0&&e.append("0"),e.append(n);let r=this.getGeneralDecoder().decodeGeneralPurposeField(Mt.HEADER_SIZE+Ft.GTIN_SIZE+Mt.LAST_DIGIT_SIZE+Mt.FIRST_THREE_DIGITS_SIZE,null);return e.append(r.getNewString()),e.toString()}}Mt.HEADER_SIZE=8,Mt.LAST_DIGIT_SIZE=2,Mt.FIRST_THREE_DIGITS_SIZE=10;class rt extends oi{constructor(e,t,n){super(e),this.dateCode=n,this.firstAIdigits=t}parseInformation(){if(this.getInformation().getSize()!=rt.HEADER_SIZE+rt.GTIN_SIZE+rt.WEIGHT_SIZE+rt.DATE_SIZE)throw new F;let e=new Re;return this.encodeCompressedGtin(e,rt.HEADER_SIZE),this.encodeCompressedWeight(e,rt.HEADER_SIZE+rt.GTIN_SIZE,rt.WEIGHT_SIZE),this.encodeCompressedDate(e,rt.HEADER_SIZE+rt.GTIN_SIZE+rt.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,t){let n=this.getGeneralDecoder().extractNumericValueFromBitArray(t,rt.DATE_SIZE);if(n==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let r=n%32;n/=32;let s=n%12+1;n/=12;let a=n;a/10==0&&e.append("0"),e.append(a),s/10==0&&e.append("0"),e.append(s),r/10==0&&e.append("0"),e.append(r)}addWeightCode(e,t){e.append("("),e.append(this.firstAIdigits),e.append(t/1e5),e.append(")")}checkWeight(e){return e%1e5}}rt.HEADER_SIZE=8,rt.WEIGHT_SIZE=20,rt.DATE_SIZE=16;function Qs(A){try{if(A.get(1))return new hr(A);if(!A.get(2))return new si(A);switch(fr.extractNumericValueFromBitArray(A,1,4)){case 4:return new Cl(A);case 5:return new ml(A)}switch(fr.extractNumericValueFromBitArray(A,1,5)){case 12:return new gn(A);case 13:return new Mt(A)}switch(fr.extractNumericValueFromBitArray(A,1,7)){case 56:return new rt(A,"310","11");case 57:return new rt(A,"320","11");case 58:return new rt(A,"310","13");case 59:return new rt(A,"320","13");case 60:return new rt(A,"310","15");case 61:return new rt(A,"320","15");case 62:return new rt(A,"310","17");case 63:return new rt(A,"320","17")}}catch(e){throw console.log(e),new j("unknown decoder: "+A)}}class Ln{constructor(e,t,n,r){this.leftchar=e,this.rightchar=t,this.finderpattern=n,this.maybeLast=r}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,t){return e instanceof Ln?Ln.equalsOrNull(e.leftchar,t.leftchar)&&Ln.equalsOrNull(e.rightchar,t.rightchar)&&Ln.equalsOrNull(e.finderpattern,t.finderpattern):!1}static equalsOrNull(e,t){return e===null?t===null:Ln.equals(e,t)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class zi{constructor(e,t,n){this.pairs=e,this.rowNumber=t,this.wasReversed=n}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,t){return e instanceof zi?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1}checkEqualitity(e,t){if(!e||!t)return;let n;return e.forEach((r,s)=>{t.forEach(a=>{r.getLeftChar().getValue()===a.getLeftChar().getValue()&&r.getRightChar().getValue()===a.getRightChar().getValue()&&r.getFinderPatter().getValue()===a.getFinderPatter().getValue()&&(n=!0)})}),n}}class H extends St{constructor(e){super(...arguments),this.pairs=new Array(H.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,t,n){this.pairs.length=0,this.startFromEven=!1;try{return H.constructResult(this.decodeRow2pairs(e,t))}catch(r){this.verbose&&console.log(r)}return this.pairs.length=0,this.startFromEven=!0,H.constructResult(this.decodeRow2pairs(e,t))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,t){let n=!1;for(;!n;)try{this.pairs.push(this.retrieveNextPair(t,this.pairs,e))}catch(s){if(s instanceof F){if(!this.pairs.length)throw new F;n=!0}}if(this.checkChecksum())return this.pairs;let r;if(this.rows.length?r=!0:r=!1,this.storeRow(e,!1),r){let s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new F}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let t=null;try{t=this.checkRows(new Array,0)}catch(n){this.verbose&&console.log(n)}return e&&(this.rows=this.rows.reverse()),t}checkRows(e,t){for(let n=t;n<this.rows.length;n++){let r=this.rows[n];this.pairs.length=0;for(let a of e)this.pairs.push(a.getPairs());if(this.pairs.push(r.getPairs()),!H.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let s=new Array(e);s.push(r);try{return this.checkRows(s,n+1)}catch(a){this.verbose&&console.log(a)}}throw new F}static isValidSequence(e){for(let t of H.FINDER_PATTERN_SEQUENCES){if(e.length>t.length)continue;let n=!0;for(let r=0;r<e.length;r++)if(e[r].getFinderPattern().getValue()!=t[r]){n=!1;break}if(n)return!0}return!1}storeRow(e,t){let n=0,r=!1,s=!1;for(;n<this.rows.length;){let a=this.rows[n];if(a.getRowNumber()>e){s=a.isEquivalent(this.pairs);break}r=a.isEquivalent(this.pairs),n++}s||r||H.isPartialRow(this.pairs,this.rows)||(this.rows.push(n,new zi(this.pairs,e,t)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,t){for(let n of t)if(n.getPairs().length!==e.length){for(let r of n.getPairs())for(let s of e)if(Ln.equals(r,s))break}}static isPartialRow(e,t){for(let n of t){let r=!0;for(let s of e){let a=!1;for(let c of n.getPairs())if(s.equals(c)){a=!0;break}if(!a){r=!1;break}}if(r)return!0}return!1}getRows(){return this.rows}static constructResult(e){let t=Al.buildBitArray(e),r=Qs(t).parseInformation(),s=e[0].getFinderPattern().getResultPoints(),a=e[e.length-1].getFinderPattern().getResultPoints(),c=[s[0],s[1],a[0],a[1]];return new At(r,null,null,c,ae.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),t=e.getLeftChar(),n=e.getRightChar();if(n==null)return!1;let r=n.getChecksumPortion(),s=2;for(let c=1;c<this.pairs.size();++c){let u=this.pairs.get(c);r+=u.getLeftChar().getChecksumPortion(),s++;let g=u.getRightChar();g!=null&&(r+=g.getChecksumPortion(),s++)}return r%=211,211*(s-4)+r==t.getValue()}static getNextSecondBar(e,t){let n;return e.get(t)?(n=e.getNextUnset(t),n=e.getNextSet(n)):(n=e.getNextSet(t),n=e.getNextUnset(n)),n}retrieveNextPair(e,t,n){let r=t.length%2==0;this.startFromEven&&(r=!r);let s,a=!0,c=-1;do this.findNextPair(e,t,c),s=this.parseFoundFinderPattern(e,n,r),s==null?c=H.getNextSecondBar(e,this.startEnd[0]):a=!1;while(a);let u=this.decodeDataCharacter(e,s,r,!0);if(!this.isEmptyPair(t)&&t[t.length-1].mustBeLast())throw new F;let g;try{g=this.decodeDataCharacter(e,s,r,!1)}catch(x){g=null,this.verbose&&console.log(x)}return new Ln(u,g,s,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,t,n){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let s=e.getSize(),a;n>=0?a=n:this.isEmptyPair(t)?a=0:a=t[t.length-1].getFinderPattern().getStartEnd()[1];let c=t.length%2!=0;this.startFromEven&&(c=!c);let u=!1;for(;a<s&&(u=!e.get(a),!!u);)a++;let g=0,x=a;for(let C=a;C<s;C++)if(e.get(C)!=u)r[g]++;else{if(g==3){if(c&&H.reverseCounters(r),H.isFinderPattern(r)){this.startEnd[0]=x,this.startEnd[1]=C;return}c&&H.reverseCounters(r),x+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,g--}else g++;r[g]=1,u=!u}throw new F}static reverseCounters(e){let t=e.length;for(let n=0;n<t/2;++n){let r=e[n];e[n]=e[t-n-1],e[t-n-1]=r}}parseFoundFinderPattern(e,t,n){let r,s,a;if(n){let g=this.startEnd[0]-1;for(;g>=0&&!e.get(g);)g--;g++,r=this.startEnd[0]-g,s=g,a=this.startEnd[1]}else s=this.startEnd[0],a=e.getNextUnset(this.startEnd[1]+1),r=a-this.startEnd[1];let c=this.getDecodeFinderCounters();$.arraycopy(c,0,c,1,c.length-1),c[0]=r;let u;try{u=this.parseFinderValue(c,H.FINDER_PATTERNS)}catch{return null}return new ii(u,[s,a],s,a,t)}decodeDataCharacter(e,t,n,r){let s=this.getDataCharacterCounters();for(let Ze=0;Ze<s.length;Ze++)s[Ze]=0;if(r)H.recordPatternInReverse(e,t.getStartEnd()[0],s);else{H.recordPattern(e,t.getStartEnd()[1],s);for(let Ze=0,It=s.length-1;Ze<It;Ze++,It--){let zt=s[Ze];s[Ze]=s[It],s[It]=zt}}let a=17,c=U.sum(new Int32Array(s))/a,u=(t.getStartEnd()[1]-t.getStartEnd()[0])/15;if(Math.abs(c-u)/u>.3)throw new F;let g=this.getOddCounts(),x=this.getEvenCounts(),C=this.getOddRoundingErrors(),m=this.getEvenRoundingErrors();for(let Ze=0;Ze<s.length;Ze++){let It=1*s[Ze]/c,zt=It+.5;if(zt<1){if(It<.3)throw new F;zt=1}else if(zt>8){if(It>8.7)throw new F;zt=8}let wr=Ze/2;(Ze&1)==0?(g[wr]=zt,C[wr]=It-zt):(x[wr]=zt,m[wr]=It-zt)}this.adjustOddEvenCounts(a);let T=4*t.getValue()+(n?0:2)+(r?0:1)-1,M=0,O=0;for(let Ze=g.length-1;Ze>=0;Ze--){if(H.isNotA1left(t,n,r)){let It=H.WEIGHTS[T][2*Ze];O+=g[Ze]*It}M+=g[Ze]}let D=0;for(let Ze=x.length-1;Ze>=0;Ze--)if(H.isNotA1left(t,n,r)){let It=H.WEIGHTS[T][2*Ze+1];D+=x[Ze]*It}let B=O+D;if((M&1)!=0||M>13||M<4)throw new F;let Z=(13-M)/2,Q=H.SYMBOL_WIDEST[Z],Y=9-Q,Me=hn.getRSSvalue(g,Q,!0),Ee=hn.getRSSvalue(x,Y,!1),Ut=H.EVEN_TOTAL_SUBSET[Z],sn=H.GSUM[Z],Ht=Me*Ut+Ee+sn;return new ur(Ht,B)}static isNotA1left(e,t,n){return!(e.getValue()==0&&t&&n)}adjustOddEvenCounts(e){let t=U.sum(new Int32Array(this.getOddCounts())),n=U.sum(new Int32Array(this.getEvenCounts())),r=!1,s=!1;t>13?s=!0:t<4&&(r=!0);let a=!1,c=!1;n>13?c=!0:n<4&&(a=!0);let u=t+n-e,g=(t&1)==1,x=(n&1)==0;if(u==1)if(g){if(x)throw new F;s=!0}else{if(!x)throw new F;c=!0}else if(u==-1)if(g){if(x)throw new F;r=!0}else{if(!x)throw new F;a=!0}else if(u==0){if(g){if(!x)throw new F;t<n?(r=!0,c=!0):(s=!0,a=!0)}else if(x)throw new F}else throw new F;if(r){if(s)throw new F;H.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&H.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(c)throw new F;H.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&H.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}H.SYMBOL_WIDEST=[7,5,4,3,1],H.EVEN_TOTAL_SUBSET=[4,20,52,104,204],H.GSUM=[0,348,1388,2948,3988],H.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],H.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],H.FINDER_PAT_A=0,H.FINDER_PAT_B=1,H.FINDER_PAT_C=2,H.FINDER_PAT_D=3,H.FINDER_PAT_E=4,H.FINDER_PAT_F=5,H.FINDER_PATTERN_SEQUENCES=[[H.FINDER_PAT_A,H.FINDER_PAT_A],[H.FINDER_PAT_A,H.FINDER_PAT_B,H.FINDER_PAT_B],[H.FINDER_PAT_A,H.FINDER_PAT_C,H.FINDER_PAT_B,H.FINDER_PAT_D],[H.FINDER_PAT_A,H.FINDER_PAT_E,H.FINDER_PAT_B,H.FINDER_PAT_D,H.FINDER_PAT_C],[H.FINDER_PAT_A,H.FINDER_PAT_E,H.FINDER_PAT_B,H.FINDER_PAT_D,H.FINDER_PAT_D,H.FINDER_PAT_F],[H.FINDER_PAT_A,H.FINDER_PAT_E,H.FINDER_PAT_B,H.FINDER_PAT_D,H.FINDER_PAT_E,H.FINDER_PAT_F,H.FINDER_PAT_F],[H.FINDER_PAT_A,H.FINDER_PAT_A,H.FINDER_PAT_B,H.FINDER_PAT_B,H.FINDER_PAT_C,H.FINDER_PAT_C,H.FINDER_PAT_D,H.FINDER_PAT_D],[H.FINDER_PAT_A,H.FINDER_PAT_A,H.FINDER_PAT_B,H.FINDER_PAT_B,H.FINDER_PAT_C,H.FINDER_PAT_C,H.FINDER_PAT_D,H.FINDER_PAT_E,H.FINDER_PAT_E],[H.FINDER_PAT_A,H.FINDER_PAT_A,H.FINDER_PAT_B,H.FINDER_PAT_B,H.FINDER_PAT_C,H.FINDER_PAT_C,H.FINDER_PAT_D,H.FINDER_PAT_E,H.FINDER_PAT_F,H.FINDER_PAT_F],[H.FINDER_PAT_A,H.FINDER_PAT_A,H.FINDER_PAT_B,H.FINDER_PAT_B,H.FINDER_PAT_C,H.FINDER_PAT_D,H.FINDER_PAT_D,H.FINDER_PAT_E,H.FINDER_PAT_E,H.FINDER_PAT_F,H.FINDER_PAT_F]],H.MAX_PAIRS=11;class El extends ur{constructor(e,t,n){super(e,t),this.count=0,this.finderPattern=n}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class lt extends St{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,t,n){const r=this.decodePair(t,!1,e,n);lt.addOrTally(this.possibleLeftPairs,r),t.reverse();let s=this.decodePair(t,!0,e,n);lt.addOrTally(this.possibleRightPairs,s),t.reverse();for(let a of this.possibleLeftPairs)if(a.getCount()>1){for(let c of this.possibleRightPairs)if(c.getCount()>1&&lt.checkChecksum(a,c))return lt.constructResult(a,c)}throw new F}static addOrTally(e,t){if(t==null)return;let n=!1;for(let r of e)if(r.getValue()===t.getValue()){r.incrementCount(),n=!0;break}n||e.push(t)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,t){let n=4537077*e.getValue()+t.getValue(),r=new String(n).toString(),s=new Re;for(let g=13-r.length;g>0;g--)s.append("0");s.append(r);let a=0;for(let g=0;g<13;g++){let x=s.charAt(g).charCodeAt(0)-48;a+=(g&1)===0?3*x:x}a=10-a%10,a===10&&(a=0),s.append(a.toString());let c=e.getFinderPattern().getResultPoints(),u=t.getFinderPattern().getResultPoints();return new At(s.toString(),null,0,[c[0],c[1],u[0],u[1]],ae.RSS_14,new Date().getTime())}static checkChecksum(e,t){let n=(e.getChecksumPortion()+16*t.getChecksumPortion())%79,r=9*e.getFinderPattern().getValue()+t.getFinderPattern().getValue();return r>72&&r--,r>8&&r--,n===r}decodePair(e,t,n,r){try{let s=this.findFinderPattern(e,t),a=this.parseFoundFinderPattern(e,n,t,s),c=r==null?null:r.get(Ne.NEED_RESULT_POINT_CALLBACK);if(c!=null){let x=(s[0]+s[1])/2;t&&(x=e.getSize()-1-x),c.foundPossibleResultPoint(new v(x,n))}let u=this.decodeDataCharacter(e,a,!0),g=this.decodeDataCharacter(e,a,!1);return new El(1597*u.getValue()+g.getValue(),u.getChecksumPortion()+4*g.getChecksumPortion(),a)}catch{return null}}decodeDataCharacter(e,t,n){let r=this.getDataCharacterCounters();for(let D=0;D<r.length;D++)r[D]=0;if(n)qe.recordPatternInReverse(e,t.getStartEnd()[0],r);else{qe.recordPattern(e,t.getStartEnd()[1]+1,r);for(let D=0,B=r.length-1;D<B;D++,B--){let Z=r[D];r[D]=r[B],r[B]=Z}}let s=n?16:15,a=U.sum(new Int32Array(r))/s,c=this.getOddCounts(),u=this.getEvenCounts(),g=this.getOddRoundingErrors(),x=this.getEvenRoundingErrors();for(let D=0;D<r.length;D++){let B=r[D]/a,Z=Math.floor(B+.5);Z<1?Z=1:Z>8&&(Z=8);let Q=Math.floor(D/2);(D&1)===0?(c[Q]=Z,g[Q]=B-Z):(u[Q]=Z,x[Q]=B-Z)}this.adjustOddEvenCounts(n,s);let C=0,m=0;for(let D=c.length-1;D>=0;D--)m*=9,m+=c[D],C+=c[D];let T=0,M=0;for(let D=u.length-1;D>=0;D--)T*=9,T+=u[D],M+=u[D];let O=m+3*T;if(n){if((C&1)!==0||C>12||C<4)throw new F;let D=(12-C)/2,B=lt.OUTSIDE_ODD_WIDEST[D],Z=9-B,Q=hn.getRSSvalue(c,B,!1),Y=hn.getRSSvalue(u,Z,!0),Me=lt.OUTSIDE_EVEN_TOTAL_SUBSET[D],Ee=lt.OUTSIDE_GSUM[D];return new ur(Q*Me+Y+Ee,O)}else{if((M&1)!==0||M>10||M<4)throw new F;let D=(10-M)/2,B=lt.INSIDE_ODD_WIDEST[D],Z=9-B,Q=hn.getRSSvalue(c,B,!0),Y=hn.getRSSvalue(u,Z,!1),Me=lt.INSIDE_ODD_TOTAL_SUBSET[D],Ee=lt.INSIDE_GSUM[D];return new ur(Y*Me+Q+Ee,O)}}findFinderPattern(e,t){let n=this.getDecodeFinderCounters();n[0]=0,n[1]=0,n[2]=0,n[3]=0;let r=e.getSize(),s=!1,a=0;for(;a<r&&(s=!e.get(a),t!==s);)a++;let c=0,u=a;for(let g=a;g<r;g++)if(e.get(g)!==s)n[c]++;else{if(c===3){if(St.isFinderPattern(n))return[u,g];u+=n[0]+n[1],n[0]=n[2],n[1]=n[3],n[2]=0,n[3]=0,c--}else c++;n[c]=1,s=!s}throw new F}parseFoundFinderPattern(e,t,n,r){let s=e.get(r[0]),a=r[0]-1;for(;a>=0&&s!==e.get(a);)a--;a++;const c=r[0]-a,u=this.getDecodeFinderCounters(),g=new Int32Array(u.length);$.arraycopy(u,0,g,1,u.length-1),g[0]=c;const x=this.parseFinderValue(g,lt.FINDER_PATTERNS);let C=a,m=r[1];return n&&(C=e.getSize()-1-C,m=e.getSize()-1-m),new ii(x,[a,r[1]],C,m,t)}adjustOddEvenCounts(e,t){let n=U.sum(new Int32Array(this.getOddCounts())),r=U.sum(new Int32Array(this.getEvenCounts())),s=!1,a=!1,c=!1,u=!1;e?(n>12?a=!0:n<4&&(s=!0),r>12?u=!0:r<4&&(c=!0)):(n>11?a=!0:n<5&&(s=!0),r>10?u=!0:r<4&&(c=!0));let g=n+r-t,x=(n&1)===(e?1:0),C=(r&1)===1;if(g===1)if(x){if(C)throw new F;a=!0}else{if(!C)throw new F;u=!0}else if(g===-1)if(x){if(C)throw new F;s=!0}else{if(!C)throw new F;c=!0}else if(g===0){if(x){if(!C)throw new F;n<r?(s=!0,u=!0):(a=!0,c=!0)}else if(C)throw new F}else throw new F;if(s){if(a)throw new F;St.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&St.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(u)throw new F;St.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&St.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}lt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],lt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],lt.OUTSIDE_GSUM=[0,161,961,2015,2715],lt.INSIDE_GSUM=[0,336,1036,1516],lt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],lt.INSIDE_ODD_WIDEST=[2,4,6,8],lt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class dr extends qe{constructor(e,t){super(),this.readers=[],this.verbose=t===!0;const n=e?e.get(Ne.POSSIBLE_FORMATS):null,r=e&&e.get(Ne.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;n?((n.includes(ae.EAN_13)||n.includes(ae.UPC_A)||n.includes(ae.EAN_8)||n.includes(ae.UPC_E))&&this.readers.push(new Hi(e)),n.includes(ae.CODE_39)&&this.readers.push(new ve(r)),n.includes(ae.CODE_128)&&this.readers.push(new J),n.includes(ae.ITF)&&this.readers.push(new _e),n.includes(ae.RSS_14)&&this.readers.push(new lt),n.includes(ae.RSS_EXPANDED)&&this.readers.push(new H(this.verbose))):(this.readers.push(new Hi(e)),this.readers.push(new ve),this.readers.push(new Hi(e)),this.readers.push(new J),this.readers.push(new _e),this.readers.push(new lt),this.readers.push(new H(this.verbose)))}decodeRow(e,t,n){for(let r=0;r<this.readers.length;r++)try{return this.readers[r].decodeRow(e,t,n)}catch{}throw new F}reset(){this.readers.forEach(e=>e.reset())}}class Il extends fn{constructor(e=500,t){super(new dr(t),e,t)}}class Ue{constructor(e,t,n){this.ecCodewords=e,this.ecBlocks=[t],n&&this.ecBlocks.push(n)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ke{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Oe{constructor(e,t,n,r,s,a){this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=n,this.dataRegionSizeRows=r,this.dataRegionSizeColumns=s,this.ecBlocks=a;let c=0;const u=a.getECCodewords(),g=a.getECBlocks();for(let x of g)c+=x.getCount()*(x.getDataCodewords()+u);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,t){if((e&1)!==0||(t&1)!==0)throw new X;for(let n of Oe.VERSIONS)if(n.symbolSizeRows===e&&n.symbolSizeColumns===t)return n;throw new X}toString(){return""+this.versionNumber}static buildVersions(){return[new Oe(1,10,10,8,8,new Ue(5,new ke(1,3))),new Oe(2,12,12,10,10,new Ue(7,new ke(1,5))),new Oe(3,14,14,12,12,new Ue(10,new ke(1,8))),new Oe(4,16,16,14,14,new Ue(12,new ke(1,12))),new Oe(5,18,18,16,16,new Ue(14,new ke(1,18))),new Oe(6,20,20,18,18,new Ue(18,new ke(1,22))),new Oe(7,22,22,20,20,new Ue(20,new ke(1,30))),new Oe(8,24,24,22,22,new Ue(24,new ke(1,36))),new Oe(9,26,26,24,24,new Ue(28,new ke(1,44))),new Oe(10,32,32,14,14,new Ue(36,new ke(1,62))),new Oe(11,36,36,16,16,new Ue(42,new ke(1,86))),new Oe(12,40,40,18,18,new Ue(48,new ke(1,114))),new Oe(13,44,44,20,20,new Ue(56,new ke(1,144))),new Oe(14,48,48,22,22,new Ue(68,new ke(1,174))),new Oe(15,52,52,24,24,new Ue(42,new ke(2,102))),new Oe(16,64,64,14,14,new Ue(56,new ke(2,140))),new Oe(17,72,72,16,16,new Ue(36,new ke(4,92))),new Oe(18,80,80,18,18,new Ue(48,new ke(4,114))),new Oe(19,88,88,20,20,new Ue(56,new ke(4,144))),new Oe(20,96,96,22,22,new Ue(68,new ke(4,174))),new Oe(21,104,104,24,24,new Ue(56,new ke(6,136))),new Oe(22,120,120,18,18,new Ue(68,new ke(6,175))),new Oe(23,132,132,20,20,new Ue(62,new ke(8,163))),new Oe(24,144,144,22,22,new Ue(62,new ke(8,156),new ke(2,155))),new Oe(25,8,18,6,16,new Ue(7,new ke(1,5))),new Oe(26,8,32,6,14,new Ue(11,new ke(1,10))),new Oe(27,12,26,10,24,new Ue(14,new ke(1,16))),new Oe(28,12,36,10,16,new Ue(18,new ke(1,22))),new Oe(29,16,36,14,16,new Ue(24,new ke(1,32))),new Oe(30,16,48,14,22,new Ue(28,new ke(1,49)))]}}Oe.VERSIONS=Oe.buildVersions();class Wi{constructor(e){const t=e.getHeight();if(t<8||t>144||(t&1)!==0)throw new X;this.version=Wi.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new ot(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const t=e.getHeight(),n=e.getWidth();return Oe.getVersionForDimensions(t,n)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let t=0,n=4,r=0;const s=this.mappingBitMatrix.getHeight(),a=this.mappingBitMatrix.getWidth();let c=!1,u=!1,g=!1,x=!1;do if(n===s&&r===0&&!c)e[t++]=this.readCorner1(s,a)&255,n-=2,r+=2,c=!0;else if(n===s-2&&r===0&&(a&3)!==0&&!u)e[t++]=this.readCorner2(s,a)&255,n-=2,r+=2,u=!0;else if(n===s+4&&r===2&&(a&7)===0&&!g)e[t++]=this.readCorner3(s,a)&255,n-=2,r+=2,g=!0;else if(n===s-2&&r===0&&(a&7)===4&&!x)e[t++]=this.readCorner4(s,a)&255,n-=2,r+=2,x=!0;else{do n<s&&r>=0&&!this.readMappingMatrix.get(r,n)&&(e[t++]=this.readUtah(n,r,s,a)&255),n-=2,r+=2;while(n>=0&&r<a);n+=1,r+=3;do n>=0&&r<a&&!this.readMappingMatrix.get(r,n)&&(e[t++]=this.readUtah(n,r,s,a)&255),n+=2,r-=2;while(n<s&&r>=0);n+=3,r+=1}while(n<s||r<a);if(t!==this.version.getTotalCodewords())throw new X;return e}readModule(e,t,n,r){return e<0&&(e+=n,t+=4-(n+4&7)),t<0&&(t+=r,e+=4-(r+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)}readUtah(e,t,n,r){let s=0;return this.readModule(e-2,t-2,n,r)&&(s|=1),s<<=1,this.readModule(e-2,t-1,n,r)&&(s|=1),s<<=1,this.readModule(e-1,t-2,n,r)&&(s|=1),s<<=1,this.readModule(e-1,t-1,n,r)&&(s|=1),s<<=1,this.readModule(e-1,t,n,r)&&(s|=1),s<<=1,this.readModule(e,t-2,n,r)&&(s|=1),s<<=1,this.readModule(e,t-1,n,r)&&(s|=1),s<<=1,this.readModule(e,t,n,r)&&(s|=1),s}readCorner1(e,t){let n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,1,e,t)&&(n|=1),n<<=1,this.readModule(e-1,2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n}readCorner2(e,t){let n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-4,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n}readCorner3(e,t){let n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-3,e,t)&&(n|=1),n<<=1,this.readModule(1,t-2,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n}readCorner4(e,t){let n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n}extractDataRegion(e){const t=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new b("Dimension of bitMatrix must match the version size");const r=this.version.getDataRegionSizeRows(),s=this.version.getDataRegionSizeColumns(),a=t/r|0,c=n/s|0,u=a*r,g=c*s,x=new ot(g,u);for(let C=0;C<a;++C){const m=C*r;for(let T=0;T<c;++T){const M=T*s;for(let O=0;O<r;++O){const D=C*(r+2)+1+O,B=m+O;for(let Z=0;Z<s;++Z){const Q=T*(s+2)+1+Z;if(e.get(Q,D)){const Y=M+Z;x.set(Y,B)}}}}}return x}}class Gi{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t){const n=t.getECBlocks();let r=0;const s=n.getECBlocks();for(let O of s)r+=O.getCount();const a=new Array(r);let c=0;for(let O of s)for(let D=0;D<O.getCount();D++){const B=O.getDataCodewords(),Z=n.getECCodewords()+B;a[c++]=new Gi(B,new Uint8Array(Z))}const g=a[0].codewords.length-n.getECCodewords(),x=g-1;let C=0;for(let O=0;O<x;O++)for(let D=0;D<c;D++)a[D].codewords[O]=e[C++];const m=t.getVersionNumber()===24,T=m?8:c;for(let O=0;O<T;O++)a[O].codewords[g-1]=e[C++];const M=a[0].codewords.length;for(let O=g;O<M;O++)for(let D=0;D<c;D++){const B=m?(D+8)%c:D,Z=m&&B>7?O-1:O;a[B].codewords[Z]=e[C++]}if(C!==e.length)throw new b;return a}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Yi{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new b(""+e);let t=0,n=this.bitOffset,r=this.byteOffset;const s=this.bytes;if(n>0){const a=8-n,c=e<a?e:a,u=a-c,g=255>>8-c<<u;t=(s[r]&g)>>u,e-=c,n+=c,n===8&&(n=0,r++)}if(e>0){for(;e>=8;)t=t<<8|s[r]&255,r++,e-=8;if(e>0){const a=8-e,c=255>>a<<a;t=t<<e|(s[r]&c)>>a,n+=e}}return this.bitOffset=n,this.byteOffset=r,t}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var gt;(function(A){A[A.PAD_ENCODE=0]="PAD_ENCODE",A[A.ASCII_ENCODE=1]="ASCII_ENCODE",A[A.C40_ENCODE=2]="C40_ENCODE",A[A.TEXT_ENCODE=3]="TEXT_ENCODE",A[A.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",A[A.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",A[A.BASE256_ENCODE=6]="BASE256_ENCODE"})(gt||(gt={}));class Bn{static decode(e){const t=new Yi(e),n=new Re,r=new Re,s=new Array;let a=gt.ASCII_ENCODE;do if(a===gt.ASCII_ENCODE)a=this.decodeAsciiSegment(t,n,r);else{switch(a){case gt.C40_ENCODE:this.decodeC40Segment(t,n);break;case gt.TEXT_ENCODE:this.decodeTextSegment(t,n);break;case gt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,n);break;case gt.EDIFACT_ENCODE:this.decodeEdifactSegment(t,n);break;case gt.BASE256_ENCODE:this.decodeBase256Segment(t,n,s);break;default:throw new X}a=gt.ASCII_ENCODE}while(a!==gt.PAD_ENCODE&&t.available()>0);return r.length()>0&&n.append(r.toString()),new vn(e,n.toString(),s.length===0?null:s,null)}static decodeAsciiSegment(e,t,n){let r=!1;do{let s=e.readBits(8);if(s===0)throw new X;if(s<=128)return r&&(s+=128),t.append(String.fromCharCode(s-1)),gt.ASCII_ENCODE;if(s===129)return gt.PAD_ENCODE;if(s<=229){const a=s-130;a<10&&t.append("0"),t.append(""+a)}else switch(s){case 230:return gt.C40_ENCODE;case 231:return gt.BASE256_ENCODE;case 232:t.append("");break;case 233:case 234:break;case 235:r=!0;break;case 236:t.append("[)>05"),n.insert(0,"");break;case 237:t.append("[)>06"),n.insert(0,"");break;case 238:return gt.ANSIX12_ENCODE;case 239:return gt.TEXT_ENCODE;case 240:return gt.EDIFACT_ENCODE;case 241:break;default:if(s!==254||e.available()!==0)throw new X;break}}while(e.available()>0);return gt.ASCII_ENCODE}static decodeC40Segment(e,t){let n=!1;const r=[];let s=0;do{if(e.available()===8)return;const a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),r);for(let c=0;c<3;c++){const u=r[c];switch(s){case 0:if(u<3)s=u+1;else if(u<this.C40_BASIC_SET_CHARS.length){const g=this.C40_BASIC_SET_CHARS[u];n?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),n=!1):t.append(g)}else throw new X;break;case 1:n?(t.append(String.fromCharCode(u+128)),n=!1):t.append(String.fromCharCode(u)),s=0;break;case 2:if(u<this.C40_SHIFT2_SET_CHARS.length){const g=this.C40_SHIFT2_SET_CHARS[u];n?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),n=!1):t.append(g)}else switch(u){case 27:t.append("");break;case 30:n=!0;break;default:throw new X}s=0;break;case 3:n?(t.append(String.fromCharCode(u+224)),n=!1):t.append(String.fromCharCode(u+96)),s=0;break;default:throw new X}}}while(e.available()>0)}static decodeTextSegment(e,t){let n=!1,r=[],s=0;do{if(e.available()===8)return;const a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),r);for(let c=0;c<3;c++){const u=r[c];switch(s){case 0:if(u<3)s=u+1;else if(u<this.TEXT_BASIC_SET_CHARS.length){const g=this.TEXT_BASIC_SET_CHARS[u];n?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),n=!1):t.append(g)}else throw new X;break;case 1:n?(t.append(String.fromCharCode(u+128)),n=!1):t.append(String.fromCharCode(u)),s=0;break;case 2:if(u<this.TEXT_SHIFT2_SET_CHARS.length){const g=this.TEXT_SHIFT2_SET_CHARS[u];n?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),n=!1):t.append(g)}else switch(u){case 27:t.append("");break;case 30:n=!0;break;default:throw new X}s=0;break;case 3:if(u<this.TEXT_SHIFT3_SET_CHARS.length){const g=this.TEXT_SHIFT3_SET_CHARS[u];n?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),n=!1):t.append(g),s=0}else throw new X;break;default:throw new X}}}while(e.available()>0)}static decodeAnsiX12Segment(e,t){const n=[];do{if(e.available()===8)return;const r=e.readBits(8);if(r===254)return;this.parseTwoBytes(r,e.readBits(8),n);for(let s=0;s<3;s++){const a=n[s];switch(a){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(a<14)t.append(String.fromCharCode(a+44));else if(a<40)t.append(String.fromCharCode(a+51));else throw new X;break}}}while(e.available()>0)}static parseTwoBytes(e,t,n){let r=(e<<8)+t-1,s=Math.floor(r/1600);n[0]=s,r-=s*1600,s=Math.floor(r/40),n[1]=s,n[2]=r-s*40}static decodeEdifactSegment(e,t){do{if(e.available()<=16)return;for(let n=0;n<4;n++){let r=e.readBits(6);if(r===31){const s=8-e.getBitOffset();s!==8&&e.readBits(s);return}(r&32)===0&&(r|=64),t.append(String.fromCharCode(r))}}while(e.available()>0)}static decodeBase256Segment(e,t,n){let r=1+e.getByteOffset();const s=this.unrandomize255State(e.readBits(8),r++);let a;if(s===0?a=e.available()/8|0:s<250?a=s:a=250*(s-249)+this.unrandomize255State(e.readBits(8),r++),a<0)throw new X;const c=new Uint8Array(a);for(let u=0;u<a;u++){if(e.available()<8)throw new X;c[u]=this.unrandomize255State(e.readBits(8),r++)}n.push(c);try{t.append(ht.decode(c,de.ISO88591))}catch(u){throw new j("Platform does not support required encoding: "+u.message)}}static unrandomize255State(e,t){const n=149*t%255+1,r=e-n;return r>=0?r:r+256}}Bn.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Bn.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Bn.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Bn.TEXT_SHIFT2_SET_CHARS=Bn.C40_SHIFT2_SET_CHARS,Bn.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class yl{constructor(){this.rsDecoder=new V(N.DATA_MATRIX_FIELD_256)}decode(e){const t=new Wi(e),n=t.getVersion(),r=t.readCodewords(),s=Gi.getDataBlocks(r,n);let a=0;for(let g of s)a+=g.getNumDataCodewords();const c=new Uint8Array(a),u=s.length;for(let g=0;g<u;g++){const x=s[g],C=x.getCodewords(),m=x.getNumDataCodewords();this.correctErrors(C,m);for(let T=0;T<m;T++)c[T*u+g]=C[T]}return Bn.decode(c)}correctErrors(e,t){const n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new W}for(let r=0;r<t;r++)e[r]=n[r]}}class ft{constructor(e){this.image=e,this.rectangleDetector=new oe(this.image)}detect(){const e=this.rectangleDetector.detect();let t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new F;t=this.shiftToModuleCenter(t);const n=t[0],r=t[1],s=t[2],a=t[3];let c=this.transitionsBetween(n,a)+1,u=this.transitionsBetween(s,a)+1;(c&1)===1&&(c+=1),(u&1)===1&&(u+=1),4*c<7*u&&4*u<7*c&&(c=u=Math.max(c,u));let g=ft.sampleGrid(this.image,n,r,s,a,c,u);return new ue(g,[n,r,s,a])}static shiftPoint(e,t,n){let r=(t.getX()-e.getX())/(n+1),s=(t.getY()-e.getY())/(n+1);return new v(e.getX()+r,e.getY()+s)}static moveAway(e,t,n){let r=e.getX(),s=e.getY();return r<t?r-=1:r+=1,s<n?s-=1:s+=1,new v(r,s)}detectSolid1(e){let t=e[0],n=e[1],r=e[3],s=e[2],a=this.transitionsBetween(t,n),c=this.transitionsBetween(n,r),u=this.transitionsBetween(r,s),g=this.transitionsBetween(s,t),x=a,C=[s,t,n,r];return x>c&&(x=c,C[0]=t,C[1]=n,C[2]=r,C[3]=s),x>u&&(x=u,C[0]=n,C[1]=r,C[2]=s,C[3]=t),x>g&&(C[0]=r,C[1]=s,C[2]=t,C[3]=n),C}detectSolid2(e){let t=e[0],n=e[1],r=e[2],s=e[3],a=this.transitionsBetween(t,s),c=ft.shiftPoint(n,r,(a+1)*4),u=ft.shiftPoint(r,n,(a+1)*4),g=this.transitionsBetween(c,t),x=this.transitionsBetween(u,s);return g<x?(e[0]=t,e[1]=n,e[2]=r,e[3]=s):(e[0]=n,e[1]=r,e[2]=s,e[3]=t),e}correctTopRight(e){let t=e[0],n=e[1],r=e[2],s=e[3],a=this.transitionsBetween(t,s),c=this.transitionsBetween(n,s),u=ft.shiftPoint(t,n,(c+1)*4),g=ft.shiftPoint(r,n,(a+1)*4);a=this.transitionsBetween(u,s),c=this.transitionsBetween(g,s);let x=new v(s.getX()+(r.getX()-n.getX())/(a+1),s.getY()+(r.getY()-n.getY())/(a+1)),C=new v(s.getX()+(t.getX()-n.getX())/(c+1),s.getY()+(t.getY()-n.getY())/(c+1));if(!this.isValid(x))return this.isValid(C)?C:null;if(!this.isValid(C))return x;let m=this.transitionsBetween(u,x)+this.transitionsBetween(g,x),T=this.transitionsBetween(u,C)+this.transitionsBetween(g,C);return m>T?x:C}shiftToModuleCenter(e){let t=e[0],n=e[1],r=e[2],s=e[3],a=this.transitionsBetween(t,s)+1,c=this.transitionsBetween(r,s)+1,u=ft.shiftPoint(t,n,c*4),g=ft.shiftPoint(r,n,a*4);a=this.transitionsBetween(u,s)+1,c=this.transitionsBetween(g,s)+1,(a&1)===1&&(a+=1),(c&1)===1&&(c+=1);let x=(t.getX()+n.getX()+r.getX()+s.getX())/4,C=(t.getY()+n.getY()+r.getY()+s.getY())/4;t=ft.moveAway(t,x,C),n=ft.moveAway(n,x,C),r=ft.moveAway(r,x,C),s=ft.moveAway(s,x,C);let m,T;return u=ft.shiftPoint(t,n,c*4),u=ft.shiftPoint(u,s,a*4),m=ft.shiftPoint(n,t,c*4),m=ft.shiftPoint(m,r,a*4),g=ft.shiftPoint(r,s,c*4),g=ft.shiftPoint(g,n,a*4),T=ft.shiftPoint(s,r,c*4),T=ft.shiftPoint(T,t,a*4),[u,m,g,T]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,t,n,r,s,a,c){return be.getInstance().sampleGrid(e,a,c,.5,.5,a-.5,.5,a-.5,c-.5,.5,c-.5,t.getX(),t.getY(),s.getX(),s.getY(),r.getX(),r.getY(),n.getX(),n.getY())}transitionsBetween(e,t){let n=Math.trunc(e.getX()),r=Math.trunc(e.getY()),s=Math.trunc(t.getX()),a=Math.trunc(t.getY()),c=Math.abs(a-r)>Math.abs(s-n);if(c){let O=n;n=r,r=O,O=s,s=a,a=O}let u=Math.abs(s-n),g=Math.abs(a-r),x=-u/2,C=r<a?1:-1,m=n<s?1:-1,T=0,M=this.image.get(c?r:n,c?n:r);for(let O=n,D=r;O!==s;O+=m){let B=this.image.get(c?D:O,c?O:D);if(B!==M&&(T++,M=B),x+=g,x>0){if(D===a)break;D+=C,x-=u}}return T}}class Pn{constructor(){this.decoder=new yl}decode(e,t=null){let n,r;if(t!=null&&t.has(Ne.PURE_BARCODE)){const g=Pn.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(g),r=Pn.NO_POINTS}else{const g=new ft(e.getBlackMatrix()).detect();n=this.decoder.decode(g.getBits()),r=g.getPoints()}const s=n.getRawBytes(),a=new At(n.getText(),s,8*s.length,r,ae.DATA_MATRIX,$.currentTimeMillis()),c=n.getByteSegments();c!=null&&a.putMetadata(at.BYTE_SEGMENTS,c);const u=n.getECLevel();return u!=null&&a.putMetadata(at.ERROR_CORRECTION_LEVEL,u),a}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t==null||n==null)throw new F;const r=this.moduleSize(t,e);let s=t[1];const a=n[1];let c=t[0];const g=(n[0]-c+1)/r,x=(a-s+1)/r;if(g<=0||x<=0)throw new F;const C=r/2;s+=C,c+=C;const m=new ot(g,x);for(let T=0;T<x;T++){const M=s+T*r;for(let O=0;O<g;O++)e.get(c+O*r,M)&&m.set(O,T)}return m}static moduleSize(e,t){const n=t.getWidth();let r=e[0];const s=e[1];for(;r<n&&t.get(r,s);)r++;if(r===n)throw new F;const a=r-e[0];if(a===0)throw new F;return a}}Pn.NO_POINTS=[];class Sl extends fn{constructor(e=500){super(new Pn,e)}}var gr;(function(A){A[A.L=0]="L",A[A.M=1]="M",A[A.Q=2]="Q",A[A.H=3]="H"})(gr||(gr={}));class Je{constructor(e,t,n){this.value=e,this.stringValue=t,this.bits=n,Je.FOR_BITS.set(n,this),Je.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return Je.L;case"M":return Je.M;case"Q":return Je.Q;case"H":return Je.H;default:throw new S(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof Je))return!1;const t=e;return this.value===t.value}static forBits(e){if(e<0||e>=Je.FOR_BITS.size)throw new b;return Je.FOR_BITS.get(e)}}Je.FOR_BITS=new Map,Je.FOR_VALUE=new Map,Je.L=new Je(gr.L,"L",1),Je.M=new Je(gr.M,"M",0),Je.Q=new Je(gr.Q,"Q",3),Je.H=new Je(gr.H,"H",2);class Tt{constructor(e){this.errorCorrectionLevel=Je.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,t){return ne.bitCount(e^t)}static decodeFormatInformation(e,t){const n=Tt.doDecodeFormatInformation(e,t);return n!==null?n:Tt.doDecodeFormatInformation(e^Tt.FORMAT_INFO_MASK_QR,t^Tt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,t){let n=Number.MAX_SAFE_INTEGER,r=0;for(const s of Tt.FORMAT_INFO_DECODE_LOOKUP){const a=s[0];if(a===e||a===t)return new Tt(s[1]);let c=Tt.numBitsDiffering(e,a);c<n&&(r=s[1],n=c),e!==t&&(c=Tt.numBitsDiffering(t,a),c<n&&(r=s[1],n=c))}return n<=3?new Tt(r):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof Tt))return!1;const t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask}}Tt.FORMAT_INFO_MASK_QR=21522,Tt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class R{constructor(e,...t){this.ecCodewordsPerBlock=e,this.ecBlocks=t}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const t=this.ecBlocks;for(const n of t)e+=n.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class y{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class le{constructor(e,t,...n){this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=n;let r=0;const s=n[0].getECCodewordsPerBlock(),a=n[0].getECBlocks();for(const c of a)r+=c.getCount()*(c.getDataCodewords()+s);this.totalCodewords=r}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new X;try{return this.getVersionForNumber((e-17)/4)}catch{throw new X}}static getVersionForNumber(e){if(e<1||e>40)throw new b;return le.VERSIONS[e-1]}static decodeVersionInformation(e){let t=Number.MAX_SAFE_INTEGER,n=0;for(let r=0;r<le.VERSION_DECODE_INFO.length;r++){const s=le.VERSION_DECODE_INFO[r];if(s===e)return le.getVersionForNumber(r+7);const a=Tt.numBitsDiffering(e,s);a<t&&(n=r+7,t=a)}return t<=3?le.getVersionForNumber(n):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),t=new ot(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);const n=this.alignmentPatternCenters.length;for(let r=0;r<n;r++){const s=this.alignmentPatternCenters[r]-2;for(let a=0;a<n;a++)r===0&&(a===0||a===n-1)||r===n-1&&a===0||t.setRegion(this.alignmentPatternCenters[a]-2,s,5,5)}return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t}toString(){return""+this.versionNumber}}le.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),le.VERSIONS=[new le(1,new Int32Array(0),new R(7,new y(1,19)),new R(10,new y(1,16)),new R(13,new y(1,13)),new R(17,new y(1,9))),new le(2,Int32Array.from([6,18]),new R(10,new y(1,34)),new R(16,new y(1,28)),new R(22,new y(1,22)),new R(28,new y(1,16))),new le(3,Int32Array.from([6,22]),new R(15,new y(1,55)),new R(26,new y(1,44)),new R(18,new y(2,17)),new R(22,new y(2,13))),new le(4,Int32Array.from([6,26]),new R(20,new y(1,80)),new R(18,new y(2,32)),new R(26,new y(2,24)),new R(16,new y(4,9))),new le(5,Int32Array.from([6,30]),new R(26,new y(1,108)),new R(24,new y(2,43)),new R(18,new y(2,15),new y(2,16)),new R(22,new y(2,11),new y(2,12))),new le(6,Int32Array.from([6,34]),new R(18,new y(2,68)),new R(16,new y(4,27)),new R(24,new y(4,19)),new R(28,new y(4,15))),new le(7,Int32Array.from([6,22,38]),new R(20,new y(2,78)),new R(18,new y(4,31)),new R(18,new y(2,14),new y(4,15)),new R(26,new y(4,13),new y(1,14))),new le(8,Int32Array.from([6,24,42]),new R(24,new y(2,97)),new R(22,new y(2,38),new y(2,39)),new R(22,new y(4,18),new y(2,19)),new R(26,new y(4,14),new y(2,15))),new le(9,Int32Array.from([6,26,46]),new R(30,new y(2,116)),new R(22,new y(3,36),new y(2,37)),new R(20,new y(4,16),new y(4,17)),new R(24,new y(4,12),new y(4,13))),new le(10,Int32Array.from([6,28,50]),new R(18,new y(2,68),new y(2,69)),new R(26,new y(4,43),new y(1,44)),new R(24,new y(6,19),new y(2,20)),new R(28,new y(6,15),new y(2,16))),new le(11,Int32Array.from([6,30,54]),new R(20,new y(4,81)),new R(30,new y(1,50),new y(4,51)),new R(28,new y(4,22),new y(4,23)),new R(24,new y(3,12),new y(8,13))),new le(12,Int32Array.from([6,32,58]),new R(24,new y(2,92),new y(2,93)),new R(22,new y(6,36),new y(2,37)),new R(26,new y(4,20),new y(6,21)),new R(28,new y(7,14),new y(4,15))),new le(13,Int32Array.from([6,34,62]),new R(26,new y(4,107)),new R(22,new y(8,37),new y(1,38)),new R(24,new y(8,20),new y(4,21)),new R(22,new y(12,11),new y(4,12))),new le(14,Int32Array.from([6,26,46,66]),new R(30,new y(3,115),new y(1,116)),new R(24,new y(4,40),new y(5,41)),new R(20,new y(11,16),new y(5,17)),new R(24,new y(11,12),new y(5,13))),new le(15,Int32Array.from([6,26,48,70]),new R(22,new y(5,87),new y(1,88)),new R(24,new y(5,41),new y(5,42)),new R(30,new y(5,24),new y(7,25)),new R(24,new y(11,12),new y(7,13))),new le(16,Int32Array.from([6,26,50,74]),new R(24,new y(5,98),new y(1,99)),new R(28,new y(7,45),new y(3,46)),new R(24,new y(15,19),new y(2,20)),new R(30,new y(3,15),new y(13,16))),new le(17,Int32Array.from([6,30,54,78]),new R(28,new y(1,107),new y(5,108)),new R(28,new y(10,46),new y(1,47)),new R(28,new y(1,22),new y(15,23)),new R(28,new y(2,14),new y(17,15))),new le(18,Int32Array.from([6,30,56,82]),new R(30,new y(5,120),new y(1,121)),new R(26,new y(9,43),new y(4,44)),new R(28,new y(17,22),new y(1,23)),new R(28,new y(2,14),new y(19,15))),new le(19,Int32Array.from([6,30,58,86]),new R(28,new y(3,113),new y(4,114)),new R(26,new y(3,44),new y(11,45)),new R(26,new y(17,21),new y(4,22)),new R(26,new y(9,13),new y(16,14))),new le(20,Int32Array.from([6,34,62,90]),new R(28,new y(3,107),new y(5,108)),new R(26,new y(3,41),new y(13,42)),new R(30,new y(15,24),new y(5,25)),new R(28,new y(15,15),new y(10,16))),new le(21,Int32Array.from([6,28,50,72,94]),new R(28,new y(4,116),new y(4,117)),new R(26,new y(17,42)),new R(28,new y(17,22),new y(6,23)),new R(30,new y(19,16),new y(6,17))),new le(22,Int32Array.from([6,26,50,74,98]),new R(28,new y(2,111),new y(7,112)),new R(28,new y(17,46)),new R(30,new y(7,24),new y(16,25)),new R(24,new y(34,13))),new le(23,Int32Array.from([6,30,54,78,102]),new R(30,new y(4,121),new y(5,122)),new R(28,new y(4,47),new y(14,48)),new R(30,new y(11,24),new y(14,25)),new R(30,new y(16,15),new y(14,16))),new le(24,Int32Array.from([6,28,54,80,106]),new R(30,new y(6,117),new y(4,118)),new R(28,new y(6,45),new y(14,46)),new R(30,new y(11,24),new y(16,25)),new R(30,new y(30,16),new y(2,17))),new le(25,Int32Array.from([6,32,58,84,110]),new R(26,new y(8,106),new y(4,107)),new R(28,new y(8,47),new y(13,48)),new R(30,new y(7,24),new y(22,25)),new R(30,new y(22,15),new y(13,16))),new le(26,Int32Array.from([6,30,58,86,114]),new R(28,new y(10,114),new y(2,115)),new R(28,new y(19,46),new y(4,47)),new R(28,new y(28,22),new y(6,23)),new R(30,new y(33,16),new y(4,17))),new le(27,Int32Array.from([6,34,62,90,118]),new R(30,new y(8,122),new y(4,123)),new R(28,new y(22,45),new y(3,46)),new R(30,new y(8,23),new y(26,24)),new R(30,new y(12,15),new y(28,16))),new le(28,Int32Array.from([6,26,50,74,98,122]),new R(30,new y(3,117),new y(10,118)),new R(28,new y(3,45),new y(23,46)),new R(30,new y(4,24),new y(31,25)),new R(30,new y(11,15),new y(31,16))),new le(29,Int32Array.from([6,30,54,78,102,126]),new R(30,new y(7,116),new y(7,117)),new R(28,new y(21,45),new y(7,46)),new R(30,new y(1,23),new y(37,24)),new R(30,new y(19,15),new y(26,16))),new le(30,Int32Array.from([6,26,52,78,104,130]),new R(30,new y(5,115),new y(10,116)),new R(28,new y(19,47),new y(10,48)),new R(30,new y(15,24),new y(25,25)),new R(30,new y(23,15),new y(25,16))),new le(31,Int32Array.from([6,30,56,82,108,134]),new R(30,new y(13,115),new y(3,116)),new R(28,new y(2,46),new y(29,47)),new R(30,new y(42,24),new y(1,25)),new R(30,new y(23,15),new y(28,16))),new le(32,Int32Array.from([6,34,60,86,112,138]),new R(30,new y(17,115)),new R(28,new y(10,46),new y(23,47)),new R(30,new y(10,24),new y(35,25)),new R(30,new y(19,15),new y(35,16))),new le(33,Int32Array.from([6,30,58,86,114,142]),new R(30,new y(17,115),new y(1,116)),new R(28,new y(14,46),new y(21,47)),new R(30,new y(29,24),new y(19,25)),new R(30,new y(11,15),new y(46,16))),new le(34,Int32Array.from([6,34,62,90,118,146]),new R(30,new y(13,115),new y(6,116)),new R(28,new y(14,46),new y(23,47)),new R(30,new y(44,24),new y(7,25)),new R(30,new y(59,16),new y(1,17))),new le(35,Int32Array.from([6,30,54,78,102,126,150]),new R(30,new y(12,121),new y(7,122)),new R(28,new y(12,47),new y(26,48)),new R(30,new y(39,24),new y(14,25)),new R(30,new y(22,15),new y(41,16))),new le(36,Int32Array.from([6,24,50,76,102,128,154]),new R(30,new y(6,121),new y(14,122)),new R(28,new y(6,47),new y(34,48)),new R(30,new y(46,24),new y(10,25)),new R(30,new y(2,15),new y(64,16))),new le(37,Int32Array.from([6,28,54,80,106,132,158]),new R(30,new y(17,122),new y(4,123)),new R(28,new y(29,46),new y(14,47)),new R(30,new y(49,24),new y(10,25)),new R(30,new y(24,15),new y(46,16))),new le(38,Int32Array.from([6,32,58,84,110,136,162]),new R(30,new y(4,122),new y(18,123)),new R(28,new y(13,46),new y(32,47)),new R(30,new y(48,24),new y(14,25)),new R(30,new y(42,15),new y(32,16))),new le(39,Int32Array.from([6,26,54,82,110,138,166]),new R(30,new y(20,117),new y(4,118)),new R(28,new y(40,47),new y(7,48)),new R(30,new y(43,24),new y(22,25)),new R(30,new y(10,15),new y(67,16))),new le(40,Int32Array.from([6,30,58,86,114,142,170]),new R(30,new y(19,118),new y(6,119)),new R(28,new y(18,47),new y(31,48)),new R(30,new y(34,24),new y(34,25)),new R(30,new y(20,15),new y(61,16)))];var pt;(function(A){A[A.DATA_MASK_000=0]="DATA_MASK_000",A[A.DATA_MASK_001=1]="DATA_MASK_001",A[A.DATA_MASK_010=2]="DATA_MASK_010",A[A.DATA_MASK_011=3]="DATA_MASK_011",A[A.DATA_MASK_100=4]="DATA_MASK_100",A[A.DATA_MASK_101=5]="DATA_MASK_101",A[A.DATA_MASK_110=6]="DATA_MASK_110",A[A.DATA_MASK_111=7]="DATA_MASK_111"})(pt||(pt={}));class Jt{constructor(e,t){this.value=e,this.isMasked=t}unmaskBitMatrix(e,t){for(let n=0;n<t;n++)for(let r=0;r<t;r++)this.isMasked(n,r)&&e.flip(r,n)}}Jt.values=new Map([[pt.DATA_MASK_000,new Jt(pt.DATA_MASK_000,(A,e)=>(A+e&1)===0)],[pt.DATA_MASK_001,new Jt(pt.DATA_MASK_001,(A,e)=>(A&1)===0)],[pt.DATA_MASK_010,new Jt(pt.DATA_MASK_010,(A,e)=>e%3===0)],[pt.DATA_MASK_011,new Jt(pt.DATA_MASK_011,(A,e)=>(A+e)%3===0)],[pt.DATA_MASK_100,new Jt(pt.DATA_MASK_100,(A,e)=>(Math.floor(A/2)+Math.floor(e/3)&1)===0)],[pt.DATA_MASK_101,new Jt(pt.DATA_MASK_101,(A,e)=>A*e%6===0)],[pt.DATA_MASK_110,new Jt(pt.DATA_MASK_110,(A,e)=>A*e%6<3)],[pt.DATA_MASK_111,new Jt(pt.DATA_MASK_111,(A,e)=>(A+e+A*e%3&1)===0)]]);class Tl{constructor(e){const t=e.getHeight();if(t<21||(t&3)!==1)throw new X;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let s=0;s<6;s++)e=this.copyBit(s,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let s=5;s>=0;s--)e=this.copyBit(8,s,e);const t=this.bitMatrix.getHeight();let n=0;const r=t-7;for(let s=t-1;s>=r;s--)n=this.copyBit(8,s,n);for(let s=t-8;s<t;s++)n=this.copyBit(s,8,n);if(this.parsedFormatInfo=Tt.decodeFormatInformation(e,n),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new X}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return le.getVersionForNumber(t);let n=0;const r=e-11;for(let a=5;a>=0;a--)for(let c=e-9;c>=r;c--)n=this.copyBit(c,a,n);let s=le.decodeVersionInformation(n);if(s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;n=0;for(let a=5;a>=0;a--)for(let c=e-9;c>=r;c--)n=this.copyBit(a,c,n);if(s=le.decodeVersionInformation(n),s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;throw new X}copyBit(e,t,n){return(this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t))?n<<1|1:n<<1}readCodewords(){const e=this.readFormatInformation(),t=this.readVersion(),n=Jt.values.get(e.getDataMask()),r=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,r);const s=t.buildFunctionPattern();let a=!0;const c=new Uint8Array(t.getTotalCodewords());let u=0,g=0,x=0;for(let C=r-1;C>0;C-=2){C===6&&C--;for(let m=0;m<r;m++){const T=a?r-1-m:m;for(let M=0;M<2;M++)s.get(C-M,T)||(x++,g<<=1,this.bitMatrix.get(C-M,T)&&(g|=1),x===8&&(c[u++]=g,x=0,g=0))}a=!a}if(u!==t.getTotalCodewords())throw new X;return c}remask(){if(this.parsedFormatInfo===null)return;const e=Jt.values[this.parsedFormatInfo.getDataMask()],t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let t=0,n=e.getWidth();t<n;t++)for(let r=t+1,s=e.getHeight();r<s;r++)e.get(t,r)!==e.get(r,t)&&(e.flip(r,t),e.flip(t,r))}}class Xi{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t,n){if(e.length!==t.getTotalCodewords())throw new b;const r=t.getECBlocksForLevel(n);let s=0;const a=r.getECBlocks();for(const M of a)s+=M.getCount();const c=new Array(s);let u=0;for(const M of a)for(let O=0;O<M.getCount();O++){const D=M.getDataCodewords(),B=r.getECCodewordsPerBlock()+D;c[u++]=new Xi(D,new Uint8Array(B))}const g=c[0].codewords.length;let x=c.length-1;for(;x>=0&&c[x].codewords.length!==g;)x--;x++;const C=g-r.getECCodewordsPerBlock();let m=0;for(let M=0;M<C;M++)for(let O=0;O<u;O++)c[O].codewords[M]=e[m++];for(let M=x;M<u;M++)c[M].codewords[C]=e[m++];const T=c[0].codewords.length;for(let M=C;M<T;M++)for(let O=0;O<u;O++){const D=O<x?M:M+1;c[O].codewords[D]=e[m++]}return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var $t;(function(A){A[A.TERMINATOR=0]="TERMINATOR",A[A.NUMERIC=1]="NUMERIC",A[A.ALPHANUMERIC=2]="ALPHANUMERIC",A[A.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",A[A.BYTE=4]="BYTE",A[A.ECI=5]="ECI",A[A.KANJI=6]="KANJI",A[A.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",A[A.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",A[A.HANZI=9]="HANZI"})($t||($t={}));class he{constructor(e,t,n,r){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=n,this.bits=r,he.FOR_BITS.set(r,this),he.FOR_VALUE.set(e,this)}static forBits(e){const t=he.FOR_BITS.get(e);if(t===void 0)throw new b;return t}getCharacterCountBits(e){const t=e.getVersionNumber();let n;return t<=9?n=0:t<=26?n=1:n=2,this.characterCountBitsForVersions[n]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof he))return!1;const t=e;return this.value===t.value}toString(){return this.stringValue}}he.FOR_BITS=new Map,he.FOR_VALUE=new Map,he.TERMINATOR=new he($t.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),he.NUMERIC=new he($t.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),he.ALPHANUMERIC=new he($t.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),he.STRUCTURED_APPEND=new he($t.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),he.BYTE=new he($t.BYTE,"BYTE",Int32Array.from([8,16,16]),4),he.ECI=new he($t.ECI,"ECI",Int32Array.from([0,0,0]),7),he.KANJI=new he($t.KANJI,"KANJI",Int32Array.from([8,10,12]),8),he.FNC1_FIRST_POSITION=new he($t.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),he.FNC1_SECOND_POSITION=new he($t.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),he.HANZI=new he($t.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class it{static decode(e,t,n,r){const s=new Yi(e);let a=new Re;const c=new Array;let u=-1,g=-1;try{let x=null,C=!1,m;do{if(s.available()<4)m=he.TERMINATOR;else{const T=s.readBits(4);m=he.forBits(T)}switch(m){case he.TERMINATOR:break;case he.FNC1_FIRST_POSITION:case he.FNC1_SECOND_POSITION:C=!0;break;case he.STRUCTURED_APPEND:if(s.available()<16)throw new X;u=s.readBits(8),g=s.readBits(8);break;case he.ECI:const T=it.parseECIValue(s);if(x=K.getCharacterSetECIByValue(T),x===null)throw new X;break;case he.HANZI:const M=s.readBits(4),O=s.readBits(m.getCharacterCountBits(t));M===it.GB2312_SUBSET&&it.decodeHanziSegment(s,a,O);break;default:const D=s.readBits(m.getCharacterCountBits(t));switch(m){case he.NUMERIC:it.decodeNumericSegment(s,a,D);break;case he.ALPHANUMERIC:it.decodeAlphanumericSegment(s,a,D,C);break;case he.BYTE:it.decodeByteSegment(s,a,D,x,c,r);break;case he.KANJI:it.decodeKanjiSegment(s,a,D);break;default:throw new X}break}}while(m!==he.TERMINATOR)}catch{throw new X}return new vn(e,a.toString(),c.length===0?null:c,n===null?null:n.toString(),u,g)}static decodeHanziSegment(e,t,n){if(n*13>e.available())throw new X;const r=new Uint8Array(2*n);let s=0;for(;n>0;){const a=e.readBits(13);let c=a/96<<8&4294967295|a%96;c<959?c+=41377:c+=42657,r[s]=c>>8&255,r[s+1]=c&255,s+=2,n--}try{t.append(ht.decode(r,de.GB2312))}catch(a){throw new X(a)}}static decodeKanjiSegment(e,t,n){if(n*13>e.available())throw new X;const r=new Uint8Array(2*n);let s=0;for(;n>0;){const a=e.readBits(13);let c=a/192<<8&4294967295|a%192;c<7936?c+=33088:c+=49472,r[s]=c>>8,r[s+1]=c,s+=2,n--}try{t.append(ht.decode(r,de.SHIFT_JIS))}catch(a){throw new X(a)}}static decodeByteSegment(e,t,n,r,s,a){if(8*n>e.available())throw new X;const c=new Uint8Array(n);for(let g=0;g<n;g++)c[g]=e.readBits(8);let u;r===null?u=de.guessEncoding(c,a):u=r.getName();try{t.append(ht.decode(c,u))}catch(g){throw new X(g)}s.push(c)}static toAlphaNumericChar(e){if(e>=it.ALPHANUMERIC_CHARS.length)throw new X;return it.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,t,n,r){const s=t.length();for(;n>1;){if(e.available()<11)throw new X;const a=e.readBits(11);t.append(it.toAlphaNumericChar(Math.floor(a/45))),t.append(it.toAlphaNumericChar(a%45)),n-=2}if(n===1){if(e.available()<6)throw new X;t.append(it.toAlphaNumericChar(e.readBits(6)))}if(r)for(let a=s;a<t.length();a++)t.charAt(a)==="%"&&(a<t.length()-1&&t.charAt(a+1)==="%"?t.deleteCharAt(a+1):t.setCharAt(a,""))}static decodeNumericSegment(e,t,n){for(;n>=3;){if(e.available()<10)throw new X;const r=e.readBits(10);if(r>=1e3)throw new X;t.append(it.toAlphaNumericChar(Math.floor(r/100))),t.append(it.toAlphaNumericChar(Math.floor(r/10)%10)),t.append(it.toAlphaNumericChar(r%10)),n-=3}if(n===2){if(e.available()<7)throw new X;const r=e.readBits(7);if(r>=100)throw new X;t.append(it.toAlphaNumericChar(Math.floor(r/10))),t.append(it.toAlphaNumericChar(r%10))}else if(n===1){if(e.available()<4)throw new X;const r=e.readBits(4);if(r>=10)throw new X;t.append(it.toAlphaNumericChar(r))}}static parseECIValue(e){const t=e.readBits(8);if((t&128)===0)return t&127;if((t&192)===128){const n=e.readBits(8);return(t&63)<<8&4294967295|n}if((t&224)===192){const n=e.readBits(16);return(t&31)<<16&4294967295|n}throw new X}}it.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",it.GB2312_SUBSET=1;class qs{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const t=e[0];e[0]=e[2],e[2]=t}}class bl{constructor(){this.rsDecoder=new V(N.QR_CODE_FIELD_256)}decodeBooleanArray(e,t){return this.decodeBitMatrix(ot.parseFromBooleanArray(e),t)}decodeBitMatrix(e,t){const n=new Tl(e);let r=null;try{return this.decodeBitMatrixParser(n,t)}catch(s){r=s}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();const s=this.decodeBitMatrixParser(n,t);return s.setOther(new qs(!0)),s}catch(s){throw r!==null?r:s}}decodeBitMatrixParser(e,t){const n=e.readVersion(),r=e.readFormatInformation().getErrorCorrectionLevel(),s=e.readCodewords(),a=Xi.getDataBlocks(s,n,r);let c=0;for(const x of a)c+=x.getNumDataCodewords();const u=new Uint8Array(c);let g=0;for(const x of a){const C=x.getCodewords(),m=x.getNumDataCodewords();this.correctErrors(C,m);for(let T=0;T<m;T++)u[g++]=C[T]}return it.decode(u,n,r,t)}correctErrors(e,t){const n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new W}for(let r=0;r<t;r++)e[r]=n[r]}}class Zi extends v{constructor(e,t,n){super(e,t),this.estimatedModuleSize=n}aboutEquals(e,t,n){if(Math.abs(t-this.getY())<=e&&Math.abs(n-this.getX())<=e){const r=Math.abs(e-this.estimatedModuleSize);return r<=1||r<=this.estimatedModuleSize}return!1}combineEstimate(e,t,n){const r=(this.getX()+t)/2,s=(this.getY()+e)/2,a=(this.estimatedModuleSize+n)/2;return new Zi(r,s,a)}}class ai{constructor(e,t,n,r,s,a,c){this.image=e,this.startX=t,this.startY=n,this.width=r,this.height=s,this.moduleSize=a,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,t=this.height,n=this.width,r=e+n,s=this.startY+t/2,a=new Int32Array(3),c=this.image;for(let u=0;u<t;u++){const g=s+((u&1)===0?Math.floor((u+1)/2):-Math.floor((u+1)/2));a[0]=0,a[1]=0,a[2]=0;let x=e;for(;x<r&&!c.get(x,g);)x++;let C=0;for(;x<r;){if(c.get(x,g))if(C===1)a[1]++;else if(C===2){if(this.foundPatternCross(a)){const m=this.handlePossibleCenter(a,g,x);if(m!==null)return m}a[0]=a[2],a[1]=1,a[2]=0,C=1}else a[++C]++;else C===1&&C++,a[C]++;x++}if(this.foundPatternCross(a)){const m=this.handlePossibleCenter(a,g,r);if(m!==null)return m}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new F}static centerFromEnd(e,t){return t-e[2]-e[1]/2}foundPatternCross(e){const t=this.moduleSize,n=t/2;for(let r=0;r<3;r++)if(Math.abs(t-e[r])>=n)return!1;return!0}crossCheckVertical(e,t,n,r){const s=this.image,a=s.getHeight(),c=this.crossCheckStateCount;c[0]=0,c[1]=0,c[2]=0;let u=e;for(;u>=0&&s.get(t,u)&&c[1]<=n;)c[1]++,u--;if(u<0||c[1]>n)return NaN;for(;u>=0&&!s.get(t,u)&&c[0]<=n;)c[0]++,u--;if(c[0]>n)return NaN;for(u=e+1;u<a&&s.get(t,u)&&c[1]<=n;)c[1]++,u++;if(u===a||c[1]>n)return NaN;for(;u<a&&!s.get(t,u)&&c[2]<=n;)c[2]++,u++;if(c[2]>n)return NaN;const g=c[0]+c[1]+c[2];return 5*Math.abs(g-r)>=2*r?NaN:this.foundPatternCross(c)?ai.centerFromEnd(c,u):NaN}handlePossibleCenter(e,t,n){const r=e[0]+e[1]+e[2],s=ai.centerFromEnd(e,n),a=this.crossCheckVertical(t,s,2*e[1],r);if(!isNaN(a)){const c=(e[0]+e[1]+e[2])/3;for(const g of this.possibleCenters)if(g.aboutEquals(c,a,s))return g.combineEstimate(a,s,c);const u=new Zi(s,a,c);this.possibleCenters.push(u),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(u)}return null}}class Ki extends v{constructor(e,t,n,r){super(e,t),this.estimatedModuleSize=n,this.count=r,r===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,t,n){if(Math.abs(t-this.getY())<=e&&Math.abs(n-this.getX())<=e){const r=Math.abs(e-this.estimatedModuleSize);return r<=1||r<=this.estimatedModuleSize}return!1}combineEstimate(e,t,n){const r=this.count+1,s=(this.count*this.getX()+t)/r,a=(this.count*this.getY()+e)/r,c=(this.count*this.estimatedModuleSize+n)/r;return new Ki(s,a,c,r)}}class _l{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class wt{constructor(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const t=e!=null&&e.get(Ne.TRY_HARDER)!==void 0,n=e!=null&&e.get(Ne.PURE_BARCODE)!==void 0,r=this.image,s=r.getHeight(),a=r.getWidth();let c=Math.floor(3*s/(4*wt.MAX_MODULES));(c<wt.MIN_SKIP||t)&&(c=wt.MIN_SKIP);let u=!1;const g=new Int32Array(5);for(let C=c-1;C<s&&!u;C+=c){g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0;let m=0;for(let T=0;T<a;T++)if(r.get(T,C))(m&1)===1&&m++,g[m]++;else if((m&1)===0)if(m===4)if(wt.foundPatternCross(g)){if(this.handlePossibleCenter(g,C,T,n)===!0)if(c=2,this.hasSkipped===!0)u=this.haveMultiplyConfirmedCenters();else{const O=this.findRowSkip();O>g[2]&&(C+=O-g[2]-c,T=a-1)}else{g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,m=3;continue}m=0,g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0}else g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,m=3;else g[++m]++;else g[m]++;wt.foundPatternCross(g)&&this.handlePossibleCenter(g,C,a,n)===!0&&(c=g[0],this.hasSkipped&&(u=this.haveMultiplyConfirmedCenters()))}const x=this.selectBestPatterns();return v.orderBestPatterns(x),new _l(x)}static centerFromEnd(e,t){return t-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let t=0;for(let s=0;s<5;s++){const a=e[s];if(a===0)return!1;t+=a}if(t<7)return!1;const n=t/7,r=n/2;return Math.abs(n-e[0])<r&&Math.abs(n-e[1])<r&&Math.abs(3*n-e[2])<3*r&&Math.abs(n-e[3])<r&&Math.abs(n-e[4])<r}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,t,n,r){const s=this.getCrossCheckStateCount();let a=0;const c=this.image;for(;e>=a&&t>=a&&c.get(t-a,e-a);)s[2]++,a++;if(e<a||t<a)return!1;for(;e>=a&&t>=a&&!c.get(t-a,e-a)&&s[1]<=n;)s[1]++,a++;if(e<a||t<a||s[1]>n)return!1;for(;e>=a&&t>=a&&c.get(t-a,e-a)&&s[0]<=n;)s[0]++,a++;if(s[0]>n)return!1;const u=c.getHeight(),g=c.getWidth();for(a=1;e+a<u&&t+a<g&&c.get(t+a,e+a);)s[2]++,a++;if(e+a>=u||t+a>=g)return!1;for(;e+a<u&&t+a<g&&!c.get(t+a,e+a)&&s[3]<n;)s[3]++,a++;if(e+a>=u||t+a>=g||s[3]>=n)return!1;for(;e+a<u&&t+a<g&&c.get(t+a,e+a)&&s[4]<n;)s[4]++,a++;if(s[4]>=n)return!1;const x=s[0]+s[1]+s[2]+s[3]+s[4];return Math.abs(x-r)<2*r&&wt.foundPatternCross(s)}crossCheckVertical(e,t,n,r){const s=this.image,a=s.getHeight(),c=this.getCrossCheckStateCount();let u=e;for(;u>=0&&s.get(t,u);)c[2]++,u--;if(u<0)return NaN;for(;u>=0&&!s.get(t,u)&&c[1]<=n;)c[1]++,u--;if(u<0||c[1]>n)return NaN;for(;u>=0&&s.get(t,u)&&c[0]<=n;)c[0]++,u--;if(c[0]>n)return NaN;for(u=e+1;u<a&&s.get(t,u);)c[2]++,u++;if(u===a)return NaN;for(;u<a&&!s.get(t,u)&&c[3]<n;)c[3]++,u++;if(u===a||c[3]>=n)return NaN;for(;u<a&&s.get(t,u)&&c[4]<n;)c[4]++,u++;if(c[4]>=n)return NaN;const g=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(g-r)>=2*r?NaN:wt.foundPatternCross(c)?wt.centerFromEnd(c,u):NaN}crossCheckHorizontal(e,t,n,r){const s=this.image,a=s.getWidth(),c=this.getCrossCheckStateCount();let u=e;for(;u>=0&&s.get(u,t);)c[2]++,u--;if(u<0)return NaN;for(;u>=0&&!s.get(u,t)&&c[1]<=n;)c[1]++,u--;if(u<0||c[1]>n)return NaN;for(;u>=0&&s.get(u,t)&&c[0]<=n;)c[0]++,u--;if(c[0]>n)return NaN;for(u=e+1;u<a&&s.get(u,t);)c[2]++,u++;if(u===a)return NaN;for(;u<a&&!s.get(u,t)&&c[3]<n;)c[3]++,u++;if(u===a||c[3]>=n)return NaN;for(;u<a&&s.get(u,t)&&c[4]<n;)c[4]++,u++;if(c[4]>=n)return NaN;const g=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(g-r)>=r?NaN:wt.foundPatternCross(c)?wt.centerFromEnd(c,u):NaN}handlePossibleCenter(e,t,n,r){const s=e[0]+e[1]+e[2]+e[3]+e[4];let a=wt.centerFromEnd(e,n),c=this.crossCheckVertical(t,Math.floor(a),e[2],s);if(!isNaN(c)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(c),e[2],s),!isNaN(a)&&(!r||this.crossCheckDiagonal(Math.floor(c),Math.floor(a),e[2],s)))){const u=s/7;let g=!1;const x=this.possibleCenters;for(let C=0,m=x.length;C<m;C++){const T=x[C];if(T.aboutEquals(u,c,a)){x[C]=T.combineEstimate(c,a,u),g=!0;break}}if(!g){const C=new Ki(a,c,u);x.push(C),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(C)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let t=null;for(const n of this.possibleCenters)if(n.getCount()>=wt.CENTER_QUORUM)if(t==null)t=n;else return this.hasSkipped=!0,Math.floor((Math.abs(t.getX()-n.getX())-Math.abs(t.getY()-n.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,t=0;const n=this.possibleCenters.length;for(const a of this.possibleCenters)a.getCount()>=wt.CENTER_QUORUM&&(e++,t+=a.getEstimatedModuleSize());if(e<3)return!1;const r=t/n;let s=0;for(const a of this.possibleCenters)s+=Math.abs(a.getEstimatedModuleSize()-r);return s<=.05*t}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new F;const t=this.possibleCenters;let n;if(e>3){let r=0,s=0;for(const u of this.possibleCenters){const g=u.getEstimatedModuleSize();r+=g,s+=g*g}n=r/e;let a=Math.sqrt(s/e-n*n);t.sort((u,g)=>{const x=Math.abs(g.getEstimatedModuleSize()-n),C=Math.abs(u.getEstimatedModuleSize()-n);return x<C?-1:x>C?1:0});const c=Math.max(.2*n,a);for(let u=0;u<t.length&&t.length>3;u++){const g=t[u];Math.abs(g.getEstimatedModuleSize()-n)>c&&(t.splice(u,1),u--)}}if(t.length>3){let r=0;for(const s of t)r+=s.getEstimatedModuleSize();n=r/t.length,t.sort((s,a)=>{if(a.getCount()===s.getCount()){const c=Math.abs(a.getEstimatedModuleSize()-n),u=Math.abs(s.getEstimatedModuleSize()-n);return c<u?1:c>u?-1:0}else return a.getCount()-s.getCount()}),t.splice(3)}return[t[0],t[1],t[2]]}}wt.CENTER_QUORUM=2,wt.MIN_SKIP=3,wt.MAX_MODULES=57;class Rr{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(Ne.NEED_RESULT_POINT_CALLBACK);const n=new wt(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(n)}processFinderPatternInfo(e){const t=e.getTopLeft(),n=e.getTopRight(),r=e.getBottomLeft(),s=this.calculateModuleSize(t,n,r);if(s<1)throw new F("No pattern found in proccess finder.");const a=Rr.computeDimension(t,n,r,s),c=le.getProvisionalVersionForDimension(a),u=c.getDimensionForVersion()-7;let g=null;if(c.getAlignmentPatternCenters().length>0){const T=n.getX()-t.getX()+r.getX(),M=n.getY()-t.getY()+r.getY(),O=1-3/u,D=Math.floor(t.getX()+O*(T-t.getX())),B=Math.floor(t.getY()+O*(M-t.getY()));for(let Z=4;Z<=16;Z<<=1)try{g=this.findAlignmentInRegion(s,D,B,Z);break}catch(Q){if(!(Q instanceof F))throw Q}}const x=Rr.createTransform(t,n,r,g,a),C=Rr.sampleGrid(this.image,x,a);let m;return g===null?m=[r,t,n]:m=[r,t,n,g],new ue(C,m)}static createTransform(e,t,n,r,s){const a=s-3.5;let c,u,g,x;return r!==null?(c=r.getX(),u=r.getY(),g=a-3,x=g):(c=t.getX()-e.getX()+n.getX(),u=t.getY()-e.getY()+n.getY(),g=a,x=a),we.quadrilateralToQuadrilateral(3.5,3.5,a,3.5,g,x,3.5,a,e.getX(),e.getY(),t.getX(),t.getY(),c,u,n.getX(),n.getY())}static sampleGrid(e,t,n){return be.getInstance().sampleGridWithTransform(e,n,n,t)}static computeDimension(e,t,n,r){const s=U.round(v.distance(e,t)/r),a=U.round(v.distance(e,n)/r);let c=Math.floor((s+a)/2)+7;switch(c&3){case 0:c++;break;case 2:c--;break;case 3:throw new F("Dimensions could be not found.")}return c}calculateModuleSize(e,t,n){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,n))/2}calculateModuleSizeOneWay(e,t){const n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?r/7:isNaN(r)?n/7:(n+r)/14}sizeOfBlackWhiteBlackRunBothWays(e,t,n,r){let s=this.sizeOfBlackWhiteBlackRun(e,t,n,r),a=1,c=e-(n-e);c<0?(a=e/(e-c),c=0):c>=this.image.getWidth()&&(a=(this.image.getWidth()-1-e)/(c-e),c=this.image.getWidth()-1);let u=Math.floor(t-(r-t)*a);return a=1,u<0?(a=t/(t-u),u=0):u>=this.image.getHeight()&&(a=(this.image.getHeight()-1-t)/(u-t),u=this.image.getHeight()-1),c=Math.floor(e+(c-e)*a),s+=this.sizeOfBlackWhiteBlackRun(e,t,c,u),s-1}sizeOfBlackWhiteBlackRun(e,t,n,r){const s=Math.abs(r-t)>Math.abs(n-e);if(s){let T=e;e=t,t=T,T=n,n=r,r=T}const a=Math.abs(n-e),c=Math.abs(r-t);let u=-a/2;const g=e<n?1:-1,x=t<r?1:-1;let C=0;const m=n+g;for(let T=e,M=t;T!==m;T+=g){const O=s?M:T,D=s?T:M;if(C===1===this.image.get(O,D)){if(C===2)return U.distance(T,M,e,t);C++}if(u+=c,u>0){if(M===r)break;M+=x,u-=a}}return C===2?U.distance(n+g,r,e,t):NaN}findAlignmentInRegion(e,t,n,r){const s=Math.floor(r*e),a=Math.max(0,t-s),c=Math.min(this.image.getWidth()-1,t+s);if(c-a<e*3)throw new F("Alignment top exceeds estimated module size.");const u=Math.max(0,n-s),g=Math.min(this.image.getHeight()-1,n+s);if(g-u<e*3)throw new F("Alignment bottom exceeds estimated module size.");return new ai(this.image,a,u,c-a,g-u,e,this.resultPointCallback).find()}}class Fn{constructor(){this.decoder=new bl}getDecoder(){return this.decoder}decode(e,t){let n,r;if(t!=null&&t.get(Ne.PURE_BARCODE)!==void 0){const u=Fn.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(u,t),r=Fn.NO_POINTS}else{const u=new Rr(e.getBlackMatrix()).detect(t);n=this.decoder.decodeBitMatrix(u.getBits(),t),r=u.getPoints()}n.getOther()instanceof qs&&n.getOther().applyMirroredCorrection(r);const s=new At(n.getText(),n.getRawBytes(),void 0,r,ae.QR_CODE,void 0),a=n.getByteSegments();a!==null&&s.putMetadata(at.BYTE_SEGMENTS,a);const c=n.getECLevel();return c!==null&&s.putMetadata(at.ERROR_CORRECTION_LEVEL,c),n.hasStructuredAppend()&&(s.putMetadata(at.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),s.putMetadata(at.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),s}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t===null||n===null)throw new F;const r=this.moduleSize(t,e);let s=t[1],a=n[1],c=t[0],u=n[0];if(c>=u||s>=a)throw new F;if(a-s!==u-c&&(u=c+(a-s),u>=e.getWidth()))throw new F;const g=Math.round((u-c+1)/r),x=Math.round((a-s+1)/r);if(g<=0||x<=0)throw new F;if(x!==g)throw new F;const C=Math.floor(r/2);s+=C,c+=C;const m=c+Math.floor((g-1)*r)-u;if(m>0){if(m>C)throw new F;c-=m}const T=s+Math.floor((x-1)*r)-a;if(T>0){if(T>C)throw new F;s-=T}const M=new ot(g,x);for(let O=0;O<x;O++){const D=s+Math.floor(O*r);for(let B=0;B<g;B++)e.get(c+Math.floor(B*r),D)&&M.set(B,O)}return M}static moduleSize(e,t){const n=t.getHeight(),r=t.getWidth();let s=e[0],a=e[1],c=!0,u=0;for(;s<r&&a<n;){if(c!==t.get(s,a)){if(++u===5)break;c=!c}s++,a++}if(s===r||a===n)throw new F;return(s-e[0])/7}}Fn.NO_POINTS=new Array;class pe{PDF417Common(){}static getBitCountSum(e){return U.sum(e)}static toIntArray(e){if(e==null||!e.length)return pe.EMPTY_INT_ARRAY;const t=new Int32Array(e.length);let n=0;for(const r of e)t[n++]=r;return t}static getCodeword(e){const t=ce.binarySearch(pe.SYMBOL_TABLE,e&262143);return t<0?-1:(pe.CODEWORD_TABLE[t]-1)%pe.NUMBER_OF_CODEWORDS}}pe.NUMBER_OF_CODEWORDS=929,pe.MAX_CODEWORDS_IN_BARCODE=pe.NUMBER_OF_CODEWORDS-1,pe.MIN_ROWS_IN_BARCODE=3,pe.MAX_ROWS_IN_BARCODE=90,pe.MODULES_IN_CODEWORD=17,pe.MODULES_IN_STOP_PATTERN=18,pe.BARS_IN_MODULE=8,pe.EMPTY_INT_ARRAY=new Int32Array([]),pe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),pe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Nl{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class ye{static detectMultiple(e,t,n){let r=e.getBlackMatrix(),s=ye.detect(n,r);return s.length||(r=r.clone(),r.rotate180(),s=ye.detect(n,r)),new Nl(r,s)}static detect(e,t){const n=new Array;let r=0,s=0,a=!1;for(;r<t.getHeight();){const c=ye.findVertices(t,r,s);if(c[0]==null&&c[3]==null){if(!a)break;a=!1,s=0;for(const u of n)u[1]!=null&&(r=Math.trunc(Math.max(r,u[1].getY()))),u[3]!=null&&(r=Math.max(r,Math.trunc(u[3].getY())));r+=ye.ROW_STEP;continue}if(a=!0,n.push(c),!e)break;c[2]!=null?(s=Math.trunc(c[2].getX()),r=Math.trunc(c[2].getY())):(s=Math.trunc(c[4].getX()),r=Math.trunc(c[4].getY()))}return n}static findVertices(e,t,n){const r=e.getHeight(),s=e.getWidth(),a=new Array(8);return ye.copyToResult(a,ye.findRowsWithPattern(e,r,s,t,n,ye.START_PATTERN),ye.INDEXES_START_PATTERN),a[4]!=null&&(n=Math.trunc(a[4].getX()),t=Math.trunc(a[4].getY())),ye.copyToResult(a,ye.findRowsWithPattern(e,r,s,t,n,ye.STOP_PATTERN),ye.INDEXES_STOP_PATTERN),a}static copyToResult(e,t,n){for(let r=0;r<n.length;r++)e[n[r]]=t[r]}static findRowsWithPattern(e,t,n,r,s,a){const c=new Array(4);let u=!1;const g=new Int32Array(a.length);for(;r<t;r+=ye.ROW_STEP){let C=ye.findGuardPattern(e,s,r,n,!1,a,g);if(C!=null){for(;r>0;){const m=ye.findGuardPattern(e,s,--r,n,!1,a,g);if(m!=null)C=m;else{r++;break}}c[0]=new v(C[0],r),c[1]=new v(C[1],r),u=!0;break}}let x=r+1;if(u){let C=0,m=Int32Array.from([Math.trunc(c[0].getX()),Math.trunc(c[1].getX())]);for(;x<t;x++){const T=ye.findGuardPattern(e,m[0],x,n,!1,a,g);if(T!=null&&Math.abs(m[0]-T[0])<ye.MAX_PATTERN_DRIFT&&Math.abs(m[1]-T[1])<ye.MAX_PATTERN_DRIFT)m=T,C=0;else{if(C>ye.SKIPPED_ROW_COUNT_MAX)break;C++}}x-=C+1,c[2]=new v(m[0],x),c[3]=new v(m[1],x)}return x-r<ye.BARCODE_MIN_HEIGHT&&ce.fill(c,null),c}static findGuardPattern(e,t,n,r,s,a,c){ce.fillWithin(c,0,c.length,0);let u=t,g=0;for(;e.get(u,n)&&u>0&&g++<ye.MAX_PIXEL_DRIFT;)u--;let x=u,C=0,m=a.length;for(let T=s;x<r;x++)if(e.get(x,n)!==T)c[C]++;else{if(C===m-1){if(ye.patternMatchVariance(c,a,ye.MAX_INDIVIDUAL_VARIANCE)<ye.MAX_AVG_VARIANCE)return new Int32Array([u,x]);u+=c[0]+c[1],$.arraycopy(c,2,c,0,C-1),c[C-1]=0,c[C]=0,C--}else C++;c[C]=1,T=!T}return C===m-1&&ye.patternMatchVariance(c,a,ye.MAX_INDIVIDUAL_VARIANCE)<ye.MAX_AVG_VARIANCE?new Int32Array([u,x-1]):null}static patternMatchVariance(e,t,n){let r=e.length,s=0,a=0;for(let g=0;g<r;g++)s+=e[g],a+=t[g];if(s<a)return 1/0;let c=s/a;n*=c;let u=0;for(let g=0;g<r;g++){let x=e[g],C=t[g]*c,m=x>C?x-C:C-x;if(m>n)return 1/0;u+=m}return u/s}}ye.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),ye.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),ye.MAX_AVG_VARIANCE=.42,ye.MAX_INDIVIDUAL_VARIANCE=.8,ye.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),ye.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),ye.MAX_PIXEL_DRIFT=3,ye.MAX_PATTERN_DRIFT=5,ye.SKIPPED_ROW_COUNT_MAX=25,ye.ROW_STEP=5,ye.BARCODE_MIN_HEIGHT=10;class mt{constructor(e,t){if(t.length===0)throw new b;this.field=e;let n=t.length;if(n>1&&t[0]===0){let r=1;for(;r<n&&t[r]===0;)r++;r===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-r),$.arraycopy(t,r,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let r=0;for(let s of this.coefficients)r=this.field.add(r,s);return r}let t=this.coefficients[0],n=this.coefficients.length;for(let r=1;r<n;r++)t=this.field.add(this.field.multiply(e,t),this.coefficients[r]);return t}add(e){if(!this.field.equals(e.field))throw new b("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,n=e.coefficients;if(t.length>n.length){let a=t;t=n,n=a}let r=new Int32Array(n.length),s=n.length-t.length;$.arraycopy(n,0,r,0,s);for(let a=s;a<n.length;a++)r[a]=this.field.add(t[a-s],n[a]);return new mt(this.field,r)}subtract(e){if(!this.field.equals(e.field))throw new b("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof mt?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new b("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new mt(this.field,new Int32Array([0]));let t=this.coefficients,n=t.length,r=e.coefficients,s=r.length,a=new Int32Array(n+s-1);for(let c=0;c<n;c++){let u=t[c];for(let g=0;g<s;g++)a[c+g]=this.field.add(a[c+g],this.field.multiply(u,r[g]))}return new mt(this.field,a)}negative(){let e=this.coefficients.length,t=new Int32Array(e);for(let n=0;n<e;n++)t[n]=this.field.subtract(0,this.coefficients[n]);return new mt(this.field,t)}multiplyScalar(e){if(e===0)return new mt(this.field,new Int32Array([0]));if(e===1)return this;let t=this.coefficients.length,n=new Int32Array(t);for(let r=0;r<t;r++)n[r]=this.field.multiply(this.coefficients[r],e);return new mt(this.field,n)}multiplyByMonomial(e,t){if(e<0)throw new b;if(t===0)return new mt(this.field,new Int32Array([0]));let n=this.coefficients.length,r=new Int32Array(n+e);for(let s=0;s<n;s++)r[s]=this.field.multiply(this.coefficients[s],t);return new mt(this.field,r)}toString(){let e=new Re;for(let t=this.getDegree();t>=0;t--){let n=this.getCoefficient(t);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(t===0||n!==1)&&e.append(n),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()}}class Ml{add(e,t){return(e+t)%this.modulus}subtract(e,t){return(this.modulus+e-t)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new b;return this.logTable[e]}inverse(e){if(e===0)throw new _;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Qi extends Ml{constructor(e,t){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let n=1;for(let r=0;r<e;r++)this.expTable[r]=n,n=n*t%e;for(let r=0;r<e-1;r++)this.logTable[this.expTable[r]]=r;this.zero=new mt(this,new Int32Array([0])),this.one=new mt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new b;if(t===0)return this.zero;let n=new Int32Array(e+1);return n[0]=t,new mt(this,n)}}Qi.PDF417_GF=new Qi(pe.NUMBER_OF_CODEWORDS,3);class Js{constructor(){this.field=Qi.PDF417_GF}decode(e,t,n){let r=new mt(this.field,e),s=new Int32Array(t),a=!1;for(let M=t;M>0;M--){let O=r.evaluateAt(this.field.exp(M));s[t-M]=O,O!==0&&(a=!0)}if(!a)return 0;let c=this.field.getOne();if(n!=null)for(const M of n){let O=this.field.exp(e.length-1-M),D=new mt(this.field,new Int32Array([this.field.subtract(0,O),1]));c=c.multiply(D)}let u=new mt(this.field,s),g=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),u,t),x=g[0],C=g[1],m=this.findErrorLocations(x),T=this.findErrorMagnitudes(C,x,m);for(let M=0;M<m.length;M++){let O=e.length-1-this.field.log(m[M]);if(O<0)throw W.getChecksumInstance();e[O]=this.field.subtract(e[O],T[M])}return m.length}runEuclideanAlgorithm(e,t,n){if(e.getDegree()<t.getDegree()){let m=e;e=t,t=m}let r=e,s=t,a=this.field.getZero(),c=this.field.getOne();for(;s.getDegree()>=Math.round(n/2);){let m=r,T=a;if(r=s,a=c,r.isZero())throw W.getChecksumInstance();s=m;let M=this.field.getZero(),O=r.getCoefficient(r.getDegree()),D=this.field.inverse(O);for(;s.getDegree()>=r.getDegree()&&!s.isZero();){let B=s.getDegree()-r.getDegree(),Z=this.field.multiply(s.getCoefficient(s.getDegree()),D);M=M.add(this.field.buildMonomial(B,Z)),s=s.subtract(r.multiplyByMonomial(B,Z))}c=M.multiply(a).subtract(T).negative()}let u=c.getCoefficient(0);if(u===0)throw W.getChecksumInstance();let g=this.field.inverse(u),x=c.multiply(g),C=s.multiply(g);return[x,C]}findErrorLocations(e){let t=e.getDegree(),n=new Int32Array(t),r=0;for(let s=1;s<this.field.getSize()&&r<t;s++)e.evaluateAt(s)===0&&(n[r]=this.field.inverse(s),r++);if(r!==t)throw W.getChecksumInstance();return n}findErrorMagnitudes(e,t,n){let r=t.getDegree(),s=new Int32Array(r);for(let g=1;g<=r;g++)s[r-g]=this.field.multiply(g,t.getCoefficient(g));let a=new mt(this.field,s),c=n.length,u=new Int32Array(c);for(let g=0;g<c;g++){let x=this.field.inverse(n[g]),C=this.field.subtract(0,e.evaluateAt(x)),m=this.field.inverse(a.evaluateAt(x));u[g]=this.field.multiply(C,m)}return u}}class $n{constructor(e,t,n,r,s){e instanceof $n?this.constructor_2(e):this.constructor_1(e,t,n,r,s)}constructor_1(e,t,n,r,s){const a=t==null||n==null,c=r==null||s==null;if(a&&c)throw new F;a?(t=new v(0,r.getY()),n=new v(0,s.getY())):c&&(r=new v(e.getWidth()-1,t.getY()),s=new v(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=t,this.bottomLeft=n,this.topRight=r,this.bottomRight=s,this.minX=Math.trunc(Math.min(t.getX(),n.getX())),this.maxX=Math.trunc(Math.max(r.getX(),s.getX())),this.minY=Math.trunc(Math.min(t.getY(),r.getY())),this.maxY=Math.trunc(Math.max(n.getY(),s.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,t){return e==null?t:t==null?e:new $n(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)}addMissingRows(e,t,n){let r=this.topLeft,s=this.bottomLeft,a=this.topRight,c=this.bottomRight;if(e>0){let u=n?this.topLeft:this.topRight,g=Math.trunc(u.getY()-e);g<0&&(g=0);let x=new v(u.getX(),g);n?r=x:a=x}if(t>0){let u=n?this.bottomLeft:this.bottomRight,g=Math.trunc(u.getY()+t);g>=this.image.getHeight()&&(g=this.image.getHeight()-1);let x=new v(u.getX(),g);n?s=x:c=x}return new $n(this.image,r,s,a,c)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Ol{constructor(e,t,n,r){this.columnCount=e,this.errorCorrectionLevel=r,this.rowCountUpperPart=t,this.rowCountLowerPart=n,this.rowCount=t+n}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class vr{constructor(){this.buffer=""}static form(e,t){let n=-1;function r(a,c,u,g,x,C){if(a==="%%")return"%";if(t[++n]===void 0)return;a=g?parseInt(g.substr(1)):void 0;let m=x?parseInt(x.substr(1)):void 0,T;switch(C){case"s":T=t[n];break;case"c":T=t[n][0];break;case"f":T=parseFloat(t[n]).toFixed(a);break;case"p":T=parseFloat(t[n]).toPrecision(a);break;case"e":T=parseFloat(t[n]).toExponential(a);break;case"x":T=parseInt(t[n]).toString(m||16);break;case"d":T=parseFloat(parseInt(t[n],m||10).toPrecision(a)).toFixed(0);break}T=typeof T=="object"?JSON.stringify(T):(+T).toString(m);let M=parseInt(u),O=u&&u[0]+""=="0"?"0":" ";for(;T.length<M;)T=c!==void 0?T+O:O+T;return T}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,r)}format(e,...t){this.buffer+=vr.form(e,t)}toString(){return this.buffer}}class Lr{constructor(e){this.boundingBox=new $n(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let t=this.getCodeword(e);if(t!=null)return t;for(let n=1;n<Lr.MAX_NEARBY_DISTANCE;n++){let r=this.imageRowToCodewordIndex(e)-n;if(r>=0&&(t=this.codewords[r],t!=null)||(r=this.imageRowToCodewordIndex(e)+n,r<this.codewords.length&&(t=this.codewords[r],t!=null)))return t}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new vr;let t=0;for(const n of this.codewords){if(n==null){e.format("%3d:    |   %n",t++);continue}e.format("%3d: %3d|%3d%n",t++,n.getRowNumber(),n.getValue())}return e.toString()}}Lr.MAX_NEARBY_DISTANCE=5;class Br{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)}getValue(){let e=-1,t=new Array;for(const[n,r]of this.values.entries()){const s={getKey:()=>n,getValue:()=>r};s.getValue()>e?(e=s.getValue(),t=[],t.push(s.getKey())):s.getValue()===e&&t.push(s.getKey())}return pe.toIntArray(t)}getConfidence(e){return this.values.get(e)}}class $s extends Lr{constructor(e,t){super(e),this._isLeft=t}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let t=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(t,e);let n=this.getBoundingBox(),r=this._isLeft?n.getTopLeft():n.getTopRight(),s=this._isLeft?n.getBottomLeft():n.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(r.getY())),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=-1,g=1,x=0;for(let C=a;C<c;C++){if(t[C]==null)continue;let m=t[C],T=m.getRowNumber()-u;if(T===0)x++;else if(T===1)g=Math.max(g,x),x=1,u=m.getRowNumber();else if(T<0||m.getRowNumber()>=e.getRowCount()||T>C)t[C]=null;else{let M;g>2?M=(g-2)*T:M=T;let O=M>=C;for(let D=1;D<=M&&!O;D++)O=t[C-D]!=null;O?t[C]=null:(u=m.getRowNumber(),x=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let t=new Int32Array(e.getRowCount());for(let n of this.getCodewords())if(n!=null){let r=n.getRowNumber();if(r>=t.length)continue;t[r]++}return t}adjustIncompleteIndicatorColumnRowNumbers(e){let t=this.getBoundingBox(),n=this._isLeft?t.getTopLeft():t.getTopRight(),r=this._isLeft?t.getBottomLeft():t.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(n.getY())),a=this.imageRowToCodewordIndex(Math.trunc(r.getY())),c=this.getCodewords(),u=-1;for(let g=s;g<a;g++){if(c[g]==null)continue;let x=c[g];x.setRowNumberAsRowIndicatorColumn();let C=x.getRowNumber()-u;C===0||(C===1?u=x.getRowNumber():x.getRowNumber()>=e.getRowCount()?c[g]=null:u=x.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),t=new Br,n=new Br,r=new Br,s=new Br;for(let c of e){if(c==null)continue;c.setRowNumberAsRowIndicatorColumn();let u=c.getValue()%30,g=c.getRowNumber();switch(this._isLeft||(g+=2),g%3){case 0:n.setValue(u*3+1);break;case 1:s.setValue(u/3),r.setValue(u%3);break;case 2:t.setValue(u+1);break}}if(t.getValue().length===0||n.getValue().length===0||r.getValue().length===0||s.getValue().length===0||t.getValue()[0]<1||n.getValue()[0]+r.getValue()[0]<pe.MIN_ROWS_IN_BARCODE||n.getValue()[0]+r.getValue()[0]>pe.MAX_ROWS_IN_BARCODE)return null;let a=new Ol(t.getValue()[0],n.getValue()[0],r.getValue()[0],s.getValue()[0]);return this.removeIncorrectCodewords(e,a),a}removeIncorrectCodewords(e,t){for(let n=0;n<e.length;n++){let r=e[n];if(e[n]==null)continue;let s=r.getValue()%30,a=r.getRowNumber();if(a>t.getRowCount()){e[n]=null;continue}switch(this._isLeft||(a+=2),a%3){case 0:s*3+1!==t.getRowCountUpperPart()&&(e[n]=null);break;case 1:(Math.trunc(s/3)!==t.getErrorCorrectionLevel()||s%3!==t.getRowCountLowerPart())&&(e[n]=null);break;case 2:s+1!==t.getColumnCount()&&(e[n]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Pr{constructor(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=pe.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let t=1;t<this.barcodeColumnCount+1;t++){let n=this.detectionResultColumns[t].getCodewords();for(let r=0;r<n.length;r++)n[r]!=null&&(n[r].hasValidRowNumber()||this.adjustRowNumbers(t,r,n))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let n=0;n<e.length;n++)if(e[n]!=null&&t[n]!=null&&e[n].getRowNumber()===t[n].getRowNumber())for(let r=1;r<=this.barcodeColumnCount;r++){let s=this.detectionResultColumns[r].getCodewords()[n];s!=null&&(s.setRowNumber(e[n].getRowNumber()),s.hasValidRowNumber()||(this.detectionResultColumns[r].getCodewords()[n]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let n=0;n<t.length;n++){if(t[n]==null)continue;let r=t[n].getRowNumber(),s=0;for(let a=this.barcodeColumnCount+1;a>0&&s<this.ADJUST_ROW_NUMBER_SKIP;a--){let c=this.detectionResultColumns[a].getCodewords()[n];c!=null&&(s=Pr.adjustRowNumberIfValid(r,s,c),c.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,t=this.detectionResultColumns[0].getCodewords();for(let n=0;n<t.length;n++){if(t[n]==null)continue;let r=t[n].getRowNumber(),s=0;for(let a=1;a<this.barcodeColumnCount+1&&s<this.ADJUST_ROW_NUMBER_SKIP;a++){let c=this.detectionResultColumns[a].getCodewords()[n];c!=null&&(s=Pr.adjustRowNumberIfValid(r,s,c),c.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,t,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),t=0):++t),t}adjustRowNumbers(e,t,n){if(!this.detectionResultColumns[e-1])return;let r=n[t],s=this.detectionResultColumns[e-1].getCodewords(),a=s;this.detectionResultColumns[e+1]!=null&&(a=this.detectionResultColumns[e+1].getCodewords());let c=new Array(14);c[2]=s[t],c[3]=a[t],t>0&&(c[0]=n[t-1],c[4]=s[t-1],c[5]=a[t-1]),t>1&&(c[8]=n[t-2],c[10]=s[t-2],c[11]=a[t-2]),t<n.length-1&&(c[1]=n[t+1],c[6]=s[t+1],c[7]=a[t+1]),t<n.length-2&&(c[9]=n[t+2],c[12]=s[t+2],c[13]=a[t+2]);for(let u of c)if(Pr.adjustRowNumber(r,u))return}static adjustRowNumber(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,t){this.detectionResultColumns[e]=t}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let t=new vr;for(let n=0;n<e.getCodewords().length;n++){t.format("CW %3d:",n);for(let r=0;r<this.barcodeColumnCount+2;r++){if(this.detectionResultColumns[r]==null){t.format("    |   ");continue}let s=this.detectionResultColumns[r].getCodewords()[n];if(s==null){t.format("    |   ");continue}t.format(" %3d|%3d",s.getRowNumber(),s.getValue())}t.format("%n")}return t.toString()}}class Fr{constructor(e,t,n,r){this.rowNumber=Fr.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(n),this.value=Math.trunc(r)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==Fr.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}Fr.BARCODE_ROW_UNKNOWN=-1;class kt{static initialize(){for(let e=0;e<pe.SYMBOL_TABLE.length;e++){let t=pe.SYMBOL_TABLE[e],n=t&1;for(let r=0;r<pe.BARS_IN_MODULE;r++){let s=0;for(;(t&1)===n;)s+=1,t>>=1;n=t&1,kt.RATIOS_TABLE[e]||(kt.RATIOS_TABLE[e]=new Array(pe.BARS_IN_MODULE)),kt.RATIOS_TABLE[e][pe.BARS_IN_MODULE-r-1]=Math.fround(s/pe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let t=kt.getDecodedCodewordValue(kt.sampleBitCounts(e));return t!==-1?t:kt.getClosestDecodedValue(e)}static sampleBitCounts(e){let t=U.sum(e),n=new Int32Array(pe.BARS_IN_MODULE),r=0,s=0;for(let a=0;a<pe.MODULES_IN_CODEWORD;a++){let c=t/(2*pe.MODULES_IN_CODEWORD)+a*t/pe.MODULES_IN_CODEWORD;s+e[r]<=c&&(s+=e[r],r++),n[r]++}return n}static getDecodedCodewordValue(e){let t=kt.getBitValue(e);return pe.getCodeword(t)===-1?-1:t}static getBitValue(e){let t=0;for(let n=0;n<e.length;n++)for(let r=0;r<e[n];r++)t=t<<1|(n%2===0?1:0);return Math.trunc(t)}static getClosestDecodedValue(e){let t=U.sum(e),n=new Array(pe.BARS_IN_MODULE);if(t>1)for(let a=0;a<n.length;a++)n[a]=Math.fround(e[a]/t);let r=q.MAX_VALUE,s=-1;this.bSymbolTableReady||kt.initialize();for(let a=0;a<kt.RATIOS_TABLE.length;a++){let c=0,u=kt.RATIOS_TABLE[a];for(let g=0;g<pe.BARS_IN_MODULE;g++){let x=Math.fround(u[g]-n[g]);if(c+=Math.fround(x*x),c>=r)break}c<r&&(r=c,s=pe.SYMBOL_TABLE[a])}return s}}kt.bSymbolTableReady=!1,kt.RATIOS_TABLE=new Array(pe.SYMBOL_TABLE.length).map(A=>new Array(pe.BARS_IN_MODULE));class eo{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class to{static parseLong(e,t=void 0){return parseInt(e,t)}}class no extends w{}no.kind="NullPointerException";class Dl{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,t,n){if(e==null)throw new no;if(t<0||t>e.length||n<0||t+n>e.length||t+n<0)throw new me;if(n===0)return;for(let r=0;r<n;r++)this.write(e[t+r])}flush(){}close(){}}class Rl extends w{}class vl extends Dl{constructor(e=32){if(super(),this.count=0,e<0)throw new b("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let n=this.buf.length<<1;if(n-e<0&&(n=e),n<0){if(e<0)throw new Rl;n=ne.MAX_VALUE}this.buf=ce.copyOfUint8Array(this.buf,n)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,t,n){if(t<0||t>e.length||n<0||t+n-e.length>0)throw new me;this.ensureCapacity(this.count+n),$.arraycopy(e,t,this.buf,this.count,n),this.count+=n}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return ce.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var Ge;(function(A){A[A.ALPHA=0]="ALPHA",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.PUNCT=3]="PUNCT",A[A.ALPHA_SHIFT=4]="ALPHA_SHIFT",A[A.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ge||(Ge={}));function ro(){if(typeof window<"u")return window.BigInt||null;if(typeof pi<"u")return pi.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let li;function kn(A){if(typeof li>"u"&&(li=ro()),li===null)throw new Error("BigInt is not supported!");return li(A)}function Ll(){let A=[];A[0]=kn(1);let e=kn(900);A[1]=e;for(let t=2;t<16;t++)A[t]=A[t-1]*e;return A}class L{static decode(e,t){let n=new Re(""),r=K.ISO8859_1;n.enableDecoding(r);let s=1,a=e[s++],c=new eo;for(;s<e[0];){switch(a){case L.TEXT_COMPACTION_MODE_LATCH:s=L.textCompaction(e,s,n);break;case L.BYTE_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH_6:s=L.byteCompaction(a,e,r,s,n);break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[s++]);break;case L.NUMERIC_COMPACTION_MODE_LATCH:s=L.numericCompaction(e,s,n);break;case L.ECI_CHARSET:K.getCharacterSetECIByValue(e[s++]);break;case L.ECI_GENERAL_PURPOSE:s+=2;break;case L.ECI_USER_DEFINED:s++;break;case L.BEGIN_MACRO_PDF417_CONTROL_BLOCK:s=L.decodeMacroBlock(e,s,c);break;case L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case L.MACRO_PDF417_TERMINATOR:throw new X;default:s--,s=L.textCompaction(e,s,n);break}if(s<e.length)a=e[s++];else throw X.getFormatInstance()}if(n.length()===0)throw X.getFormatInstance();let u=new vn(null,n.toString(),null,t);return u.setOther(c),u}static decodeMacroBlock(e,t,n){if(t+L.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw X.getFormatInstance();let r=new Int32Array(L.NUMBER_OF_SEQUENCE_CODEWORDS);for(let c=0;c<L.NUMBER_OF_SEQUENCE_CODEWORDS;c++,t++)r[c]=e[t];n.setSegmentIndex(ne.parseInt(L.decodeBase900toBase10(r,L.NUMBER_OF_SEQUENCE_CODEWORDS)));let s=new Re;t=L.textCompaction(e,t,s),n.setFileId(s.toString());let a=-1;for(e[t]===L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(a=t+1);t<e[0];)switch(e[t]){case L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case L.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let c=new Re;t=L.textCompaction(e,t+1,c),n.setFileName(c.toString());break;case L.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let u=new Re;t=L.textCompaction(e,t+1,u),n.setSender(u.toString());break;case L.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let g=new Re;t=L.textCompaction(e,t+1,g),n.setAddressee(g.toString());break;case L.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let x=new Re;t=L.numericCompaction(e,t+1,x),n.setSegmentCount(ne.parseInt(x.toString()));break;case L.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let C=new Re;t=L.numericCompaction(e,t+1,C),n.setTimestamp(to.parseLong(C.toString()));break;case L.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let m=new Re;t=L.numericCompaction(e,t+1,m),n.setChecksum(ne.parseInt(m.toString()));break;case L.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let T=new Re;t=L.numericCompaction(e,t+1,T),n.setFileSize(to.parseLong(T.toString()));break;default:throw X.getFormatInstance()}break;case L.MACRO_PDF417_TERMINATOR:t++,n.setLastSegment(!0);break;default:throw X.getFormatInstance()}if(a!==-1){let c=t-a;n.isLastSegment()&&c--,n.setOptionalData(ce.copyOfRange(e,a,a+c))}return t}static textCompaction(e,t,n){let r=new Int32Array((e[0]-t)*2),s=new Int32Array((e[0]-t)*2),a=0,c=!1;for(;t<e[0]&&!c;){let u=e[t++];if(u<L.TEXT_COMPACTION_MODE_LATCH)r[a]=u/30,r[a+1]=u%30,a+=2;else switch(u){case L.TEXT_COMPACTION_MODE_LATCH:r[a++]=L.TEXT_COMPACTION_MODE_LATCH;break;case L.BYTE_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH_6:case L.NUMERIC_COMPACTION_MODE_LATCH:case L.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case L.MACRO_PDF417_TERMINATOR:t--,c=!0;break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r[a]=L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,u=e[t++],s[a]=u,a++;break}}return L.decodeTextCompaction(r,s,a,n),t}static decodeTextCompaction(e,t,n,r){let s=Ge.ALPHA,a=Ge.ALPHA,c=0;for(;c<n;){let u=e[c],g="";switch(s){case Ge.ALPHA:if(u<26)g=String.fromCharCode(65+u);else switch(u){case 26:g=" ";break;case L.LL:s=Ge.LOWER;break;case L.ML:s=Ge.MIXED;break;case L.PS:a=s,s=Ge.PUNCT_SHIFT;break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[c]);break;case L.TEXT_COMPACTION_MODE_LATCH:s=Ge.ALPHA;break}break;case Ge.LOWER:if(u<26)g=String.fromCharCode(97+u);else switch(u){case 26:g=" ";break;case L.AS:a=s,s=Ge.ALPHA_SHIFT;break;case L.ML:s=Ge.MIXED;break;case L.PS:a=s,s=Ge.PUNCT_SHIFT;break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[c]);break;case L.TEXT_COMPACTION_MODE_LATCH:s=Ge.ALPHA;break}break;case Ge.MIXED:if(u<L.PL)g=L.MIXED_CHARS[u];else switch(u){case L.PL:s=Ge.PUNCT;break;case 26:g=" ";break;case L.LL:s=Ge.LOWER;break;case L.AL:s=Ge.ALPHA;break;case L.PS:a=s,s=Ge.PUNCT_SHIFT;break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[c]);break;case L.TEXT_COMPACTION_MODE_LATCH:s=Ge.ALPHA;break}break;case Ge.PUNCT:if(u<L.PAL)g=L.PUNCT_CHARS[u];else switch(u){case L.PAL:s=Ge.ALPHA;break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[c]);break;case L.TEXT_COMPACTION_MODE_LATCH:s=Ge.ALPHA;break}break;case Ge.ALPHA_SHIFT:if(s=a,u<26)g=String.fromCharCode(65+u);else switch(u){case 26:g=" ";break;case L.TEXT_COMPACTION_MODE_LATCH:s=Ge.ALPHA;break}break;case Ge.PUNCT_SHIFT:if(s=a,u<L.PAL)g=L.PUNCT_CHARS[u];else switch(u){case L.PAL:s=Ge.ALPHA;break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[c]);break;case L.TEXT_COMPACTION_MODE_LATCH:s=Ge.ALPHA;break}break}g!==""&&r.append(g),c++}}static byteCompaction(e,t,n,r,s){let a=new vl,c=0,u=0,g=!1;switch(e){case L.BYTE_COMPACTION_MODE_LATCH:let x=new Int32Array(6),C=t[r++];for(;r<t[0]&&!g;)switch(x[c++]=C,u=900*u+C,C=t[r++],C){case L.TEXT_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH:case L.NUMERIC_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH_6:case L.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case L.MACRO_PDF417_TERMINATOR:r--,g=!0;break;default:if(c%5===0&&c>0){for(let m=0;m<6;++m)a.write(Number(kn(u)>>kn(8*(5-m))));u=0,c=0}break}r===t[0]&&C<L.TEXT_COMPACTION_MODE_LATCH&&(x[c++]=C);for(let m=0;m<c;m++)a.write(x[m]);break;case L.BYTE_COMPACTION_MODE_LATCH_6:for(;r<t[0]&&!g;){let m=t[r++];if(m<L.TEXT_COMPACTION_MODE_LATCH)c++,u=900*u+m;else switch(m){case L.TEXT_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH:case L.NUMERIC_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH_6:case L.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case L.MACRO_PDF417_TERMINATOR:r--,g=!0;break}if(c%5===0&&c>0){for(let T=0;T<6;++T)a.write(Number(kn(u)>>kn(8*(5-T))));u=0,c=0}}break}return s.append(ht.decode(a.toByteArray(),n)),r}static numericCompaction(e,t,n){let r=0,s=!1,a=new Int32Array(L.MAX_NUMERIC_CODEWORDS);for(;t<e[0]&&!s;){let c=e[t++];if(t===e[0]&&(s=!0),c<L.TEXT_COMPACTION_MODE_LATCH)a[r]=c,r++;else switch(c){case L.TEXT_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH_6:case L.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case L.MACRO_PDF417_TERMINATOR:t--,s=!0;break}(r%L.MAX_NUMERIC_CODEWORDS===0||c===L.NUMERIC_COMPACTION_MODE_LATCH||s)&&r>0&&(n.append(L.decodeBase900toBase10(a,r)),r=0)}return t}static decodeBase900toBase10(e,t){let n=kn(0);for(let s=0;s<t;s++)n+=L.EXP900[t-s-1]*kn(e[s]);let r=n.toString();if(r.charAt(0)!=="1")throw new X;return r.substring(1)}}L.TEXT_COMPACTION_MODE_LATCH=900,L.BYTE_COMPACTION_MODE_LATCH=901,L.NUMERIC_COMPACTION_MODE_LATCH=902,L.BYTE_COMPACTION_MODE_LATCH_6=924,L.ECI_USER_DEFINED=925,L.ECI_GENERAL_PURPOSE=926,L.ECI_CHARSET=927,L.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,L.MACRO_PDF417_TERMINATOR=922,L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,L.MAX_NUMERIC_CODEWORDS=15,L.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,L.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,L.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,L.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,L.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,L.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,L.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,L.PL=25,L.LL=27,L.AS=27,L.ML=28,L.AL=28,L.PS=29,L.PAL=29,L.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,L.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",L.EXP900=ro()?Ll():[],L.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Se{constructor(){}static decode(e,t,n,r,s,a,c){let u=new $n(e,t,n,r,s),g=null,x=null,C;for(let M=!0;;M=!1){if(t!=null&&(g=Se.getRowIndicatorColumn(e,u,t,!0,a,c)),r!=null&&(x=Se.getRowIndicatorColumn(e,u,r,!1,a,c)),C=Se.merge(g,x),C==null)throw F.getNotFoundInstance();let O=C.getBoundingBox();if(M&&O!=null&&(O.getMinY()<u.getMinY()||O.getMaxY()>u.getMaxY()))u=O;else break}C.setBoundingBox(u);let m=C.getBarcodeColumnCount()+1;C.setDetectionResultColumn(0,g),C.setDetectionResultColumn(m,x);let T=g!=null;for(let M=1;M<=m;M++){let O=T?M:m-M;if(C.getDetectionResultColumn(O)!==void 0)continue;let D;O===0||O===m?D=new $s(u,O===0):D=new Lr(u),C.setDetectionResultColumn(O,D);let B=-1,Z=B;for(let Q=u.getMinY();Q<=u.getMaxY();Q++){if(B=Se.getStartColumn(C,O,Q,T),B<0||B>u.getMaxX()){if(Z===-1)continue;B=Z}let Y=Se.detectCodeword(e,u.getMinX(),u.getMaxX(),T,B,Q,a,c);Y!=null&&(D.setCodeword(Q,Y),Z=B,a=Math.min(a,Y.getWidth()),c=Math.max(c,Y.getWidth()))}}return Se.createDecoderResult(C)}static merge(e,t){if(e==null&&t==null)return null;let n=Se.getBarcodeMetadata(e,t);if(n==null)return null;let r=$n.merge(Se.adjustBoundingBox(e),Se.adjustBoundingBox(t));return new Pr(n,r)}static adjustBoundingBox(e){if(e==null)return null;let t=e.getRowHeights();if(t==null)return null;let n=Se.getMax(t),r=0;for(let c of t)if(r+=n-c,c>0)break;let s=e.getCodewords();for(let c=0;r>0&&s[c]==null;c++)r--;let a=0;for(let c=t.length-1;c>=0&&(a+=n-t[c],!(t[c]>0));c--);for(let c=s.length-1;a>0&&s[c]==null;c--)a--;return e.getBoundingBox().addMissingRows(r,a,e.isLeft())}static getMax(e){let t=-1;for(let n of e)t=Math.max(t,n);return t}static getBarcodeMetadata(e,t){let n;if(e==null||(n=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();let r;return t==null||(r=t.getBarcodeMetadata())==null?n:n.getColumnCount()!==r.getColumnCount()&&n.getErrorCorrectionLevel()!==r.getErrorCorrectionLevel()&&n.getRowCount()!==r.getRowCount()?null:n}static getRowIndicatorColumn(e,t,n,r,s,a){let c=new $s(t,r);for(let u=0;u<2;u++){let g=u===0?1:-1,x=Math.trunc(Math.trunc(n.getX()));for(let C=Math.trunc(Math.trunc(n.getY()));C<=t.getMaxY()&&C>=t.getMinY();C+=g){let m=Se.detectCodeword(e,0,e.getWidth(),r,x,C,s,a);m!=null&&(c.setCodeword(C,m),r?x=m.getStartX():x=m.getEndX())}}return c}static adjustCodewordCount(e,t){let n=t[0][1],r=n.getValue(),s=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-Se.getNumberOfECCodeWords(e.getBarcodeECLevel());if(r.length===0){if(s<1||s>pe.MAX_CODEWORDS_IN_BARCODE)throw F.getNotFoundInstance();n.setValue(s)}else r[0]!==s&&n.setValue(s)}static createDecoderResult(e){let t=Se.createBarcodeMatrix(e);Se.adjustCodewordCount(e,t);let n=new Array,r=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),s=[],a=new Array;for(let u=0;u<e.getBarcodeRowCount();u++)for(let g=0;g<e.getBarcodeColumnCount();g++){let x=t[u][g+1].getValue(),C=u*e.getBarcodeColumnCount()+g;x.length===0?n.push(C):x.length===1?r[C]=x[0]:(a.push(C),s.push(x))}let c=new Array(s.length);for(let u=0;u<c.length;u++)c[u]=s[u];return Se.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),r,pe.toIntArray(n),pe.toIntArray(a),c)}static createDecoderResultFromAmbiguousValues(e,t,n,r,s){let a=new Int32Array(r.length),c=100;for(;c-- >0;){for(let u=0;u<a.length;u++)t[r[u]]=s[u][a[u]];try{return Se.decodeCodewords(t,e,n)}catch(u){if(!(u instanceof W))throw u}if(a.length===0)throw W.getChecksumInstance();for(let u=0;u<a.length;u++)if(a[u]<s[u].length-1){a[u]++;break}else if(a[u]=0,u===a.length-1)throw W.getChecksumInstance()}throw W.getChecksumInstance()}static createBarcodeMatrix(e){let t=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let r=0;r<t.length;r++)for(let s=0;s<t[r].length;s++)t[r][s]=new Br;let n=0;for(let r of e.getDetectionResultColumns()){if(r!=null){for(let s of r.getCodewords())if(s!=null){let a=s.getRowNumber();if(a>=0){if(a>=t.length)continue;t[a][n].setValue(s.getValue())}}}n++}return t}static isValidBarcodeColumn(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1}static getStartColumn(e,t,n,r){let s=r?1:-1,a=null;if(Se.isValidBarcodeColumn(e,t-s)&&(a=e.getDetectionResultColumn(t-s).getCodeword(n)),a!=null)return r?a.getEndX():a.getStartX();if(a=e.getDetectionResultColumn(t).getCodewordNearby(n),a!=null)return r?a.getStartX():a.getEndX();if(Se.isValidBarcodeColumn(e,t-s)&&(a=e.getDetectionResultColumn(t-s).getCodewordNearby(n)),a!=null)return r?a.getEndX():a.getStartX();let c=0;for(;Se.isValidBarcodeColumn(e,t-s);){t-=s;for(let u of e.getDetectionResultColumn(t).getCodewords())if(u!=null)return(r?u.getEndX():u.getStartX())+s*c*(u.getEndX()-u.getStartX());c++}return r?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,t,n,r,s,a,c,u){s=Se.adjustCodewordStartColumn(e,t,n,r,s,a);let g=Se.getModuleBitCount(e,t,n,r,s,a);if(g==null)return null;let x,C=U.sum(g);if(r)x=s+C;else{for(let M=0;M<g.length/2;M++){let O=g[M];g[M]=g[g.length-1-M],g[g.length-1-M]=O}x=s,s=x-C}if(!Se.checkCodewordSkew(C,c,u))return null;let m=kt.getDecodedValue(g),T=pe.getCodeword(m);return T===-1?null:new Fr(s,x,Se.getCodewordBucketNumber(m),T)}static getModuleBitCount(e,t,n,r,s,a){let c=s,u=new Int32Array(8),g=0,x=r?1:-1,C=r;for(;(r?c<n:c>=t)&&g<u.length;)e.get(c,a)===C?(u[g]++,c+=x):(g++,C=!C);return g===u.length||c===(r?n:t)&&g===u.length-1?u:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,t,n,r,s,a){let c=s,u=r?-1:1;for(let g=0;g<2;g++){for(;(r?c>=t:c<n)&&r===e.get(c,a);){if(Math.abs(s-c)>Se.CODEWORD_SKEW_SIZE)return s;c+=u}u=-u,r=!r}return c}static checkCodewordSkew(e,t,n){return t-Se.CODEWORD_SKEW_SIZE<=e&&e<=n+Se.CODEWORD_SKEW_SIZE}static decodeCodewords(e,t,n){if(e.length===0)throw X.getFormatInstance();let r=1<<t+1,s=Se.correctErrors(e,n,r);Se.verifyCodewordCount(e,r);let a=L.decode(e,""+t);return a.setErrorsCorrected(s),a.setErasures(n.length),a}static correctErrors(e,t,n){if(t!=null&&t.length>n/2+Se.MAX_ERRORS||n<0||n>Se.MAX_EC_CODEWORDS)throw W.getChecksumInstance();return Se.errorCorrection.decode(e,n,t)}static verifyCodewordCount(e,t){if(e.length<4)throw X.getFormatInstance();let n=e[0];if(n>e.length)throw X.getFormatInstance();if(n===0)if(t<e.length)e[0]=e.length-t;else throw X.getFormatInstance()}static getBitCountForCodeword(e){let t=new Int32Array(8),n=0,r=t.length-1;for(;!((e&1)!==n&&(n=e&1,r--,r<0));)t[r]++,e>>=1;return t}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return Se.getCodewordBucketNumber(Se.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let t=new vr;for(let n=0;n<e.length;n++){t.format("Row %2d: ",n);for(let r=0;r<e[n].length;r++){let s=e[n][r];s.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",s.getValue()[0],s.getConfidence(s.getValue()[0]))}t.format("%n")}return t.toString()}}Se.CODEWORD_SKEW_SIZE=2,Se.MAX_ERRORS=3,Se.MAX_EC_CODEWORDS=512,Se.errorCorrection=new Js;class Et{decode(e,t=null){let n=Et.decode(e,t,!1);if(n==null||n.length===0||n[0]==null)throw F.getNotFoundInstance();return n[0]}decodeMultiple(e,t=null){try{return Et.decode(e,t,!0)}catch(n){throw n instanceof X||n instanceof W?F.getNotFoundInstance():n}}static decode(e,t,n){const r=new Array,s=ye.detectMultiple(e,t,n);for(const a of s.getPoints()){const c=Se.decode(s.getBits(),a[4],a[5],a[6],a[7],Et.getMinCodewordWidth(a),Et.getMaxCodewordWidth(a)),u=new At(c.getText(),c.getRawBytes(),void 0,a,ae.PDF_417);u.putMetadata(at.ERROR_CORRECTION_LEVEL,c.getECLevel());const g=c.getOther();g!=null&&u.putMetadata(at.PDF417_EXTRA_METADATA,g),r.push(u)}return r.map(a=>a)}static getMaxWidth(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMinWidth(e,t){return e==null||t==null?ne.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(Et.getMaxWidth(e[0],e[4]),Et.getMaxWidth(e[6],e[2])*pe.MODULES_IN_CODEWORD/pe.MODULES_IN_STOP_PATTERN),Math.max(Et.getMaxWidth(e[1],e[5]),Et.getMaxWidth(e[7],e[3])*pe.MODULES_IN_CODEWORD/pe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(Et.getMinWidth(e[0],e[4]),Et.getMinWidth(e[6],e[2])*pe.MODULES_IN_CODEWORD/pe.MODULES_IN_STOP_PATTERN),Math.min(Et.getMinWidth(e[1],e[5]),Et.getMinWidth(e[7],e[3])*pe.MODULES_IN_CODEWORD/pe.MODULES_IN_STOP_PATTERN)))}reset(){}}class ci extends w{}ci.kind="ReaderException";class io{constructor(e,t){this.verbose=e===!0,t&&this.setHints(t)}decode(e,t){return t&&this.setHints(t),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const t=!f(e)&&e.get(Ne.TRY_HARDER)===!0,n=f(e)?null:e.get(Ne.POSSIBLE_FORMATS),r=new Array;if(!f(n)){const s=n.some(a=>a===ae.UPC_A||a===ae.UPC_E||a===ae.EAN_13||a===ae.EAN_8||a===ae.CODABAR||a===ae.CODE_39||a===ae.CODE_93||a===ae.CODE_128||a===ae.ITF||a===ae.RSS_14||a===ae.RSS_EXPANDED);s&&!t&&r.push(new dr(e,this.verbose)),n.includes(ae.QR_CODE)&&r.push(new Fn),n.includes(ae.DATA_MATRIX)&&r.push(new Pn),n.includes(ae.AZTEC)&&r.push(new Nt),n.includes(ae.PDF_417)&&r.push(new Et),s&&t&&r.push(new dr(e,this.verbose))}r.length===0&&(t||r.push(new dr(e,this.verbose)),r.push(new Fn),r.push(new Pn),r.push(new Nt),r.push(new Et),t&&r.push(new dr(e,this.verbose))),this.readers=r}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new ci("No readers where selected, nothing can be read.");for(const t of this.readers)try{return t.decode(e,this.hints)}catch(n){if(n instanceof ci)continue}throw new F("No MultiFormat Readers were able to detect the code.")}}class Bl extends fn{constructor(e=null,t=500){const n=new io;n.setHints(e),super(n,t)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class Pl extends fn{constructor(e=500){super(new Et,e)}}class Fl extends fn{constructor(e=500){super(new Fn,e)}}var qi;(function(A){A[A.ERROR_CORRECTION=0]="ERROR_CORRECTION",A[A.CHARACTER_SET=1]="CHARACTER_SET",A[A.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",A[A.MIN_SIZE=3]="MIN_SIZE",A[A.MAX_SIZE=4]="MAX_SIZE",A[A.MARGIN=5]="MARGIN",A[A.PDF417_COMPACT=6]="PDF417_COMPACT",A[A.PDF417_COMPACTION=7]="PDF417_COMPACTION",A[A.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",A[A.AZTEC_LAYERS=9]="AZTEC_LAYERS",A[A.QR_VERSION=10]="QR_VERSION"})(qi||(qi={}));var xt=qi;class Ji{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new _t(e,Int32Array.from([1])))}buildGenerator(e){const t=this.cachedGenerators;if(e>=t.length){let n=t[t.length-1];const r=this.field;for(let s=t.length;s<=e;s++){const a=n.multiply(new _t(r,Int32Array.from([1,r.exp(s-1+r.getGeneratorBase())])));t.push(a),n=a}}return t[e]}encode(e,t){if(t===0)throw new b("No error correction bytes");const n=e.length-t;if(n<=0)throw new b("No data bytes provided");const r=this.buildGenerator(t),s=new Int32Array(n);$.arraycopy(e,0,s,0,n);let a=new _t(this.field,s);a=a.multiplyByMonomial(t,1);const u=a.divide(r)[1].getCoefficients(),g=t-u.length;for(let x=0;x<g;x++)e[n+x]=0;$.arraycopy(u,0,e,n+g,u.length)}}class ct{constructor(){}static applyMaskPenaltyRule1(e){return ct.applyMaskPenaltyRule1Internal(e,!0)+ct.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let t=0;const n=e.getArray(),r=e.getWidth(),s=e.getHeight();for(let a=0;a<s-1;a++){const c=n[a];for(let u=0;u<r-1;u++){const g=c[u];g===c[u+1]&&g===n[a+1][u]&&g===n[a+1][u+1]&&t++}}return ct.N2*t}static applyMaskPenaltyRule3(e){let t=0;const n=e.getArray(),r=e.getWidth(),s=e.getHeight();for(let a=0;a<s;a++)for(let c=0;c<r;c++){const u=n[a];c+6<r&&u[c]===1&&u[c+1]===0&&u[c+2]===1&&u[c+3]===1&&u[c+4]===1&&u[c+5]===0&&u[c+6]===1&&(ct.isWhiteHorizontal(u,c-4,c)||ct.isWhiteHorizontal(u,c+7,c+11))&&t++,a+6<s&&n[a][c]===1&&n[a+1][c]===0&&n[a+2][c]===1&&n[a+3][c]===1&&n[a+4][c]===1&&n[a+5][c]===0&&n[a+6][c]===1&&(ct.isWhiteVertical(n,c,a-4,a)||ct.isWhiteVertical(n,c,a+7,a+11))&&t++}return t*ct.N3}static isWhiteHorizontal(e,t,n){t=Math.max(t,0),n=Math.min(n,e.length);for(let r=t;r<n;r++)if(e[r]===1)return!1;return!0}static isWhiteVertical(e,t,n,r){n=Math.max(n,0),r=Math.min(r,e.length);for(let s=n;s<r;s++)if(e[s][t]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let t=0;const n=e.getArray(),r=e.getWidth(),s=e.getHeight();for(let u=0;u<s;u++){const g=n[u];for(let x=0;x<r;x++)g[x]===1&&t++}const a=e.getHeight()*e.getWidth();return Math.floor(Math.abs(t*2-a)*10/a)*ct.N4}static getDataMaskBit(e,t,n){let r,s;switch(e){case 0:r=n+t&1;break;case 1:r=n&1;break;case 2:r=t%3;break;case 3:r=(n+t)%3;break;case 4:r=Math.floor(n/2)+Math.floor(t/3)&1;break;case 5:s=n*t,r=(s&1)+s%3;break;case 6:s=n*t,r=(s&1)+s%3&1;break;case 7:s=n*t,r=s%3+(n+t&1)&1;break;default:throw new b("Invalid mask pattern: "+e)}return r===0}static applyMaskPenaltyRule1Internal(e,t){let n=0;const r=t?e.getHeight():e.getWidth(),s=t?e.getWidth():e.getHeight(),a=e.getArray();for(let c=0;c<r;c++){let u=0,g=-1;for(let x=0;x<s;x++){const C=t?a[c][x]:a[x][c];C===g?u++:(u>=5&&(n+=ct.N1+(u-5)),u=1,g=C)}u>=5&&(n+=ct.N1+(u-5))}return n}}ct.N1=3,ct.N2=3,ct.N3=40,ct.N4=10;class ui{constructor(e,t){this.width=e,this.height=t;const n=new Array(t);for(let r=0;r!==t;r++)n[r]=new Uint8Array(e);this.bytes=n}getHeight(){return this.height}getWidth(){return this.width}get(e,t){return this.bytes[t][e]}getArray(){return this.bytes}setNumber(e,t,n){this.bytes[t][e]=n}setBoolean(e,t,n){this.bytes[t][e]=n?1:0}clear(e){for(const t of this.bytes)ce.fill(t,e)}equals(e){if(!(e instanceof ui))return!1;const t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(let n=0,r=this.height;n<r;++n){const s=this.bytes[n],a=t.bytes[n];for(let c=0,u=this.width;c<u;++c)if(s[c]!==a[c])return!1}return!0}toString(){const e=new Re;for(let t=0,n=this.height;t<n;++t){const r=this.bytes[t];for(let s=0,a=this.width;s<a;++s)switch(r[s]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class er{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new Re;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<er.NUM_MASK_PATTERNS}}er.NUM_MASK_PATTERNS=8;class Xe extends w{}Xe.kind="WriterException";class ge{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,t,n,r,s){ge.clearMatrix(s),ge.embedBasicPatterns(n,s),ge.embedTypeInfo(t,r,s),ge.maybeEmbedVersionInfo(n,s),ge.embedDataBits(e,r,s)}static embedBasicPatterns(e,t){ge.embedPositionDetectionPatternsAndSeparators(t),ge.embedDarkDotAtLeftBottomCorner(t),ge.maybeEmbedPositionAdjustmentPatterns(e,t),ge.embedTimingPatterns(t)}static embedTypeInfo(e,t,n){const r=new ee;ge.makeTypeInfoBits(e,t,r);for(let s=0,a=r.getSize();s<a;++s){const c=r.get(r.getSize()-1-s),u=ge.TYPE_INFO_COORDINATES[s],g=u[0],x=u[1];if(n.setBoolean(g,x,c),s<8){const C=n.getWidth()-s-1;n.setBoolean(C,8,c)}else{const m=n.getHeight()-7+(s-8);n.setBoolean(8,m,c)}}}static maybeEmbedVersionInfo(e,t){if(e.getVersionNumber()<7)return;const n=new ee;ge.makeVersionInfoBits(e,n);let r=6*3-1;for(let s=0;s<6;++s)for(let a=0;a<3;++a){const c=n.get(r);r--,t.setBoolean(s,t.getHeight()-11+a,c),t.setBoolean(t.getHeight()-11+a,s,c)}}static embedDataBits(e,t,n){let r=0,s=-1,a=n.getWidth()-1,c=n.getHeight()-1;for(;a>0;){for(a===6&&(a-=1);c>=0&&c<n.getHeight();){for(let u=0;u<2;++u){const g=a-u;if(!ge.isEmpty(n.get(g,c)))continue;let x;r<e.getSize()?(x=e.get(r),++r):x=!1,t!==255&&ct.getDataMaskBit(t,g,c)&&(x=!x),n.setBoolean(g,c,x)}c+=s}s=-s,c+=s,a-=2}if(r!==e.getSize())throw new Xe("Not all bits consumed: "+r+"/"+e.getSize())}static findMSBSet(e){return 32-ne.numberOfLeadingZeros(e)}static calculateBCHCode(e,t){if(t===0)throw new b("0 polynomial");const n=ge.findMSBSet(t);for(e<<=n-1;ge.findMSBSet(e)>=n;)e^=t<<ge.findMSBSet(e)-n;return e}static makeTypeInfoBits(e,t,n){if(!er.isValidMaskPattern(t))throw new Xe("Invalid mask pattern");const r=e.getBits()<<3|t;n.appendBits(r,5);const s=ge.calculateBCHCode(r,ge.TYPE_INFO_POLY);n.appendBits(s,10);const a=new ee;if(a.appendBits(ge.TYPE_INFO_MASK_PATTERN,15),n.xor(a),n.getSize()!==15)throw new Xe("should not happen but we got: "+n.getSize())}static makeVersionInfoBits(e,t){t.appendBits(e.getVersionNumber(),6);const n=ge.calculateBCHCode(e.getVersionNumber(),ge.VERSION_INFO_POLY);if(t.appendBits(n,12),t.getSize()!==18)throw new Xe("should not happen but we got: "+t.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let t=8;t<e.getWidth()-8;++t){const n=(t+1)%2;ge.isEmpty(e.get(t,6))&&e.setNumber(t,6,n),ge.isEmpty(e.get(6,t))&&e.setNumber(6,t,n)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new Xe;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,t,n){for(let r=0;r<8;++r){if(!ge.isEmpty(n.get(e+r,t)))throw new Xe;n.setNumber(e+r,t,0)}}static embedVerticalSeparationPattern(e,t,n){for(let r=0;r<7;++r){if(!ge.isEmpty(n.get(e,t+r)))throw new Xe;n.setNumber(e,t+r,0)}}static embedPositionAdjustmentPattern(e,t,n){for(let r=0;r<5;++r){const s=ge.POSITION_ADJUSTMENT_PATTERN[r];for(let a=0;a<5;++a)n.setNumber(e+a,t+r,s[a])}}static embedPositionDetectionPattern(e,t,n){for(let r=0;r<7;++r){const s=ge.POSITION_DETECTION_PATTERN[r];for(let a=0;a<7;++a)n.setNumber(e+a,t+r,s[a])}}static embedPositionDetectionPatternsAndSeparators(e){const t=ge.POSITION_DETECTION_PATTERN[0].length;ge.embedPositionDetectionPattern(0,0,e),ge.embedPositionDetectionPattern(e.getWidth()-t,0,e),ge.embedPositionDetectionPattern(0,e.getWidth()-t,e);const n=8;ge.embedHorizontalSeparationPattern(0,n-1,e),ge.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),ge.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);const r=7;ge.embedVerticalSeparationPattern(r,0,e),ge.embedVerticalSeparationPattern(e.getHeight()-r-1,0,e),ge.embedVerticalSeparationPattern(r,e.getHeight()-r,e)}static maybeEmbedPositionAdjustmentPatterns(e,t){if(e.getVersionNumber()<2)return;const n=e.getVersionNumber()-1,r=ge.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n];for(let s=0,a=r.length;s!==a;s++){const c=r[s];if(c>=0)for(let u=0;u!==a;u++){const g=r[u];g>=0&&ge.isEmpty(t.get(g,c))&&ge.embedPositionAdjustmentPattern(g-2,c-2,t)}}}}ge.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ge.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ge.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ge.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ge.VERSION_INFO_POLY=7973,ge.TYPE_INFO_POLY=1335,ge.TYPE_INFO_MASK_PATTERN=21522;class kl{constructor(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class tt{constructor(){}static calculateMaskPenalty(e){return ct.applyMaskPenaltyRule1(e)+ct.applyMaskPenaltyRule2(e)+ct.applyMaskPenaltyRule3(e)+ct.applyMaskPenaltyRule4(e)}static encode(e,t,n=null){let r=tt.DEFAULT_BYTE_MODE_ENCODING;const s=n!==null&&n.get(xt.CHARACTER_SET)!==void 0;s&&(r=n.get(xt.CHARACTER_SET).toString());const a=this.chooseMode(e,r),c=new ee;if(a===he.BYTE&&(s||tt.DEFAULT_BYTE_MODE_ENCODING!==r)){const Q=K.getCharacterSetECIByName(r);Q!==void 0&&this.appendECI(Q,c)}this.appendModeInfo(a,c);const u=new ee;this.appendBytes(e,a,u,r);let g;if(n!==null&&n.get(xt.QR_VERSION)!==void 0){const Q=Number.parseInt(n.get(xt.QR_VERSION).toString(),10);g=le.getVersionForNumber(Q);const Y=this.calculateBitsNeeded(a,c,u,g);if(!this.willFit(Y,g,t))throw new Xe("Data too big for requested version")}else g=this.recommendVersion(t,a,c,u);const x=new ee;x.appendBitArray(c);const C=a===he.BYTE?u.getSizeInBytes():e.length;this.appendLengthInfo(C,g,a,x),x.appendBitArray(u);const m=g.getECBlocksForLevel(t),T=g.getTotalCodewords()-m.getTotalECCodewords();this.terminateBits(T,x);const M=this.interleaveWithECBytes(x,g.getTotalCodewords(),T,m.getNumBlocks()),O=new er;O.setECLevel(t),O.setMode(a),O.setVersion(g);const D=g.getDimensionForVersion(),B=new ui(D,D),Z=this.chooseMaskPattern(M,t,g,B);return O.setMaskPattern(Z),ge.buildMatrix(M,t,g,Z,B),O.setMatrix(B),O}static recommendVersion(e,t,n,r){const s=this.calculateBitsNeeded(t,n,r,le.getVersionForNumber(1)),a=this.chooseVersion(s,e),c=this.calculateBitsNeeded(t,n,r,a);return this.chooseVersion(c,e)}static calculateBitsNeeded(e,t,n,r){return t.getSize()+e.getCharacterCountBits(r)+n.getSize()}static getAlphanumericCode(e){return e<tt.ALPHANUMERIC_TABLE.length?tt.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,t=null){if(K.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return he.KANJI;let n=!1,r=!1;for(let s=0,a=e.length;s<a;++s){const c=e.charAt(s);if(tt.isDigit(c))n=!0;else if(this.getAlphanumericCode(c.charCodeAt(0))!==-1)r=!0;else return he.BYTE}return r?he.ALPHANUMERIC:n?he.NUMERIC:he.BYTE}static isOnlyDoubleByteKanji(e){let t;try{t=ht.encode(e,K.SJIS)}catch{return!1}const n=t.length;if(n%2!==0)return!1;for(let r=0;r<n;r+=2){const s=t[r]&255;if((s<129||s>159)&&(s<224||s>235))return!1}return!0}static chooseMaskPattern(e,t,n,r){let s=Number.MAX_SAFE_INTEGER,a=-1;for(let c=0;c<er.NUM_MASK_PATTERNS;c++){ge.buildMatrix(e,t,n,c,r);let u=this.calculateMaskPenalty(r);u<s&&(s=u,a=c)}return a}static chooseVersion(e,t){for(let n=1;n<=40;n++){const r=le.getVersionForNumber(n);if(tt.willFit(e,r,t))return r}throw new Xe("Data too big")}static willFit(e,t,n){const r=t.getTotalCodewords(),a=t.getECBlocksForLevel(n).getTotalECCodewords(),c=r-a,u=(e+7)/8;return c>=u}static terminateBits(e,t){const n=e*8;if(t.getSize()>n)throw new Xe("data bits cannot fit in the QR Code"+t.getSize()+" > "+n);for(let a=0;a<4&&t.getSize()<n;++a)t.appendBit(!1);const r=t.getSize()&7;if(r>0)for(let a=r;a<8;a++)t.appendBit(!1);const s=e-t.getSizeInBytes();for(let a=0;a<s;++a)t.appendBits((a&1)===0?236:17,8);if(t.getSize()!==n)throw new Xe("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,t,n,r,s,a){if(r>=n)throw new Xe("Block ID too large");const c=e%n,u=n-c,g=Math.floor(e/n),x=g+1,C=Math.floor(t/n),m=C+1,T=g-C,M=x-m;if(T!==M)throw new Xe("EC bytes mismatch");if(n!==u+c)throw new Xe("RS blocks mismatch");if(e!==(C+T)*u+(m+M)*c)throw new Xe("Total bytes mismatch");r<u?(s[0]=C,a[0]=T):(s[0]=m,a[0]=M)}static interleaveWithECBytes(e,t,n,r){if(e.getSizeInBytes()!==n)throw new Xe("Number of bits and data bytes does not match");let s=0,a=0,c=0;const u=new Array;for(let x=0;x<r;++x){const C=new Int32Array(1),m=new Int32Array(1);tt.getNumDataBytesAndNumECBytesForBlockID(t,n,r,x,C,m);const T=C[0],M=new Uint8Array(T);e.toBytes(8*s,M,0,T);const O=tt.generateECBytes(M,m[0]);u.push(new kl(M,O)),a=Math.max(a,T),c=Math.max(c,O.length),s+=C[0]}if(n!==s)throw new Xe("Data bytes does not match offset");const g=new ee;for(let x=0;x<a;++x)for(const C of u){const m=C.getDataBytes();x<m.length&&g.appendBits(m[x],8)}for(let x=0;x<c;++x)for(const C of u){const m=C.getErrorCorrectionBytes();x<m.length&&g.appendBits(m[x],8)}if(t!==g.getSizeInBytes())throw new Xe("Interleaving error: "+t+" and "+g.getSizeInBytes()+" differ.");return g}static generateECBytes(e,t){const n=e.length,r=new Int32Array(n+t);for(let a=0;a<n;a++)r[a]=e[a]&255;new Ji(N.QR_CODE_FIELD_256).encode(r,t);const s=new Uint8Array(t);for(let a=0;a<t;a++)s[a]=r[n+a];return s}static appendModeInfo(e,t){t.appendBits(e.getBits(),4)}static appendLengthInfo(e,t,n,r){const s=n.getCharacterCountBits(t);if(e>=1<<s)throw new Xe(e+" is bigger than "+((1<<s)-1));r.appendBits(e,s)}static appendBytes(e,t,n,r){switch(t){case he.NUMERIC:tt.appendNumericBytes(e,n);break;case he.ALPHANUMERIC:tt.appendAlphanumericBytes(e,n);break;case he.BYTE:tt.append8BitBytes(e,n,r);break;case he.KANJI:tt.appendKanjiBytes(e,n);break;default:throw new Xe("Invalid mode: "+t)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const t=tt.getDigit(e);return t>=0&&t<=9}static appendNumericBytes(e,t){const n=e.length;let r=0;for(;r<n;){const s=tt.getDigit(e.charAt(r));if(r+2<n){const a=tt.getDigit(e.charAt(r+1)),c=tt.getDigit(e.charAt(r+2));t.appendBits(s*100+a*10+c,10),r+=3}else if(r+1<n){const a=tt.getDigit(e.charAt(r+1));t.appendBits(s*10+a,7),r+=2}else t.appendBits(s,4),r++}}static appendAlphanumericBytes(e,t){const n=e.length;let r=0;for(;r<n;){const s=tt.getAlphanumericCode(e.charCodeAt(r));if(s===-1)throw new Xe;if(r+1<n){const a=tt.getAlphanumericCode(e.charCodeAt(r+1));if(a===-1)throw new Xe;t.appendBits(s*45+a,11),r+=2}else t.appendBits(s,6),r++}}static append8BitBytes(e,t,n){let r;try{r=ht.encode(e,n)}catch(s){throw new Xe(s)}for(let s=0,a=r.length;s!==a;s++){const c=r[s];t.appendBits(c,8)}}static appendKanjiBytes(e,t){let n;try{n=ht.encode(e,K.SJIS)}catch(s){throw new Xe(s)}const r=n.length;for(let s=0;s<r;s+=2){const a=n[s]&255,c=n[s+1]&255,u=a<<8&4294967295|c;let g=-1;if(u>=33088&&u<=40956?g=u-33088:u>=57408&&u<=60351&&(g=u-49472),g===-1)throw new Xe("Invalid byte sequence");const x=(g>>8)*192+(g&255);t.appendBits(x,13)}}static appendECI(e,t){t.appendBits(he.ECI.getBits(),4),t.appendBits(e.getValue(),8)}}tt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),tt.DEFAULT_BYTE_MODE_ENCODING=K.UTF8.getName();class tr{write(e,t,n,r=null){if(e.length===0)throw new b("Found empty contents");if(t<0||n<0)throw new b("Requested dimensions are too small: "+t+"x"+n);let s=Je.L,a=tr.QUIET_ZONE_SIZE;r!==null&&(r.get(xt.ERROR_CORRECTION)!==void 0&&(s=Je.fromString(r.get(xt.ERROR_CORRECTION).toString())),r.get(xt.MARGIN)!==void 0&&(a=Number.parseInt(r.get(xt.MARGIN).toString(),10)));const c=tt.encode(e,s,r);return this.renderResult(c,t,n,a)}writeToDom(e,t,n,r,s=null){typeof e=="string"&&(e=document.querySelector(e));const a=this.write(t,n,r,s);e&&e.appendChild(a)}renderResult(e,t,n,r){const s=e.getMatrix();if(s===null)throw new j;const a=s.getWidth(),c=s.getHeight(),u=a+r*2,g=c+r*2,x=Math.max(t,u),C=Math.max(n,g),m=Math.min(Math.floor(x/u),Math.floor(C/g)),T=Math.floor((x-a*m)/2),M=Math.floor((C-c*m)/2),O=this.createSVGElement(x,C);for(let D=0,B=M;D<c;D++,B+=m)for(let Z=0,Q=T;Z<a;Z++,Q+=m)if(s.get(Z,D)===1){const Y=this.createSvgRectElement(Q,B,m,m);O.appendChild(Y)}return O}createSVGElement(e,t){const n=document.createElementNS(tr.SVG_NS,"svg");return n.setAttributeNS(null,"height",e.toString()),n.setAttributeNS(null,"width",t.toString()),n}createSvgRectElement(e,t,n,r){const s=document.createElementNS(tr.SVG_NS,"rect");return s.setAttributeNS(null,"x",e.toString()),s.setAttributeNS(null,"y",t.toString()),s.setAttributeNS(null,"height",n.toString()),s.setAttributeNS(null,"width",r.toString()),s.setAttributeNS(null,"fill","#000000"),s}}tr.QUIET_ZONE_SIZE=4,tr.SVG_NS="http://www.w3.org/2000/svg";class xr{encode(e,t,n,r,s){if(e.length===0)throw new b("Found empty contents");if(t!==ae.QR_CODE)throw new b("Can only encode QR_CODE, but got "+t);if(n<0||r<0)throw new b(`Requested dimensions are too small: ${n}x${r}`);let a=Je.L,c=xr.QUIET_ZONE_SIZE;s!==null&&(s.get(xt.ERROR_CORRECTION)!==void 0&&(a=Je.fromString(s.get(xt.ERROR_CORRECTION).toString())),s.get(xt.MARGIN)!==void 0&&(c=Number.parseInt(s.get(xt.MARGIN).toString(),10)));const u=tt.encode(e,a,s);return xr.renderResult(u,n,r,c)}static renderResult(e,t,n,r){const s=e.getMatrix();if(s===null)throw new j;const a=s.getWidth(),c=s.getHeight(),u=a+r*2,g=c+r*2,x=Math.max(t,u),C=Math.max(n,g),m=Math.min(Math.floor(x/u),Math.floor(C/g)),T=Math.floor((x-a*m)/2),M=Math.floor((C-c*m)/2),O=new ot(x,C);for(let D=0,B=M;D<c;D++,B+=m)for(let Z=0,Q=T;Z<a;Z++,Q+=m)s.get(Z,D)===1&&O.setRegion(Q,B,m,m);return O}}xr.QUIET_ZONE_SIZE=4;class Ul{encode(e,t,n,r,s){let a;switch(t){case ae.QR_CODE:a=new xr;break;default:throw new b("No encoder available for format "+t)}return a.encode(e,t,n,r,s)}}class xn extends Be{constructor(e,t,n,r,s,a,c,u){if(super(a,c),this.yuvData=e,this.dataWidth=t,this.dataHeight=n,this.left=r,this.top=s,r+a>t||s+c>n)throw new b("Crop rectangle does not fit within image data.");u&&this.reverseHorizontal(a,c)}getRow(e,t){if(e<0||e>=this.getHeight())throw new b("Requested row is outside the image: "+e);const n=this.getWidth();(t==null||t.length<n)&&(t=new Uint8ClampedArray(n));const r=(e+this.top)*this.dataWidth+this.left;return $.arraycopy(this.yuvData,r,t,0,n),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.yuvData;const n=e*t,r=new Uint8ClampedArray(n);let s=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return $.arraycopy(this.yuvData,s,r,0,n),r;for(let a=0;a<t;a++){const c=a*e;$.arraycopy(this.yuvData,s,r,c,e),s+=this.dataWidth}return r}isCropSupported(){return!0}crop(e,t,n,r){return new xn(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+t,n,r,!1)}renderThumbnail(){const e=this.getWidth()/xn.THUMBNAIL_SCALE_FACTOR,t=this.getHeight()/xn.THUMBNAIL_SCALE_FACTOR,n=new Int32Array(e*t),r=this.yuvData;let s=this.top*this.dataWidth+this.left;for(let a=0;a<t;a++){const c=a*e;for(let u=0;u<e;u++){const g=r[s+u*xn.THUMBNAIL_SCALE_FACTOR]&255;n[c+u]=4278190080|g*65793}s+=this.dataWidth*xn.THUMBNAIL_SCALE_FACTOR}return n}getThumbnailWidth(){return this.getWidth()/xn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/xn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,t){const n=this.yuvData;for(let r=0,s=this.top*this.dataWidth+this.left;r<t;r++,s+=this.dataWidth){const a=s+e/2;for(let c=s,u=s+e-1;c<a;c++,u--){const g=n[c];n[c]=n[u],n[u]=g}}}invert(){return new yt(this)}}xn.THUMBNAIL_SCALE_FACTOR=2;class $i extends Be{constructor(e,t,n,r,s,a,c){if(super(t,n),this.dataWidth=r,this.dataHeight=s,this.left=a,this.top=c,e.BYTES_PER_ELEMENT===4){const u=t*n,g=new Uint8ClampedArray(u);for(let x=0;x<u;x++){const C=e[x],m=C>>16&255,T=C>>7&510,M=C&255;g[x]=(m+T+M)/4&255}this.luminances=g}else this.luminances=e;if(r===void 0&&(this.dataWidth=t),s===void 0&&(this.dataHeight=n),a===void 0&&(this.left=0),c===void 0&&(this.top=0),this.left+t>this.dataWidth||this.top+n>this.dataHeight)throw new b("Crop rectangle does not fit within image data.")}getRow(e,t){if(e<0||e>=this.getHeight())throw new b("Requested row is outside the image: "+e);const n=this.getWidth();(t==null||t.length<n)&&(t=new Uint8ClampedArray(n));const r=(e+this.top)*this.dataWidth+this.left;return $.arraycopy(this.luminances,r,t,0,n),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.luminances;const n=e*t,r=new Uint8ClampedArray(n);let s=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return $.arraycopy(this.luminances,s,r,0,n),r;for(let a=0;a<t;a++){const c=a*e;$.arraycopy(this.luminances,s,r,c,e),s+=this.dataWidth}return r}isCropSupported(){return!0}crop(e,t,n,r){return new $i(this.luminances,n,r,this.dataWidth,this.dataHeight,this.left+e,this.top+t)}invert(){return new yt(this)}}class so extends K{static forName(e){return this.getCharacterSetECIByName(e)}}class es{}es.ISO_8859_1=K.ISO8859_1;class oo{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class ao{static singletonList(e){return[e]}static min(e,t){return e.sort(t)[0]}}class Hl{constructor(e){this.previous=e}getPrevious(){return this.previous}}class pr extends Hl{constructor(e,t,n){super(e),this.value=t,this.bitCount=n}appendTo(e,t){e.appendBits(this.value,this.bitCount)}add(e,t){return new pr(this,e,t)}addBinaryShift(e,t){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new pr(this,e,t)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+ne.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class ts extends pr{constructor(e,t,n){super(e,0,0),this.binaryShiftStart=t,this.binaryShiftByteCount=n}appendTo(e,t){for(let n=0;n<this.binaryShiftByteCount;n++)(n===0||n===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):n===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(t[this.binaryShiftStart+n],8)}addBinaryShift(e,t){return new ts(this,e,t)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Vl(A,e,t){return new ts(A,e,t)}function kr(A,e,t){return new pr(A,e,t)}const jl=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Un=0,fi=1,en=2,lo=3,pn=4,zl=new pr(null,0,0),ns=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Wl(A){for(let e of A)ce.fill(e,-1);return A[Un][pn]=0,A[fi][pn]=0,A[fi][Un]=28,A[lo][pn]=0,A[en][pn]=0,A[en][Un]=15,A}const co=Wl(ce.createInt32Array(6,6));class wn{constructor(e,t,n,r){this.token=e,this.mode=t,this.binaryShiftByteCount=n,this.bitCount=r}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,t){let n=this.bitCount,r=this.token;if(e!==this.mode){let a=ns[this.mode][e];r=kr(r,a&65535,a>>16),n+=a>>16}let s=e===en?4:5;return r=kr(r,t,s),new wn(r,e,0,n+s)}shiftAndAppend(e,t){let n=this.token,r=this.mode===en?4:5;return n=kr(n,co[this.mode][e],r),n=kr(n,t,5),new wn(n,this.mode,0,this.bitCount+r+5)}addBinaryShiftChar(e){let t=this.token,n=this.mode,r=this.bitCount;if(this.mode===pn||this.mode===en){let c=ns[n][Un];t=kr(t,c&65535,c>>16),r+=c>>16,n=Un}let s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,a=new wn(t,n,this.binaryShiftByteCount+1,r+s);return a.binaryShiftByteCount===2078&&(a=a.endBinaryShift(e+1)),a}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let t=this.token;return t=Vl(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new wn(t,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let t=this.bitCount+(ns[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=wn.calculateBinaryShiftCost(e)-wn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount}toBitArray(e){let t=[];for(let r=this.endBinaryShift(e.length).token;r!==null;r=r.getPrevious())t.unshift(r);let n=new ee;for(const r of t)r.appendTo(n,e);return n}toString(){return de.format("%s bits=%d bytes=%d",jl[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}wn.INITIAL_STATE=new wn(zl,Un,0,0);function Gl(A){const e=de.getCharCode(" "),t=de.getCharCode("."),n=de.getCharCode(",");A[Un][e]=1;const r=de.getCharCode("Z"),s=de.getCharCode("A");for(let m=s;m<=r;m++)A[Un][m]=m-s+2;A[fi][e]=1;const a=de.getCharCode("z"),c=de.getCharCode("a");for(let m=c;m<=a;m++)A[fi][m]=m-c+2;A[en][e]=1;const u=de.getCharCode("9"),g=de.getCharCode("0");for(let m=g;m<=u;m++)A[en][m]=m-g+2;A[en][n]=12,A[en][t]=13;const x=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let m=0;m<x.length;m++)A[lo][de.getCharCode(x[m])]=m;const C=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let m=0;m<C.length;m++)de.getCharCode(C[m])>0&&(A[pn][de.getCharCode(C[m])]=m);return A}const rs=Gl(ce.createInt32Array(5,256));class Ur{constructor(e){this.text=e}encode(){const e=de.getCharCode(" "),t=de.getCharCode(`
`);let n=ao.singletonList(wn.INITIAL_STATE);for(let s=0;s<this.text.length;s++){let a,c=s+1<this.text.length?this.text[s+1]:0;switch(this.text[s]){case de.getCharCode("\r"):a=c===t?2:0;break;case de.getCharCode("."):a=c===e?3:0;break;case de.getCharCode(","):a=c===e?4:0;break;case de.getCharCode(":"):a=c===e?5:0;break;default:a=0}a>0?(n=Ur.updateStateListForPair(n,s,a),s++):n=this.updateStateListForChar(n,s)}return ao.min(n,(s,a)=>s.getBitCount()-a.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,t){const n=[];for(let r of e)this.updateStateForChar(r,t,n);return Ur.simplifyStates(n)}updateStateForChar(e,t,n){let r=this.text[t]&255,s=rs[e.getMode()][r]>0,a=null;for(let c=0;c<=pn;c++){let u=rs[c][r];if(u>0){if(a==null&&(a=e.endBinaryShift(t)),!s||c===e.getMode()||c===en){const g=a.latchAndAppend(c,u);n.push(g)}if(!s&&co[e.getMode()][c]>=0){const g=a.shiftAndAppend(c,u);n.push(g)}}}if(e.getBinaryShiftByteCount()>0||rs[e.getMode()][r]===0){let c=e.addBinaryShiftChar(t);n.push(c)}}static updateStateListForPair(e,t,n){const r=[];for(let s of e)this.updateStateForPair(s,t,n,r);return this.simplifyStates(r)}static updateStateForPair(e,t,n,r){let s=e.endBinaryShift(t);if(r.push(s.latchAndAppend(pn,n)),e.getMode()!==pn&&r.push(s.shiftAndAppend(pn,n)),n===3||n===4){let a=s.latchAndAppend(en,16-n).latchAndAppend(en,1);r.push(a)}if(e.getBinaryShiftByteCount()>0){let a=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);r.push(a)}}static simplifyStates(e){let t=[];for(const n of e){let r=!0;for(const s of t){if(s.isBetterThanOrEqualTo(n)){r=!1;break}n.isBetterThanOrEqualTo(s)&&(t=t.filter(a=>a!==s))}r&&t.push(n)}return t}}class Le{constructor(){}static encodeBytes(e){return Le.encode(e,Le.DEFAULT_EC_PERCENT,Le.DEFAULT_AZTEC_LAYERS)}static encode(e,t,n){let r=new Ur(e).encode(),s=ne.truncDivision(r.getSize()*t,100)+11,a=r.getSize()+s,c,u,g,x,C;if(n!==Le.DEFAULT_AZTEC_LAYERS){if(c=n<0,u=Math.abs(n),u>(c?Le.MAX_NB_BITS_COMPACT:Le.MAX_NB_BITS))throw new b(de.format("Illegal value %s for layers",n));g=Le.totalBitsInLayer(u,c),x=Le.WORD_SIZE[u];let Y=g-g%x;if(C=Le.stuffBits(r,x),C.getSize()+s>Y)throw new b("Data to large for user specified layer");if(c&&C.getSize()>x*64)throw new b("Data to large for user specified layer")}else{x=0,C=null;for(let Y=0;;Y++){if(Y>Le.MAX_NB_BITS)throw new b("Data too large for an Aztec code");if(c=Y<=3,u=c?Y+1:Y,g=Le.totalBitsInLayer(u,c),a>g)continue;(C==null||x!==Le.WORD_SIZE[u])&&(x=Le.WORD_SIZE[u],C=Le.stuffBits(r,x));let Me=g-g%x;if(!(c&&C.getSize()>x*64)&&C.getSize()+s<=Me)break}}let m=Le.generateCheckWords(C,g,x),T=C.getSize()/x,M=Le.generateModeMessage(c,u,T),O=(c?11:14)+u*4,D=new Int32Array(O),B;if(c){B=O;for(let Y=0;Y<D.length;Y++)D[Y]=Y}else{B=O+1+2*ne.truncDivision(ne.truncDivision(O,2)-1,15);let Y=ne.truncDivision(O,2),Me=ne.truncDivision(B,2);for(let Ee=0;Ee<Y;Ee++){let Ut=Ee+ne.truncDivision(Ee,15);D[Y-Ee-1]=Me-Ut-1,D[Y+Ee]=Me+Ut+1}}let Z=new ot(B);for(let Y=0,Me=0;Y<u;Y++){let Ee=(u-Y)*4+(c?9:12);for(let Ut=0;Ut<Ee;Ut++){let sn=Ut*2;for(let Ht=0;Ht<2;Ht++)m.get(Me+sn+Ht)&&Z.set(D[Y*2+Ht],D[Y*2+Ut]),m.get(Me+Ee*2+sn+Ht)&&Z.set(D[Y*2+Ut],D[O-1-Y*2-Ht]),m.get(Me+Ee*4+sn+Ht)&&Z.set(D[O-1-Y*2-Ht],D[O-1-Y*2-Ut]),m.get(Me+Ee*6+sn+Ht)&&Z.set(D[O-1-Y*2-Ut],D[Y*2+Ht])}Me+=Ee*8}if(Le.drawModeMessage(Z,c,B,M),c)Le.drawBullsEye(Z,ne.truncDivision(B,2),5);else{Le.drawBullsEye(Z,ne.truncDivision(B,2),7);for(let Y=0,Me=0;Y<ne.truncDivision(O,2)-1;Y+=15,Me+=16)for(let Ee=ne.truncDivision(B,2)&1;Ee<B;Ee+=2)Z.set(ne.truncDivision(B,2)-Me,Ee),Z.set(ne.truncDivision(B,2)+Me,Ee),Z.set(Ee,ne.truncDivision(B,2)-Me),Z.set(Ee,ne.truncDivision(B,2)+Me)}let Q=new oo;return Q.setCompact(c),Q.setSize(B),Q.setLayers(u),Q.setCodeWords(T),Q.setMatrix(Z),Q}static drawBullsEye(e,t,n){for(let r=0;r<n;r+=2)for(let s=t-r;s<=t+r;s++)e.set(s,t-r),e.set(s,t+r),e.set(t-r,s),e.set(t+r,s);e.set(t-n,t-n),e.set(t-n+1,t-n),e.set(t-n,t-n+1),e.set(t+n,t-n),e.set(t+n,t-n+1),e.set(t+n,t+n-1)}static generateModeMessage(e,t,n){let r=new ee;return e?(r.appendBits(t-1,2),r.appendBits(n-1,6),r=Le.generateCheckWords(r,28,4)):(r.appendBits(t-1,5),r.appendBits(n-1,11),r=Le.generateCheckWords(r,40,4)),r}static drawModeMessage(e,t,n,r){let s=ne.truncDivision(n,2);if(t)for(let a=0;a<7;a++){let c=s-3+a;r.get(a)&&e.set(c,s-5),r.get(a+7)&&e.set(s+5,c),r.get(20-a)&&e.set(c,s+5),r.get(27-a)&&e.set(s-5,c)}else for(let a=0;a<10;a++){let c=s-5+a+ne.truncDivision(a,5);r.get(a)&&e.set(c,s-7),r.get(a+10)&&e.set(s+7,c),r.get(29-a)&&e.set(c,s+7),r.get(39-a)&&e.set(s-7,c)}}static generateCheckWords(e,t,n){let r=e.getSize()/n,s=new Ji(Le.getGF(n)),a=ne.truncDivision(t,n),c=Le.bitsToWords(e,n,a);s.encode(c,a-r);let u=t%n,g=new ee;g.appendBits(0,u);for(const x of Array.from(c))g.appendBits(x,n);return g}static bitsToWords(e,t,n){let r=new Int32Array(n),s,a;for(s=0,a=e.getSize()/t;s<a;s++){let c=0;for(let u=0;u<t;u++)c|=e.get(s*t+u)?1<<t-u-1:0;r[s]=c}return r}static getGF(e){switch(e){case 4:return N.AZTEC_PARAM;case 6:return N.AZTEC_DATA_6;case 8:return N.AZTEC_DATA_8;case 10:return N.AZTEC_DATA_10;case 12:return N.AZTEC_DATA_12;default:throw new b("Unsupported word size "+e)}}static stuffBits(e,t){let n=new ee,r=e.getSize(),s=(1<<t)-2;for(let a=0;a<r;a+=t){let c=0;for(let u=0;u<t;u++)(a+u>=r||e.get(a+u))&&(c|=1<<t-1-u);(c&s)===s?(n.appendBits(c&s,t),a--):(c&s)===0?(n.appendBits(c|1,t),a--):n.appendBits(c,t)}return n}static totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}Le.DEFAULT_EC_PERCENT=33,Le.DEFAULT_AZTEC_LAYERS=0,Le.MAX_NB_BITS=32,Le.MAX_NB_BITS_COMPACT=4,Le.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class hi{encode(e,t,n,r){return this.encodeWithHints(e,t,n,r,null)}encodeWithHints(e,t,n,r,s){let a=es.ISO_8859_1,c=Le.DEFAULT_EC_PERCENT,u=Le.DEFAULT_AZTEC_LAYERS;return s!=null&&(s.has(xt.CHARACTER_SET)&&(a=so.forName(s.get(xt.CHARACTER_SET).toString())),s.has(xt.ERROR_CORRECTION)&&(c=ne.parseInt(s.get(xt.ERROR_CORRECTION).toString())),s.has(xt.AZTEC_LAYERS)&&(u=ne.parseInt(s.get(xt.AZTEC_LAYERS).toString()))),hi.encodeLayers(e,t,n,r,a,c,u)}static encodeLayers(e,t,n,r,s,a,c){if(t!==ae.AZTEC)throw new b("Can only encode AZTEC, but got "+t);let u=Le.encode(de.getBytes(e,s),a,c);return hi.renderResult(u,n,r)}static renderResult(e,t,n){let r=e.getMatrix();if(r==null)throw new j;let s=r.getWidth(),a=r.getHeight(),c=Math.max(t,s),u=Math.max(n,a),g=Math.min(c/s,u/a),x=(c-s*g)/2,C=(u-a*g)/2,m=new ot(c,u);for(let T=0,M=C;T<a;T++,M+=g)for(let O=0,D=x;O<s;O++,D+=g)r.get(O,T)&&m.setRegion(D,M,g,g);return m}}l.AbstractExpandedDecoder=ji,l.ArgumentException=S,l.ArithmeticException=_,l.AztecCode=oo,l.AztecCodeReader=Nt,l.AztecCodeWriter=hi,l.AztecDecoder=G,l.AztecDetector=Ct,l.AztecDetectorResult=te,l.AztecEncoder=Le,l.AztecHighLevelEncoder=Ur,l.AztecPoint=je,l.BarcodeFormat=ae,l.Binarizer=fe,l.BinaryBitmap=z,l.BitArray=ee,l.BitMatrix=ot,l.BitSource=Yi,l.BrowserAztecCodeReader=Qt,l.BrowserBarcodeReader=Il,l.BrowserCodeReader=fn,l.BrowserDatamatrixCodeReader=Sl,l.BrowserMultiFormatReader=Bl,l.BrowserPDF417Reader=Pl,l.BrowserQRCodeReader=Fl,l.BrowserQRCodeSvgWriter=tr,l.CharacterSetECI=K,l.ChecksumException=W,l.Code128Reader=J,l.Code39Reader=ve,l.DataMatrixDecodedBitStreamParser=Bn,l.DataMatrixReader=Pn,l.DecodeHintType=Ne,l.DecoderResult=vn,l.DefaultGridSampler=Ve,l.DetectorResult=ue,l.EAN13Reader=Qn,l.EncodeHintType=xt,l.Exception=w,l.FormatException=X,l.GenericGF=N,l.GenericGFPoly=_t,l.GlobalHistogramBinarizer=De,l.GridSampler=xe,l.GridSamplerInstance=be,l.HTMLCanvasElementLuminanceSource=jt,l.HybridBinarizer=se,l.ITFReader=_e,l.IllegalArgumentException=b,l.IllegalStateException=j,l.InvertedLuminanceSource=yt,l.LuminanceSource=Be,l.MathUtils=U,l.MultiFormatOneDReader=dr,l.MultiFormatReader=io,l.MultiFormatWriter=Ul,l.NotFoundException=F,l.OneDReader=qe,l.PDF417DecodedBitStreamParser=L,l.PDF417DecoderErrorCorrection=Js,l.PDF417Reader=Et,l.PDF417ResultMetadata=eo,l.PerspectiveTransform=we,l.PlanarYUVLuminanceSource=xn,l.QRCodeByteMatrix=ui,l.QRCodeDataMask=Jt,l.QRCodeDecodedBitStreamParser=it,l.QRCodeDecoderErrorCorrectionLevel=Je,l.QRCodeDecoderFormatInformation=Tt,l.QRCodeEncoder=tt,l.QRCodeEncoderQRCode=er,l.QRCodeMaskUtil=ct,l.QRCodeMatrixUtil=ge,l.QRCodeMode=he,l.QRCodeReader=Fn,l.QRCodeVersion=le,l.QRCodeWriter=xr,l.RGBLuminanceSource=$i,l.RSS14Reader=lt,l.RSSExpandedReader=H,l.ReaderException=ci,l.ReedSolomonDecoder=V,l.ReedSolomonEncoder=Ji,l.ReedSolomonException=P,l.Result=At,l.ResultMetadataType=at,l.ResultPoint=v,l.StringUtils=de,l.UnsupportedOperationException=Bt,l.VideoInputDevice=un,l.WhiteRectangleDetector=oe,l.WriterException=Xe,l.ZXingArrays=ce,l.ZXingCharset=so,l.ZXingInteger=ne,l.ZXingStandardCharsets=es,l.ZXingStringBuilder=Re,l.ZXingStringEncoding=ht,l.ZXingSystem=$,l.createAbstractExpandedDecoder=Qs,Object.defineProperty(l,"__esModule",{value:!0})})}(Wr,Wr.exports)),Wr.exports}var nt=E0();const I0=C0(nt),y0=Zl({__proto__:null,default:I0},[nt]);var Ko=function(){function i(o,l,f){if(this.formatMap=new Map([[ie.QR_CODE,nt.BarcodeFormat.QR_CODE],[ie.AZTEC,nt.BarcodeFormat.AZTEC],[ie.CODABAR,nt.BarcodeFormat.CODABAR],[ie.CODE_39,nt.BarcodeFormat.CODE_39],[ie.CODE_93,nt.BarcodeFormat.CODE_93],[ie.CODE_128,nt.BarcodeFormat.CODE_128],[ie.DATA_MATRIX,nt.BarcodeFormat.DATA_MATRIX],[ie.MAXICODE,nt.BarcodeFormat.MAXICODE],[ie.ITF,nt.BarcodeFormat.ITF],[ie.EAN_13,nt.BarcodeFormat.EAN_13],[ie.EAN_8,nt.BarcodeFormat.EAN_8],[ie.PDF_417,nt.BarcodeFormat.PDF_417],[ie.RSS_14,nt.BarcodeFormat.RSS_14],[ie.RSS_EXPANDED,nt.BarcodeFormat.RSS_EXPANDED],[ie.UPC_A,nt.BarcodeFormat.UPC_A],[ie.UPC_E,nt.BarcodeFormat.UPC_E],[ie.UPC_EAN_EXTENSION,nt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!y0)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=l,this.logger=f;var d=this.createZXingFormats(o),h=new Map;h.set(nt.DecodeHintType.POSSIBLE_FORMATS,d),h.set(nt.DecodeHintType.TRY_HARDER,!1),this.hints=h}return i.prototype.decodeAsync=function(o){var l=this;return new Promise(function(f,d){try{f(l.decode(o))}catch(h){d(h)}})},i.prototype.decode=function(o){var l=new nt.MultiFormatReader(this.verbose,this.hints),f=new nt.HTMLCanvasElementLuminanceSource(o),d=new nt.BinaryBitmap(new nt.HybridBinarizer(f)),h=l.decode(d);return{text:h.text,format:fl.create(this.toHtml5QrcodeSupportedFormats(h.format)),debugData:this.createDebugData()}},i.prototype.createReverseFormatMap=function(){var o=new Map;return this.formatMap.forEach(function(l,f,d){o.set(l,f)}),o},i.prototype.toHtml5QrcodeSupportedFormats=function(o){if(!this.reverseFormatMap.has(o))throw"reverseFormatMap doesn't have ".concat(o);return this.reverseFormatMap.get(o)},i.prototype.createZXingFormats=function(o){for(var l=[],f=0,d=o;f<d.length;f++){var h=d[f];this.formatMap.has(h)?l.push(this.formatMap.get(h)):this.logger.logError("".concat(h," is not supported by")+"ZXingHtml5QrcodeShim")}return l},i.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},i}(),S0=function(i,o,l,f){function d(h){return h instanceof l?h:new l(function(p){p(h)})}return new(l||(l=Promise))(function(h,p){function E(S){try{w(f.next(S))}catch(b){p(b)}}function I(S){try{w(f.throw(S))}catch(b){p(b)}}function w(S){S.done?h(S.value):d(S.value).then(E,I)}w((f=f.apply(i,o||[])).next())})},T0=function(i,o){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},f,d,h,p;return p={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function E(w){return function(S){return I([w,S])}}function I(w){if(f)throw new TypeError("Generator is already executing.");for(;p&&(p=0,w[0]&&(l=0)),l;)try{if(f=1,d&&(h=w[0]&2?d.return:w[0]?d.throw||((h=d.return)&&h.call(d),0):d.next)&&!(h=h.call(d,w[1])).done)return h;switch(d=0,h&&(w=[w[0]&2,h.value]),w[0]){case 0:case 1:h=w;break;case 4:return l.label++,{value:w[1],done:!1};case 5:l.label++,d=w[1],w=[0];continue;case 7:w=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(w[0]===6||w[0]===2)){l=0;continue}if(w[0]===3&&(!h||w[1]>h[0]&&w[1]<h[3])){l.label=w[1];break}if(w[0]===6&&l.label<h[1]){l.label=h[1],h=w;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(w);break}h[2]&&l.ops.pop(),l.trys.pop();continue}w=o.call(i,l)}catch(S){w=[6,S],d=0}finally{f=h=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Qo=function(){function i(o,l,f){if(this.formatMap=new Map([[ie.QR_CODE,"qr_code"],[ie.AZTEC,"aztec"],[ie.CODABAR,"codabar"],[ie.CODE_39,"code_39"],[ie.CODE_93,"code_93"],[ie.CODE_128,"code_128"],[ie.DATA_MATRIX,"data_matrix"],[ie.ITF,"itf"],[ie.EAN_13,"ean_13"],[ie.EAN_8,"ean_8"],[ie.PDF_417,"pdf417"],[ie.UPC_A,"upc_a"],[ie.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!i.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=l,this.logger=f;var d=this.createBarcodeDetectorFormats(o);if(this.detector=new BarcodeDetector(d),!this.detector)throw"BarcodeDetector detector not supported"}return i.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var o=new BarcodeDetector({formats:["qr_code"]});return typeof o<"u"},i.prototype.decodeAsync=function(o){return S0(this,void 0,void 0,function(){var l,f;return T0(this,function(d){switch(d.label){case 0:return[4,this.detector.detect(o)];case 1:if(l=d.sent(),!l||l.length===0)throw"No barcode or QR code detected.";return f=this.selectLargestBarcode(l),[2,{text:f.rawValue,format:fl.create(this.toHtml5QrcodeSupportedFormats(f.format)),debugData:this.createDebugData()}]}})})},i.prototype.selectLargestBarcode=function(o){for(var l=null,f=0,d=0,h=o;d<h.length;d++){var p=h[d],E=p.boundingBox.width*p.boundingBox.height;E>f&&(f=E,l=p)}if(!l)throw"No largest barcode found";return l},i.prototype.createBarcodeDetectorFormats=function(o){for(var l=[],f=0,d=o;f<d.length;f++){var h=d[f];this.formatMap.has(h)?l.push(this.formatMap.get(h)):this.logger.warn("".concat(h," is not supported by")+"BarcodeDetectorDelegate")}return{formats:l}},i.prototype.toHtml5QrcodeSupportedFormats=function(o){if(!this.reverseFormatMap.has(o))throw"reverseFormatMap doesn't have ".concat(o);return this.reverseFormatMap.get(o)},i.prototype.createReverseFormatMap=function(){var o=new Map;return this.formatMap.forEach(function(l,f,d){o.set(l,f)}),o},i.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},i}(),qo=function(i,o,l,f){function d(h){return h instanceof l?h:new l(function(p){p(h)})}return new(l||(l=Promise))(function(h,p){function E(S){try{w(f.next(S))}catch(b){p(b)}}function I(S){try{w(f.throw(S))}catch(b){p(b)}}function w(S){S.done?h(S.value):d(S.value).then(E,I)}w((f=f.apply(i,o||[])).next())})},Jo=function(i,o){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},f,d,h,p;return p={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function E(w){return function(S){return I([w,S])}}function I(w){if(f)throw new TypeError("Generator is already executing.");for(;p&&(p=0,w[0]&&(l=0)),l;)try{if(f=1,d&&(h=w[0]&2?d.return:w[0]?d.throw||((h=d.return)&&h.call(d),0):d.next)&&!(h=h.call(d,w[1])).done)return h;switch(d=0,h&&(w=[w[0]&2,h.value]),w[0]){case 0:case 1:h=w;break;case 4:return l.label++,{value:w[1],done:!1};case 5:l.label++,d=w[1],w=[0];continue;case 7:w=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(w[0]===6||w[0]===2)){l=0;continue}if(w[0]===3&&(!h||w[1]>h[0]&&w[1]<h[3])){l.label=w[1];break}if(w[0]===6&&l.label<h[1]){l.label=h[1],h=w;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(w);break}h[2]&&l.ops.pop(),l.trys.pop();continue}w=o.call(i,l)}catch(S){w=[6,S],d=0}finally{f=h=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},b0=function(){function i(o,l,f,d){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=f,l&&Qo.isSupported()?(this.primaryDecoder=new Qo(o,f,d),this.secondaryDecoder=new Ko(o,f,d)):this.primaryDecoder=new Ko(o,f,d)}return i.prototype.decodeAsync=function(o){return qo(this,void 0,void 0,function(){var l;return Jo(this,function(f){switch(f.label){case 0:l=performance.now(),f.label=1;case 1:return f.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(o)];case 2:return[2,f.sent()];case 3:return this.possiblyLogPerformance(l),[7];case 4:return[2]}})})},i.prototype.decodeRobustlyAsync=function(o){return qo(this,void 0,void 0,function(){var l,f;return Jo(this,function(d){switch(d.label){case 0:l=performance.now(),d.label=1;case 1:return d.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(o)];case 2:return[2,d.sent()];case 3:if(f=d.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(o)];throw f;case 4:return this.possiblyLogPerformance(l),[7];case 5:return[2]}})})},i.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},i.prototype.possiblyLogPerformance=function(o){if(this.verbose){var l=performance.now()-o;this.executionResults.push(l),this.executions++,this.possiblyFlushPerformanceReport()}},i.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var o=0,l=0,f=this.executionResults;l<f.length;l++){var d=f[l];o+=d}var h=o/this.executionResults.length;console.log("".concat(h," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},i}(),Gs=function(){var i=function(o,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(f[h]=d[h])},i(o,l)};return function(o,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");i(o,l);function f(){this.constructor=o}o.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}}(),_i=function(i,o,l,f){function d(h){return h instanceof l?h:new l(function(p){p(h)})}return new(l||(l=Promise))(function(h,p){function E(S){try{w(f.next(S))}catch(b){p(b)}}function I(S){try{w(f.throw(S))}catch(b){p(b)}}function w(S){S.done?h(S.value):d(S.value).then(E,I)}w((f=f.apply(i,o||[])).next())})},Ni=function(i,o){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},f,d,h,p;return p={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function E(w){return function(S){return I([w,S])}}function I(w){if(f)throw new TypeError("Generator is already executing.");for(;p&&(p=0,w[0]&&(l=0)),l;)try{if(f=1,d&&(h=w[0]&2?d.return:w[0]?d.throw||((h=d.return)&&h.call(d),0):d.next)&&!(h=h.call(d,w[1])).done)return h;switch(d=0,h&&(w=[w[0]&2,h.value]),w[0]){case 0:case 1:h=w;break;case 4:return l.label++,{value:w[1],done:!1};case 5:l.label++,d=w[1],w=[0];continue;case 7:w=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(w[0]===6||w[0]===2)){l=0;continue}if(w[0]===3&&(!h||w[1]>h[0]&&w[1]<h[3])){l.label=w[1];break}if(w[0]===6&&l.label<h[1]){l.label=h[1],h=w;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(w);break}h[2]&&l.ops.pop(),l.trys.pop();continue}w=o.call(i,l)}catch(S){w=[6,S],d=0}finally{f=h=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},xl=function(){function i(o,l){this.name=o,this.track=l}return i.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},i.prototype.apply=function(o){var l={};l[this.name]=o;var f={advanced:[l]};return this.track.applyConstraints(f)},i.prototype.value=function(){var o=this.track.getSettings();if(this.name in o){var l=o[this.name];return l}return null},i}(),_0=function(i){Gs(o,i);function o(l,f){return i.call(this,l,f)||this}return o.prototype.min=function(){return this.getCapabilities().min},o.prototype.max=function(){return this.getCapabilities().max},o.prototype.step=function(){return this.getCapabilities().step},o.prototype.apply=function(l){var f={};f[this.name]=l;var d={advanced:[f]};return this.track.applyConstraints(d)},o.prototype.getCapabilities=function(){this.failIfNotSupported();var l=this.track.getCapabilities(),f=l[this.name];return{min:f.min,max:f.max,step:f.step}},o.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},o}(xl),N0=function(i){Gs(o,i);function o(l){return i.call(this,"zoom",l)||this}return o}(_0),M0=function(i){Gs(o,i);function o(l){return i.call(this,"torch",l)||this}return o}(xl),O0=function(){function i(o){this.track=o}return i.prototype.zoomFeature=function(){return new N0(this.track)},i.prototype.torchFeature=function(){return new M0(this.track)},i}(),D0=function(){function i(o,l,f){this.isClosed=!1,this.parentElement=o,this.mediaStream=l,this.callbacks=f,this.surface=this.createVideoElement(this.parentElement.clientWidth),o.append(this.surface)}return i.prototype.createVideoElement=function(o){var l=document.createElement("video");return l.style.width="".concat(o,"px"),l.style.display="block",l.muted=!0,l.setAttribute("muted","true"),l.playsInline=!0,l},i.prototype.setupSurface=function(){var o=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var l=function(){var f=o.surface.clientWidth,d=o.surface.clientHeight;o.callbacks.onRenderSurfaceReady(f,d),o.surface.removeEventListener("playing",l)};this.surface.addEventListener("playing",l),this.surface.srcObject=this.mediaStream,this.surface.play()},i.create=function(o,l,f,d){return _i(this,void 0,void 0,function(){var h,p;return Ni(this,function(E){switch(E.label){case 0:return h=new i(o,l,d),f.aspectRatio?(p={aspectRatio:f.aspectRatio},[4,h.getFirstTrackOrFail().applyConstraints(p)]):[3,2];case 1:E.sent(),E.label=2;case 2:return h.setupSurface(),[2,h]}})})},i.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},i.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},i.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},i.prototype.resume=function(o){this.failIfClosed();var l=this,f=function(){setTimeout(o,200),l.surface.removeEventListener("playing",f)};this.surface.addEventListener("playing",f),this.surface.play()},i.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},i.prototype.getSurface=function(){return this.failIfClosed(),this.surface},i.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},i.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},i.prototype.applyVideoConstraints=function(o){return _i(this,void 0,void 0,function(){return Ni(this,function(l){if("aspectRatio"in o)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(o)]})})},i.prototype.close=function(){if(this.isClosed)return Promise.resolve();var o=this;return new Promise(function(l,f){var d=o.mediaStream.getVideoTracks(),h=d.length,p=0;o.mediaStream.getVideoTracks().forEach(function(E){o.mediaStream.removeTrack(E),E.stop(),++p,p>=h&&(o.isClosed=!0,o.parentElement.removeChild(o.surface),l())})})},i.prototype.getCapabilities=function(){return new O0(this.getFirstTrackOrFail())},i}(),R0=function(){function i(o){this.mediaStream=o}return i.prototype.render=function(o,l,f){return _i(this,void 0,void 0,function(){return Ni(this,function(d){return[2,D0.create(o,this.mediaStream,l,f)]})})},i.create=function(o){return _i(this,void 0,void 0,function(){var l,f;return Ni(this,function(d){switch(d.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return l={audio:!1,video:o},[4,navigator.mediaDevices.getUserMedia(l)];case 1:return f=d.sent(),[2,new i(f)]}})})},i}(),$o=function(i,o,l,f){function d(h){return h instanceof l?h:new l(function(p){p(h)})}return new(l||(l=Promise))(function(h,p){function E(S){try{w(f.next(S))}catch(b){p(b)}}function I(S){try{w(f.throw(S))}catch(b){p(b)}}function w(S){S.done?h(S.value):d(S.value).then(E,I)}w((f=f.apply(i,o||[])).next())})},ea=function(i,o){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},f,d,h,p;return p={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function E(w){return function(S){return I([w,S])}}function I(w){if(f)throw new TypeError("Generator is already executing.");for(;p&&(p=0,w[0]&&(l=0)),l;)try{if(f=1,d&&(h=w[0]&2?d.return:w[0]?d.throw||((h=d.return)&&h.call(d),0):d.next)&&!(h=h.call(d,w[1])).done)return h;switch(d=0,h&&(w=[w[0]&2,h.value]),w[0]){case 0:case 1:h=w;break;case 4:return l.label++,{value:w[1],done:!1};case 5:l.label++,d=w[1],w=[0];continue;case 7:w=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(w[0]===6||w[0]===2)){l=0;continue}if(w[0]===3&&(!h||w[1]>h[0]&&w[1]<h[3])){l.label=w[1];break}if(w[0]===6&&l.label<h[1]){l.label=h[1],h=w;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(w);break}h[2]&&l.ops.pop(),l.trys.pop();continue}w=o.call(i,l)}catch(S){w=[6,S],d=0}finally{f=h=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},v0=function(){function i(){}return i.failIfNotSupported=function(){return $o(this,void 0,void 0,function(){return ea(this,function(o){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new i]})})},i.prototype.create=function(o){return $o(this,void 0,void 0,function(){return ea(this,function(l){return[2,R0.create(o)]})})},i}(),L0=function(i,o,l,f){function d(h){return h instanceof l?h:new l(function(p){p(h)})}return new(l||(l=Promise))(function(h,p){function E(S){try{w(f.next(S))}catch(b){p(b)}}function I(S){try{w(f.throw(S))}catch(b){p(b)}}function w(S){S.done?h(S.value):d(S.value).then(E,I)}w((f=f.apply(i,o||[])).next())})},B0=function(i,o){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},f,d,h,p;return p={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function E(w){return function(S){return I([w,S])}}function I(w){if(f)throw new TypeError("Generator is already executing.");for(;p&&(p=0,w[0]&&(l=0)),l;)try{if(f=1,d&&(h=w[0]&2?d.return:w[0]?d.throw||((h=d.return)&&h.call(d),0):d.next)&&!(h=h.call(d,w[1])).done)return h;switch(d=0,h&&(w=[w[0]&2,h.value]),w[0]){case 0:case 1:h=w;break;case 4:return l.label++,{value:w[1],done:!1};case 5:l.label++,d=w[1],w=[0];continue;case 7:w=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(w[0]===6||w[0]===2)){l=0;continue}if(w[0]===3&&(!h||w[1]>h[0]&&w[1]<h[3])){l.label=w[1];break}if(w[0]===6&&l.label<h[1]){l.label=h[1],h=w;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(w);break}h[2]&&l.ops.pop(),l.trys.pop();continue}w=o.call(i,l)}catch(S){w=[6,S],d=0}finally{f=h=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},P0=function(){function i(){}return i.retrieve=function(){if(navigator.mediaDevices)return i.getCamerasFromMediaDevices();var o=MediaStreamTrack;return MediaStreamTrack&&o.getSources?i.getCamerasFromMediaStreamTrack():i.rejectWithError()},i.rejectWithError=function(){var o=Ir.unableToQuerySupportedDevices();return i.isHttpsOrLocalhost()||(o=Ir.insecureContextCameraQueryError()),Promise.reject(o)},i.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var o=location.host.split(":")[0];return o==="127.0.0.1"||o==="localhost"},i.getCamerasFromMediaDevices=function(){return L0(this,void 0,void 0,function(){var o,l,f,d,h,p,E;return B0(this,function(I){switch(I.label){case 0:return o=function(w){for(var S=w.getVideoTracks(),b=0,z=S;b<z.length;b++){var W=z[b];W.enabled=!1,W.stop(),w.removeTrack(W)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return l=I.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(f=I.sent(),d=[],h=0,p=f;h<p.length;h++)E=p[h],E.kind==="videoinput"&&d.push({id:E.deviceId,label:E.label});return o(l),[2,d]}})})},i.getCamerasFromMediaStreamTrack=function(){return new Promise(function(o,l){var f=function(h){for(var p=[],E=0,I=h;E<I.length;E++){var w=I[E];w.kind==="video"&&p.push({id:w.id,label:w.label})}o(p)},d=MediaStreamTrack;d.getSources(f)})},i}(),ut;(function(i){i[i.UNKNOWN=0]="UNKNOWN",i[i.NOT_STARTED=1]="NOT_STARTED",i[i.SCANNING=2]="SCANNING",i[i.PAUSED=3]="PAUSED"})(ut||(ut={}));var F0=function(){function i(){this.state=ut.NOT_STARTED,this.onGoingTransactionNewState=ut.UNKNOWN}return i.prototype.directTransition=function(o){this.failIfTransitionOngoing(),this.validateTransition(o),this.state=o},i.prototype.startTransition=function(o){return this.failIfTransitionOngoing(),this.validateTransition(o),this.onGoingTransactionNewState=o,this},i.prototype.execute=function(){if(this.onGoingTransactionNewState===ut.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var o=this.onGoingTransactionNewState;this.onGoingTransactionNewState=ut.UNKNOWN,this.directTransition(o)},i.prototype.cancel=function(){if(this.onGoingTransactionNewState===ut.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=ut.UNKNOWN},i.prototype.getState=function(){return this.state},i.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==ut.UNKNOWN)throw"Cannot transition to a new state, already under transition"},i.prototype.validateTransition=function(o){switch(this.state){case ut.UNKNOWN:throw"Transition from unknown is not allowed";case ut.NOT_STARTED:this.failIfNewStateIs(o,[ut.PAUSED]);break;case ut.SCANNING:break;case ut.PAUSED:break}},i.prototype.failIfNewStateIs=function(o,l){for(var f=0,d=l;f<d.length;f++){var h=d[f];if(o===h)throw"Cannot transition from ".concat(this.state," to ").concat(o)}},i}(),k0=function(){function i(o){this.stateManager=o}return i.prototype.startTransition=function(o){return this.stateManager.startTransition(o)},i.prototype.directTransition=function(o){this.stateManager.directTransition(o)},i.prototype.getState=function(){return this.stateManager.getState()},i.prototype.canScanFile=function(){return this.stateManager.getState()===ut.NOT_STARTED},i.prototype.isScanning=function(){return this.stateManager.getState()!==ut.NOT_STARTED},i.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===ut.SCANNING},i.prototype.isPaused=function(){return this.stateManager.getState()===ut.PAUSED},i}(),U0=function(){function i(){}return i.create=function(){return new k0(new F0)},i}(),H0=function(){var i=function(o,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(f[h]=d[h])},i(o,l)};return function(o,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");i(o,l);function f(){this.constructor=o}o.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}}(),Gt=function(i){H0(o,i);function o(){return i!==null&&i.apply(this,arguments)||this}return o.DEFAULT_WIDTH=300,o.DEFAULT_WIDTH_OFFSET=2,o.FILE_SCAN_MIN_HEIGHT=300,o.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,o.MIN_QR_BOX_SIZE=50,o.SHADED_LEFT=1,o.SHADED_RIGHT=2,o.SHADED_TOP=3,o.SHADED_BOTTOM=4,o.SHADED_REGION_ELEMENT_ID="qr-shaded-region",o.VERBOSE=!1,o.BORDER_SHADER_DEFAULT_COLOR="#ffffff",o.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",o}(on),V0=function(){function i(o,l){this.logger=l,this.fps=Gt.SCAN_DEFAULT_FPS,o?(o.fps&&(this.fps=o.fps),this.disableFlip=o.disableFlip===!0,this.qrbox=o.qrbox,this.aspectRatio=o.aspectRatio,this.videoConstraints=o.videoConstraints):this.disableFlip=Gt.DEFAULT_DISABLE_FLIP}return i.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?gl.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},i.prototype.isShadedBoxEnabled=function(){return!mn(this.qrbox)},i.create=function(o,l){return new i(o,l)},i}(),ta=function(){function i(o,l){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(o))throw"HTML Element with id=".concat(o," not found");this.elementId=o,this.verbose=!1;var f;typeof l=="boolean"?this.verbose=l===!0:l&&(f=l,this.verbose=f.verbose===!0,f.experimentalFeatures),this.logger=new dl(this.verbose),this.qrcode=new b0(this.getSupportedFormats(l),this.getUseBarCodeDetectorIfSupported(f),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=U0.create()}return i.prototype.start=function(o,l,f,d){var h=this;if(!o)throw"cameraIdOrConfig is required";if(!f||typeof f!="function")throw"qrCodeSuccessCallback is required and should be a function.";var p;d?p=d:p=this.verbose?this.logger.log:function(){};var E=V0.create(l,this.logger);this.clearElement();var I=!1;E.videoConstraints&&(E.isMediaStreamConstraintsValid()?I=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var w=I,S=document.getElementById(this.elementId);S.clientWidth?S.clientWidth:Gt.DEFAULT_WIDTH,S.style.position="relative",this.shouldScan=!0,this.element=S;var b=this,z=this.stateManagerProxy.startTransition(ut.SCANNING);return new Promise(function(W,fe){var $=w?E.videoConstraints:b.createVideoConstraints(o);if(!$){z.cancel(),fe("videoConstraints should be defined");return}var me={};(!w||E.aspectRatio)&&(me.aspectRatio=E.aspectRatio);var Ae={onRenderSurfaceReady:function(ce,ne){b.setupUi(ce,ne,E),b.isScanning=!0,b.foreverScan(E,f,p)}};v0.failIfNotSupported().then(function(ce){ce.create($).then(function(ne){return ne.render(h.element,me,Ae).then(function(ee){b.renderedCamera=ee,z.execute(),W(null)}).catch(function(ee){z.cancel(),fe(ee)})}).catch(function(ne){z.cancel(),fe(Ir.errorGettingUserMedia(ne))})}).catch(function(ce){z.cancel(),fe(Ir.cameraStreamingNotSupported())})})},i.prototype.pause=function(o){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(ut.PAUSED),this.showPausedState(),(mn(o)||o!==!0)&&(o=!1),o&&this.renderedCamera&&this.renderedCamera.pause()},i.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var o=this,l=function(){o.stateManagerProxy.directTransition(ut.SCANNING),o.hidePausedState()};if(!this.renderedCamera.isPaused()){l();return}this.renderedCamera.resume(function(){l()})},i.prototype.getState=function(){return this.stateManagerProxy.getState()},i.prototype.stop=function(){var o=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var l=this.stateManagerProxy.startTransition(ut.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var f=function(){if(o.element){var h=document.getElementById(Gt.SHADED_REGION_ELEMENT_ID);h&&o.element.removeChild(h)}},d=this;return this.renderedCamera.close().then(function(){return d.renderedCamera=null,d.element&&(d.element.removeChild(d.canvasElement),d.canvasElement=null),f(),d.qrRegion&&(d.qrRegion=null),d.context&&(d.context=null),l.execute(),d.hidePausedState(),d.isScanning=!1,Promise.resolve()})},i.prototype.scanFile=function(o,l){return this.scanFileV2(o,l).then(function(f){return f.decodedText})},i.prototype.scanFileV2=function(o,l){var f=this;if(!o||!(o instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(mn(l)&&(l=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(d,h){f.possiblyCloseLastScanImageFile(),f.clearElement(),f.lastScanImageFile=URL.createObjectURL(o);var p=new Image;p.onload=function(){var E=p.width,I=p.height,w=document.getElementById(f.elementId),S=w.clientWidth?w.clientWidth:Gt.DEFAULT_WIDTH,b=Math.max(w.clientHeight?w.clientHeight:I,Gt.FILE_SCAN_MIN_HEIGHT),z=f.computeCanvasDrawConfig(E,I,S,b);if(l){var W=f.createCanvasElement(S,b,"qr-canvas-visible");W.style.display="inline-block",w.appendChild(W);var fe=W.getContext("2d");if(!fe)throw"Unable to get 2d context from canvas";fe.canvas.width=S,fe.canvas.height=b,fe.drawImage(p,0,0,E,I,z.x,z.y,z.width,z.height)}var $=Gt.FILE_SCAN_HIDDEN_CANVAS_PADDING,me=Math.max(p.width,z.width),Ae=Math.max(p.height,z.height),ce=me+2*$,ne=Ae+2*$,ee=f.createCanvasElement(ce,ne);w.appendChild(ee);var We=ee.getContext("2d");if(!We)throw"Unable to get 2d context from canvas";We.canvas.width=ce,We.canvas.height=ne,We.drawImage(p,0,0,E,I,$,$,me,Ae);try{f.qrcode.decodeRobustlyAsync(ee).then(function(Ne){d(Yo.createFromQrcodeResult(Ne))}).catch(h)}catch(Ne){h("QR code parse error, error = ".concat(Ne))}},p.onerror=h,p.onabort=h,p.onstalled=h,p.onsuspend=h,p.src=URL.createObjectURL(o)})},i.prototype.clear=function(){this.clearElement()},i.getCameras=function(){return P0.retrieve()},i.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},i.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},i.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},i.prototype.applyVideoConstraints=function(o){if(o){if(!gl.isMediaStreamConstraintsValid(o,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(o)},i.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},i.prototype.getSupportedFormats=function(o){var l=[ie.QR_CODE,ie.AZTEC,ie.CODABAR,ie.CODE_39,ie.CODE_93,ie.CODE_128,ie.DATA_MATRIX,ie.MAXICODE,ie.ITF,ie.EAN_13,ie.EAN_8,ie.PDF_417,ie.RSS_14,ie.RSS_EXPANDED,ie.UPC_A,ie.UPC_E,ie.UPC_EAN_EXTENSION];if(!o||typeof o=="boolean"||!o.formatsToSupport)return l;if(!Array.isArray(o.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(o.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var f=[],d=0,h=o.formatsToSupport;d<h.length;d++){var p=h[d];w0(p)?f.push(p):this.logger.warn("Invalid format: ".concat(p," passed in config, ignoring."))}if(f.length===0)throw"None of formatsToSupport match supported values.";return f},i.prototype.getUseBarCodeDetectorIfSupported=function(o){if(mn(o))return!0;if(!mn(o.useBarCodeDetectorIfSupported))return o.useBarCodeDetectorIfSupported!==!1;if(mn(o.experimentalFeatures))return!0;var l=o.experimentalFeatures;return mn(l.useBarCodeDetectorIfSupported)?!0:l.useBarCodeDetectorIfSupported!==!1},i.prototype.validateQrboxSize=function(o,l,f){var d=this,h=f.qrbox;this.validateQrboxConfig(h);var p=this.toQrdimensions(o,l,h),E=function(w){if(w<Gt.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Gt.MIN_QR_BOX_SIZE,"px.")},I=function(w){return w>o&&(d.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),w=o),w};E(p.width),E(p.height),p.width=I(p.width)},i.prototype.validateQrboxConfig=function(o){if(typeof o!="number"&&typeof o!="function"&&(o.width===void 0||o.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},i.prototype.toQrdimensions=function(o,l,f){if(typeof f=="number")return{width:f,height:f};if(typeof f=="function")try{return f(o,l)}catch(d){throw new Error("qrbox config was passed as a function but it failed with unknown error"+d)}return f},i.prototype.setupUi=function(o,l,f){f.isShadedBoxEnabled()&&this.validateQrboxSize(o,l,f);var d=mn(f.qrbox)?{width:o,height:l}:f.qrbox;this.validateQrboxConfig(d);var h=this.toQrdimensions(o,l,d);h.height>l&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var p=f.isShadedBoxEnabled()&&h.height<=l,E={x:0,y:0,width:o,height:l},I=p?this.getShadedRegionBounds(o,l,h):E,w=this.createCanvasElement(I.width,I.height),S={willReadFrequently:!0},b=w.getContext("2d",S);b.canvas.width=I.width,b.canvas.height=I.height,this.element.append(w),p&&this.possiblyInsertShadingElement(this.element,o,l,h),this.createScannerPausedUiElement(this.element),this.qrRegion=I,this.context=b,this.canvasElement=w},i.prototype.createScannerPausedUiElement=function(o){var l=document.createElement("div");l.innerText=Ir.scannerPaused(),l.style.display="none",l.style.position="absolute",l.style.top="0px",l.style.zIndex="1",l.style.background="rgba(9, 9, 9, 0.46)",l.style.color="#FFECEC",l.style.textAlign="center",l.style.width="100%",o.appendChild(l),this.scannerPausedUiElement=l},i.prototype.scanContext=function(o,l){var f=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(d){return o(d.text,Yo.createFromQrcodeResult(d)),f.possiblyUpdateShaders(!0),!0}).catch(function(d){f.possiblyUpdateShaders(!1);var h=Ir.codeParseError(d);return l(h,hl.createFrom(h)),!1})},i.prototype.foreverScan=function(o,l,f){var d=this;if(this.shouldScan&&this.renderedCamera){var h=this.renderedCamera.getSurface(),p=h.videoWidth/h.clientWidth,E=h.videoHeight/h.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var I=this.qrRegion.width*p,w=this.qrRegion.height*E,S=this.qrRegion.x*p,b=this.qrRegion.y*E;this.context.drawImage(h,S,b,I,w,0,0,this.qrRegion.width,this.qrRegion.height);var z=function(){d.foreverScanTimeout=setTimeout(function(){d.foreverScan(o,l,f)},d.getTimeoutFps(o.fps))};this.scanContext(l,f).then(function(W){!W&&o.disableFlip!==!0?(d.context.translate(d.context.canvas.width,0),d.context.scale(-1,1),d.scanContext(l,f).finally(function(){z()})):z()}).catch(function(W){d.logger.logError("Error happend while scanning context",W),z()})}},i.prototype.createVideoConstraints=function(o){if(typeof o=="string")return{deviceId:{exact:o}};if(typeof o=="object"){var l="facingMode",f="deviceId",d={user:!0,environment:!0},h="exact",p=function(fe){if(fe in d)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(fe,"'")},E=Object.keys(o);if(E.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(E.length," keys");var I=Object.keys(o)[0];if(I!==l&&I!==f)throw"Only '".concat(l,"' and '").concat(f,"' ")+" are supported for 'cameraIdOrConfig'";if(I===l){var w=o.facingMode;if(typeof w=="string"){if(p(w))return{facingMode:w}}else if(typeof w=="object")if(h in w){if(p(w["".concat(h)]))return{facingMode:{exact:w["".concat(h)]}}}else throw"'facingMode' should be string or object with"+" ".concat(h," as key.");else{var S=typeof w;throw"Invalid type of 'facingMode' = ".concat(S)}}else{var b=o.deviceId;if(typeof b=="string")return{deviceId:b};if(typeof b=="object"){if(h in b)return{deviceId:{exact:b["".concat(h)]}};throw"'deviceId' should be string or object with"+" ".concat(h," as key.")}else{var z=typeof b;throw"Invalid type of 'deviceId' = ".concat(z)}}}var W=typeof o;throw"Invalid type of 'cameraIdOrConfig' = ".concat(W)},i.prototype.computeCanvasDrawConfig=function(o,l,f,d){if(o<=f&&l<=d){var h=(f-o)/2,p=(d-l)/2;return{x:h,y:p,width:o,height:l}}else{var E=o,I=l;return o>f&&(l=f/o*l,o=f),l>d&&(o=d/l*o,l=d),this.logger.log("Image downsampled from "+"".concat(E,"X").concat(I)+" to ".concat(o,"X").concat(l,".")),this.computeCanvasDrawConfig(o,l,f,d)}},i.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var o=document.getElementById(this.elementId);o&&(o.innerHTML="")},i.prototype.possiblyUpdateShaders=function(o){this.qrMatch!==o&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(l){l.style.backgroundColor=o?Gt.BORDER_SHADER_MATCH_COLOR:Gt.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=o)},i.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},i.prototype.createCanvasElement=function(o,l,f){var d=o,h=l,p=document.createElement("canvas");return p.style.width="".concat(d,"px"),p.style.height="".concat(h,"px"),p.style.display="none",p.id=mn(f)?"qr-canvas":f,p},i.prototype.getShadedRegionBounds=function(o,l,f){if(f.width>o||f.height>l)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(o-f.width)/2,y:(l-f.height)/2,width:f.width,height:f.height}},i.prototype.possiblyInsertShadingElement=function(o,l,f,d){if(!(l-d.width<1||f-d.height<1)){var h=document.createElement("div");h.style.position="absolute";var p=(l-d.width)/2,E=(f-d.height)/2;if(h.style.borderLeft="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderRight="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderTop="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderBottom="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),h.style.boxSizing="border-box",h.style.top="0px",h.style.bottom="0px",h.style.left="0px",h.style.right="0px",h.id="".concat(Gt.SHADED_REGION_ELEMENT_ID),l-d.width<11||f-d.height<11)this.hasBorderShaders=!1;else{var I=5,w=40;this.insertShaderBorders(h,w,I,-I,null,0,!0),this.insertShaderBorders(h,w,I,-I,null,0,!1),this.insertShaderBorders(h,w,I,null,-I,0,!0),this.insertShaderBorders(h,w,I,null,-I,0,!1),this.insertShaderBorders(h,I,w+I,-I,null,-I,!0),this.insertShaderBorders(h,I,w+I,null,-I,-I,!0),this.insertShaderBorders(h,I,w+I,-I,null,-I,!1),this.insertShaderBorders(h,I,w+I,null,-I,-I,!1),this.hasBorderShaders=!0}o.append(h)}},i.prototype.insertShaderBorders=function(o,l,f,d,h,p,E){var I=document.createElement("div");I.style.position="absolute",I.style.backgroundColor=Gt.BORDER_SHADER_DEFAULT_COLOR,I.style.width="".concat(l,"px"),I.style.height="".concat(f,"px"),d!==null&&(I.style.top="".concat(d,"px")),h!==null&&(I.style.bottom="".concat(h,"px")),E?I.style.left="".concat(p,"px"):I.style.right="".concat(p,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(I),o.appendChild(I)},i.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},i.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},i.prototype.getTimeoutFps=function(o){return 1e3/o},i}(),Ys="data:image/svg+xml;base64,",j0=Ys+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",z0=Ys+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",na=Ys+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",W0="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",ra=function(){function i(){}return i.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},i}(),G0=function(){function i(){this.data=ra.createDefault();var o=localStorage.getItem(i.LOCAL_STORAGE_KEY);o?this.data=JSON.parse(o):this.reset()}return i.prototype.hasCameraPermissions=function(){return this.data.hasPermission},i.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},i.prototype.setHasPermission=function(o){this.data.hasPermission=o,this.flush()},i.prototype.setLastUsedCameraId=function(o){this.data.lastUsedCameraId=o,this.flush()},i.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},i.prototype.reset=function(){this.data=ra.createDefault(),this.flush()},i.prototype.flush=function(){localStorage.setItem(i.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},i.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",i}(),Y0=function(){function i(){this.infoDiv=document.createElement("div")}return i.prototype.renderInto=function(o){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Xo.poweredBy();var l=document.createElement("a");l.innerText="ScanApp",l.href="https://scanapp.org",l.target="new",l.style.color="white",this.infoDiv.appendChild(l);var f=document.createElement("br"),d=document.createElement("br");this.infoDiv.appendChild(f),this.infoDiv.appendChild(d);var h=document.createElement("a");h.innerText=Xo.reportIssues(),h.href="https://github.com/mebjas/html5-qrcode/issues",h.target="new",h.style.color="white",this.infoDiv.appendChild(h),o.appendChild(this.infoDiv)},i.prototype.show=function(){this.infoDiv.style.display="block"},i.prototype.hide=function(){this.infoDiv.style.display="none"},i}(),X0=function(){function i(o,l){this.isShowingInfoIcon=!0,this.onTapIn=o,this.onTapOut=l,this.infoIcon=document.createElement("img")}return i.prototype.renderInto=function(o){var l=this;this.infoIcon.alt="Info icon",this.infoIcon.src=na,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(f){return l.onHoverIn()},this.infoIcon.onmouseout=function(f){return l.onHoverOut()},this.infoIcon.onclick=function(f){return l.onClick()},o.appendChild(this.infoIcon)},i.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},i.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},i.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=W0,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=na,this.infoIcon.style.opacity="0.6")},i}(),Z0=function(){function i(){var o=this;this.infoDiv=new Y0,this.infoIcon=new X0(function(){o.infoDiv.show()},function(){o.infoDiv.hide()})}return i.prototype.renderInto=function(o){this.infoDiv.renderInto(o),this.infoIcon.renderInto(o)},i}(),K0=function(i,o,l,f){function d(h){return h instanceof l?h:new l(function(p){p(h)})}return new(l||(l=Promise))(function(h,p){function E(S){try{w(f.next(S))}catch(b){p(b)}}function I(S){try{w(f.throw(S))}catch(b){p(b)}}function w(S){S.done?h(S.value):d(S.value).then(E,I)}w((f=f.apply(i,o||[])).next())})},Q0=function(i,o){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},f,d,h,p;return p={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function E(w){return function(S){return I([w,S])}}function I(w){if(f)throw new TypeError("Generator is already executing.");for(;p&&(p=0,w[0]&&(l=0)),l;)try{if(f=1,d&&(h=w[0]&2?d.return:w[0]?d.throw||((h=d.return)&&h.call(d),0):d.next)&&!(h=h.call(d,w[1])).done)return h;switch(d=0,h&&(w=[w[0]&2,h.value]),w[0]){case 0:case 1:h=w;break;case 4:return l.label++,{value:w[1],done:!1};case 5:l.label++,d=w[1],w=[0];continue;case 7:w=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(w[0]===6||w[0]===2)){l=0;continue}if(w[0]===3&&(!h||w[1]>h[0]&&w[1]<h[3])){l.label=w[1];break}if(w[0]===6&&l.label<h[1]){l.label=h[1],h=w;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(w);break}h[2]&&l.ops.pop(),l.trys.pop();continue}w=o.call(i,l)}catch(S){w=[6,S],d=0}finally{f=h=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},ia=function(){function i(){}return i.hasPermissions=function(){return K0(this,void 0,void 0,function(){var o,l,f,d;return Q0(this,function(h){switch(h.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(o=h.sent(),l=0,f=o;l<f.length;l++)if(d=f[l],d.kind==="videoinput"&&d.label)return[2,!0];return[2,!1]}})})},i}(),Vn=function(){function i(o){this.supportedScanTypes=this.validateAndReturnScanTypes(o)}return i.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},i.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},i.prototype.isCameraScanRequired=function(){for(var o=0,l=this.supportedScanTypes;o<l.length;o++){var f=l[o];if(i.isCameraScanType(f))return!0}return!1},i.isCameraScanType=function(o){return o===Gn.SCAN_TYPE_CAMERA},i.isFileScanType=function(o){return o===Gn.SCAN_TYPE_FILE},i.prototype.validateAndReturnScanTypes=function(o){if(!o||o.length===0)return on.DEFAULT_SUPPORTED_SCAN_TYPE;var l=on.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(o.length>l)throw"Max ".concat(l," values expected for ")+"supportedScanTypes";for(var f=0,d=o;f<d.length;f++){var h=d[f];if(!on.DEFAULT_SUPPORTED_SCAN_TYPE.includes(h))throw"Unsupported scan type ".concat(h)}return o},i}(),Zt=function(){function i(){}return i.ALL_ELEMENT_CLASS="html5-qrcode-element",i.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",i.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",i.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",i.TORCH_BUTTON_ID="html5-qrcode-button-torch",i.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",i.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",i.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",i.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",i.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",i.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",i}(),Mn=function(){function i(){}return i.createElement=function(o,l){var f=document.createElement(o);return f.id=l,f.classList.add(Zt.ALL_ELEMENT_CLASS),o==="button"&&f.setAttribute("type","button"),f},i}(),pl=function(i,o,l,f){function d(h){return h instanceof l?h:new l(function(p){p(h)})}return new(l||(l=Promise))(function(h,p){function E(S){try{w(f.next(S))}catch(b){p(b)}}function I(S){try{w(f.throw(S))}catch(b){p(b)}}function w(S){S.done?h(S.value):d(S.value).then(E,I)}w((f=f.apply(i,o||[])).next())})},wl=function(i,o){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},f,d,h,p;return p={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function E(w){return function(S){return I([w,S])}}function I(w){if(f)throw new TypeError("Generator is already executing.");for(;p&&(p=0,w[0]&&(l=0)),l;)try{if(f=1,d&&(h=w[0]&2?d.return:w[0]?d.throw||((h=d.return)&&h.call(d),0):d.next)&&!(h=h.call(d,w[1])).done)return h;switch(d=0,h&&(w=[w[0]&2,h.value]),w[0]){case 0:case 1:h=w;break;case 4:return l.label++,{value:w[1],done:!1};case 5:l.label++,d=w[1],w=[0];continue;case 7:w=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(w[0]===6||w[0]===2)){l=0;continue}if(w[0]===3&&(!h||w[1]>h[0]&&w[1]<h[3])){l.label=w[1];break}if(w[0]===6&&l.label<h[1]){l.label=h[1],h=w;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(w);break}h[2]&&l.ops.pop(),l.trys.pop();continue}w=o.call(i,l)}catch(S){w=[6,S],d=0}finally{f=h=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},sa=function(){function i(o,l,f){this.isTorchOn=!1,this.torchCapability=o,this.buttonController=l,this.onTorchActionFailureCallback=f}return i.prototype.isTorchEnabled=function(){return this.isTorchOn},i.prototype.flipState=function(){return pl(this,void 0,void 0,function(){var o,l;return wl(this,function(f){switch(f.label){case 0:this.buttonController.disable(),o=!this.isTorchOn,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,this.torchCapability.apply(o)];case 2:return f.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),o),[3,4];case 3:return l=f.sent(),this.propagateFailure(o,l),this.buttonController.enable(),[3,4];case 4:return[2]}})})},i.prototype.updateUiBasedOnLatestSettings=function(o,l){o===l?(this.buttonController.setText(l?ze.torchOffButton():ze.torchOnButton()),this.isTorchOn=l):this.propagateFailure(l),this.buttonController.enable()},i.prototype.propagateFailure=function(o,l){var f=o?ze.torchOnFailedMessage():ze.torchOffFailedMessage();l&&(f+="; Error = "+l),this.onTorchActionFailureCallback(f)},i.prototype.reset=function(){this.isTorchOn=!1},i}(),q0=function(){function i(o,l){this.onTorchActionFailureCallback=l,this.torchButton=Mn.createElement("button",Zt.TORCH_BUTTON_ID),this.torchController=new sa(o,this,l)}return i.prototype.render=function(o,l){var f=this;this.torchButton.innerText=ze.torchOnButton(),this.torchButton.style.display=l.display,this.torchButton.style.marginLeft=l.marginLeft;var d=this;this.torchButton.addEventListener("click",function(h){return pl(f,void 0,void 0,function(){return wl(this,function(p){switch(p.label){case 0:return[4,d.torchController.flipState()];case 1:return p.sent(),d.torchController.isTorchEnabled()?(d.torchButton.classList.remove(Zt.TORCH_BUTTON_CLASS_TORCH_OFF),d.torchButton.classList.add(Zt.TORCH_BUTTON_CLASS_TORCH_ON)):(d.torchButton.classList.remove(Zt.TORCH_BUTTON_CLASS_TORCH_ON),d.torchButton.classList.add(Zt.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),o.appendChild(this.torchButton)},i.prototype.updateTorchCapability=function(o){this.torchController=new sa(o,this,this.onTorchActionFailureCallback)},i.prototype.getTorchButton=function(){return this.torchButton},i.prototype.hide=function(){this.torchButton.style.display="none"},i.prototype.show=function(){this.torchButton.style.display="inline-block"},i.prototype.disable=function(){this.torchButton.disabled=!0},i.prototype.enable=function(){this.torchButton.disabled=!1},i.prototype.setText=function(o){this.torchButton.innerText=o},i.prototype.reset=function(){this.torchButton.innerText=ze.torchOnButton(),this.torchController.reset()},i.create=function(o,l,f,d){var h=new i(l,d);return h.render(o,f),h},i}(),J0=function(){function i(o,l,f){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=l?"block":"none",o.appendChild(this.fileBasedScanRegion);var d=document.createElement("label");d.setAttribute("for",this.getFileScanInputId()),d.style.display="inline-block",this.fileBasedScanRegion.appendChild(d),this.fileSelectionButton=Mn.createElement("button",Zt.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(E){d.click()}),d.append(this.fileSelectionButton),this.fileScanInput=Mn.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",d.appendChild(this.fileScanInput);var h=this;this.fileScanInput.addEventListener("change",function(E){if(!(E==null||E.target==null)){var I=E.target;if(!(I.files&&I.files.length===0)){var w=I.files,S=w[0],b=S.name;h.setImageNameToButton(b),f(S)}}});var p=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(p),this.fileBasedScanRegion.addEventListener("dragenter",function(E){h.fileBasedScanRegion.style.border=h.fileBasedScanRegionActiveBorder(),E.stopPropagation(),E.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(E){h.fileBasedScanRegion.style.border=h.fileBasedScanRegionDefaultBorder(),E.stopPropagation(),E.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(E){h.fileBasedScanRegion.style.border=h.fileBasedScanRegionActiveBorder(),E.stopPropagation(),E.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(E){E.stopPropagation(),E.preventDefault(),h.fileBasedScanRegion.style.border=h.fileBasedScanRegionDefaultBorder();var I=E.dataTransfer;if(I){var w=I.files;if(!w||w.length===0)return;for(var S=!1,b=0;b<w.length;++b){var z=w.item(b);if(z){var W=/image.*/;if(z.type.match(W)){S=!0;var fe=z.name;h.setImageNameToButton(fe),f(z),p.innerText=ze.dragAndDropMessage();break}}}S||(p.innerText=ze.dragAndDropMessageOnlyImages())}})}return i.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},i.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},i.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},i.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},i.prototype.createFileBasedScanRegion=function(){var o=document.createElement("div");return o.style.textAlign="center",o.style.margin="auto",o.style.width="80%",o.style.maxWidth="600px",o.style.border=this.fileBasedScanRegionDefaultBorder(),o.style.padding="10px",o.style.marginBottom="10px",o},i.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},i.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},i.prototype.createDragAndDropMessage=function(){var o=document.createElement("div");return o.innerText=ze.dragAndDropMessage(),o.style.fontWeight="400",o},i.prototype.setImageNameToButton=function(o){var l=20;if(o.length>l){var f=o.substring(0,8),d=o.length,h=o.substring(d-8,d);o="".concat(f,"....").concat(h)}var p=ze.fileSelectionChooseAnother()+" - "+o;this.fileSelectionButton.innerText=p},i.prototype.setInitialValueToButton=function(){var o=ze.fileSelectionChooseImage()+" - "+ze.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=o},i.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},i.create=function(o,l,f){var d=new i(o,l,f);return d},i}(),$0=function(){function i(o){this.selectElement=Mn.createElement("select",Zt.CAMERA_SELECTION_SELECT_ID),this.cameras=o,this.options=[]}return i.prototype.render=function(o){var l=document.createElement("span");l.style.marginRight="10px";var f=this.cameras.length;if(f===0)throw new Error("No cameras found");if(f===1)l.style.display="none";else{var d=ze.selectCamera();l.innerText="".concat(d," (").concat(this.cameras.length,")  ")}for(var h=1,p=0,E=this.cameras;p<E.length;p++){var I=E[p],w=I.id,S=I.label==null?w:I.label;(!S||S==="")&&(S=[ze.anonymousCameraPrefix(),h++].join(" "));var b=document.createElement("option");b.value=w,b.innerText=S,this.options.push(b),this.selectElement.appendChild(b)}l.appendChild(this.selectElement),o.appendChild(l)},i.prototype.disable=function(){this.selectElement.disabled=!0},i.prototype.isDisabled=function(){return this.selectElement.disabled===!0},i.prototype.enable=function(){this.selectElement.disabled=!1},i.prototype.getValue=function(){return this.selectElement.value},i.prototype.hasValue=function(o){for(var l=0,f=this.options;l<f.length;l++){var d=f[l];if(d.value===o)return!0}return!1},i.prototype.setValue=function(o){if(!this.hasValue(o))throw new Error("".concat(o," is not present in the camera list."));this.selectElement.value=o},i.prototype.hasSingleItem=function(){return this.cameras.length===1},i.prototype.numCameras=function(){return this.cameras.length},i.create=function(o,l){var f=new i(l);return f.render(o),f},i}(),eu=function(){function i(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Mn.createElement("input",Zt.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return i.prototype.render=function(o,l){this.zoomElementContainer.style.display=l?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",o.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var f=ze.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(f),this.rangeText.style.marginRight="10px";var d=this;this.rangeInput.addEventListener("input",function(){return d.onValueChange()}),this.rangeInput.addEventListener("change",function(){return d.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},i.prototype.onValueChange=function(){var o=ze.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(o),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},i.prototype.setValues=function(o,l,f,d){this.rangeInput.min=o.toString(),this.rangeInput.max=l.toString(),this.rangeInput.step=d.toString(),this.rangeInput.value=f.toString(),this.onValueChange()},i.prototype.show=function(){this.zoomElementContainer.style.display="block"},i.prototype.hide=function(){this.zoomElementContainer.style.display="none"},i.prototype.setOnCameraZoomValueChangeCallback=function(o){this.onChangeCallback=o},i.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},i.create=function(o,l){var f=new i;return f.render(o,l),f},i}(),Yt;(function(i){i[i.STATUS_DEFAULT=0]="STATUS_DEFAULT",i[i.STATUS_SUCCESS=1]="STATUS_SUCCESS",i[i.STATUS_WARNING=2]="STATUS_WARNING",i[i.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Yt||(Yt={}));function tu(i){return{fps:i.fps,qrbox:i.qrbox,aspectRatio:i.aspectRatio,disableFlip:i.disableFlip,videoConstraints:i.videoConstraints}}function nu(i,o){return{formatsToSupport:i.formatsToSupport,useBarCodeDetectorIfSupported:i.useBarCodeDetectorIfSupported,experimentalFeatures:i.experimentalFeatures,verbose:o}}var ru=function(){function i(o,l,f){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=o,this.config=this.createConfig(l),this.verbose=f===!0,!document.getElementById(o))throw"HTML Element with id=".concat(o," not found");this.scanTypeSelector=new Vn(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new dl(this.verbose),this.persistedDataManager=new G0,l.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return i.prototype.render=function(o,l){var f=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(h,p){if(o)o(h,p);else{if(f.lastMatchFound===h)return;f.lastMatchFound=h,f.setHeaderMessage(ze.lastMatch(h),Yt.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(h,p){l&&l(h,p)};var d=document.getElementById(this.elementId);if(!d)throw"HTML Element with id=".concat(this.elementId," not found");d.innerHTML="",this.createBasicLayout(d),this.html5Qrcode=new ta(this.getScanRegionId(),nu(this.config,this.verbose))},i.prototype.pause=function(o){(mn(o)||o!==!0)&&(o=!1),this.getHtml5QrcodeOrFail().pause(o)},i.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},i.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},i.prototype.clear=function(){var o=this,l=function(){var f=document.getElementById(o.elementId);f&&(f.innerHTML="",o.resetBasicLayout(f))};return this.html5Qrcode?new Promise(function(f,d){if(!o.html5Qrcode){f();return}o.html5Qrcode.isScanning?o.html5Qrcode.stop().then(function(h){if(!o.html5Qrcode){f();return}o.html5Qrcode.clear(),l(),f()}).catch(function(h){o.verbose&&o.logger.logError("Unable to stop qrcode scanner",h),d(h)}):(o.html5Qrcode.clear(),l(),f())}):Promise.resolve()},i.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},i.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},i.prototype.applyVideoConstraints=function(o){return this.getHtml5QrcodeOrFail().applyVideoConstraints(o)},i.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},i.prototype.createConfig=function(o){return o?(o.fps||(o.fps=on.SCAN_DEFAULT_FPS),o.rememberLastUsedCamera!==!on.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(o.rememberLastUsedCamera=on.DEFAULT_REMEMBER_LAST_CAMERA_USED),o.supportedScanTypes||(o.supportedScanTypes=on.DEFAULT_SUPPORTED_SCAN_TYPE),o):{fps:on.SCAN_DEFAULT_FPS,rememberLastUsedCamera:on.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:on.DEFAULT_SUPPORTED_SCAN_TYPE}},i.prototype.createBasicLayout=function(o){o.style.position="relative",o.style.padding="0px",o.style.border="1px solid silver",this.createHeader(o);var l=document.createElement("div"),f=this.getScanRegionId();l.id=f,l.style.width="100%",l.style.minHeight="100px",l.style.textAlign="center",o.appendChild(l),Vn.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var d=document.createElement("div"),h=this.getDashboardId();d.id=h,d.style.width="100%",o.appendChild(d),this.setupInitialDashboard(d)},i.prototype.resetBasicLayout=function(o){o.style.border="none"},i.prototype.setupInitialDashboard=function(o){this.createSection(o),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},i.prototype.createHeader=function(o){var l=document.createElement("div");l.style.textAlign="left",l.style.margin="0px",o.appendChild(l);var f=new Z0;f.renderInto(l);var d=document.createElement("div");d.id=this.getHeaderMessageContainerId(),d.style.display="none",d.style.textAlign="center",d.style.fontSize="14px",d.style.padding="2px 10px",d.style.margin="4px",d.style.borderTop="1px solid #f6f6f6",l.appendChild(d)},i.prototype.createSection=function(o){var l=document.createElement("div");l.id=this.getDashboardSectionId(),l.style.width="100%",l.style.padding="10px 0px 10px 0px",l.style.textAlign="left",o.appendChild(l)},i.prototype.createCameraListUi=function(o,l,f){var d=this;d.showHideScanTypeSwapLink(!1),d.setHeaderMessage(ze.cameraPermissionRequesting());var h=function(){f||d.createPermissionButton(o,l)};ta.getCameras().then(function(p){d.persistedDataManager.setHasPermission(!0),d.showHideScanTypeSwapLink(!0),d.resetHeaderMessage(),p&&p.length>0?(o.removeChild(l),d.renderCameraSelection(p)):(d.setHeaderMessage(ze.noCameraFound(),Yt.STATUS_WARNING),h())}).catch(function(p){d.persistedDataManager.setHasPermission(!1),f?f.disabled=!1:h(),d.setHeaderMessage(p,Yt.STATUS_WARNING),d.showHideScanTypeSwapLink(!0)})},i.prototype.createPermissionButton=function(o,l){var f=this,d=Mn.createElement("button",this.getCameraPermissionButtonId());d.innerText=ze.cameraPermissionTitle(),d.addEventListener("click",function(){d.disabled=!0,f.createCameraListUi(o,l,d)}),l.appendChild(d)},i.prototype.createPermissionsUi=function(o,l){var f=this;if(Vn.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){ia.hasPermissions().then(function(d){d?f.createCameraListUi(o,l):(f.persistedDataManager.setHasPermission(!1),f.createPermissionButton(o,l))}).catch(function(d){f.persistedDataManager.setHasPermission(!1),f.createPermissionButton(o,l)});return}this.createPermissionButton(o,l)},i.prototype.createSectionControlPanel=function(){var o=document.getElementById(this.getDashboardSectionId()),l=document.createElement("div");o.appendChild(l);var f=document.createElement("div");f.id=this.getDashboardSectionCameraScanRegionId(),f.style.display=Vn.isCameraScanType(this.currentScanType)?"block":"none",l.appendChild(f);var d=document.createElement("div");d.style.textAlign="center",f.appendChild(d),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(f,d),this.renderFileScanUi(l)},i.prototype.renderFileScanUi=function(o){var l=Vn.isFileScanType(this.currentScanType),f=this,d=function(h){if(!f.html5Qrcode)throw"html5Qrcode not defined";Vn.isFileScanType(f.currentScanType)&&(f.setHeaderMessage(ze.loadingImage()),f.html5Qrcode.scanFileV2(h,!0).then(function(p){f.resetHeaderMessage(),f.qrCodeSuccessCallback(p.decodedText,p)}).catch(function(p){f.setHeaderMessage(p,Yt.STATUS_WARNING),f.qrCodeErrorCallback(p,hl.createFrom(p))}))};this.fileSelectionUi=J0.create(o,l,d)},i.prototype.renderCameraSelection=function(o){var l=this,f=this,d=document.getElementById(this.getDashboardSectionCameraScanRegionId());d.style.textAlign="center";var h=eu.create(d,!1),p=function($){var me=$.zoomFeature();if(me.isSupported()){h.setOnCameraZoomValueChangeCallback(function(ce){me.apply(ce)});var Ae=1;l.config.defaultZoomValueIfSupported&&(Ae=l.config.defaultZoomValueIfSupported),Ae=A0(Ae,me.min(),me.max()),h.setValues(me.min(),me.max(),Ae,me.step()),h.show()}},E=$0.create(d,o),I=document.createElement("span"),w=Mn.createElement("button",Zt.CAMERA_START_BUTTON_ID);w.innerText=ze.scanButtonStartScanningText(),I.appendChild(w);var S=Mn.createElement("button",Zt.CAMERA_STOP_BUTTON_ID);S.innerText=ze.scanButtonStopScanningText(),S.style.display="none",S.disabled=!0,I.appendChild(S);var b,z=function($){if(!$.torchFeature().isSupported()){b&&b.hide();return}b?b.updateTorchCapability($.torchFeature()):b=q0.create(I,$.torchFeature(),{display:"none",marginLeft:"5px"},function(me){f.setHeaderMessage(me,Yt.STATUS_WARNING)}),b.show()};d.appendChild(I);var W=function($){$||(w.style.display="none"),w.innerText=ze.scanButtonStartScanningText(),w.style.opacity="1",w.disabled=!1,$&&(w.style.display="inline-block")};if(w.addEventListener("click",function($){w.innerText=ze.scanButtonScanningStarting(),E.disable(),w.disabled=!0,w.style.opacity="0.5",l.scanTypeSelector.hasMoreThanOneScanType()&&f.showHideScanTypeSwapLink(!1),f.resetHeaderMessage();var me=E.getValue();f.persistedDataManager.setLastUsedCameraId(me),f.html5Qrcode.start(me,tu(f.config),f.qrCodeSuccessCallback,f.qrCodeErrorCallback).then(function(Ae){S.disabled=!1,S.style.display="inline-block",W(!1);var ce=f.html5Qrcode.getRunningTrackCameraCapabilities();l.config.showTorchButtonIfSupported===!0&&z(ce),l.config.showZoomSliderIfSupported===!0&&p(ce)}).catch(function(Ae){f.showHideScanTypeSwapLink(!0),E.enable(),W(!0),f.setHeaderMessage(Ae,Yt.STATUS_WARNING)})}),E.hasSingleItem()&&w.click(),S.addEventListener("click",function($){if(!f.html5Qrcode)throw"html5Qrcode not defined";S.disabled=!0,f.html5Qrcode.stop().then(function(me){l.scanTypeSelector.hasMoreThanOneScanType()&&f.showHideScanTypeSwapLink(!0),E.enable(),w.disabled=!1,S.style.display="none",w.style.display="inline-block",b&&(b.reset(),b.hide()),h.removeOnCameraZoomValueChangeCallback(),h.hide(),f.insertCameraScanImageToScanRegion()}).catch(function(me){S.disabled=!1,f.setHeaderMessage(me,Yt.STATUS_WARNING)})}),f.persistedDataManager.getLastUsedCameraId()){var fe=f.persistedDataManager.getLastUsedCameraId();E.hasValue(fe)?(E.setValue(fe),w.click()):f.persistedDataManager.resetLastUsedCameraId()}},i.prototype.createSectionSwap=function(){var o=this,l=ze.textIfCameraScanSelected(),f=ze.textIfFileScanSelected(),d=document.getElementById(this.getDashboardSectionId()),h=document.createElement("div");h.style.textAlign="center";var p=Mn.createElement("span",this.getDashboardSectionSwapLinkId());p.style.textDecoration="underline",p.style.cursor="pointer",p.innerText=Vn.isCameraScanType(this.currentScanType)?l:f,p.addEventListener("click",function(){if(!o.sectionSwapAllowed){o.verbose&&o.logger.logError("Section swap called when not allowed");return}o.resetHeaderMessage(),o.fileSelectionUi.resetValue(),o.sectionSwapAllowed=!1,Vn.isCameraScanType(o.currentScanType)?(o.clearScanRegion(),o.getCameraScanRegion().style.display="none",o.fileSelectionUi.show(),p.innerText=f,o.currentScanType=Gn.SCAN_TYPE_FILE,o.insertFileScanImageToScanRegion()):(o.clearScanRegion(),o.getCameraScanRegion().style.display="block",o.fileSelectionUi.hide(),p.innerText=l,o.currentScanType=Gn.SCAN_TYPE_CAMERA,o.insertCameraScanImageToScanRegion(),o.startCameraScanIfPermissionExistsOnSwap()),o.sectionSwapAllowed=!0}),h.appendChild(p),d.appendChild(h)},i.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var o=this,l=this;if(this.persistedDataManager.hasCameraPermissions()){ia.hasPermissions().then(function(f){if(f){var d=document.getElementById(l.getCameraPermissionButtonId());if(!d)throw o.logger.logError("Permission button not found, fail;"),"Permission button not found";d.click()}else l.persistedDataManager.setHasPermission(!1)}).catch(function(f){l.persistedDataManager.setHasPermission(!1)});return}},i.prototype.resetHeaderMessage=function(){var o=document.getElementById(this.getHeaderMessageContainerId());o.style.display="none"},i.prototype.setHeaderMessage=function(o,l){l||(l=Yt.STATUS_DEFAULT);var f=this.getHeaderMessageDiv();switch(f.innerText=o,f.style.display="block",l){case Yt.STATUS_SUCCESS:f.style.background="rgba(106, 175, 80, 0.26)",f.style.color="#477735";break;case Yt.STATUS_WARNING:f.style.background="rgba(203, 36, 49, 0.14)",f.style.color="#cb2431";break;case Yt.STATUS_DEFAULT:default:f.style.background="rgba(0, 0, 0, 0)",f.style.color="rgb(17, 17, 17)";break}},i.prototype.showHideScanTypeSwapLink=function(o){this.scanTypeSelector.hasMoreThanOneScanType()&&(o!==!0&&(o=!1),this.sectionSwapAllowed=o,this.getDashboardSectionSwapLink().style.display=o?"inline-block":"none")},i.prototype.insertCameraScanImageToScanRegion=function(){var o=this,l=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){l.innerHTML="<br>",l.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(f){l.innerHTML="<br>",l.appendChild(o.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=j0,this.cameraScanImage.alt=ze.cameraScanAltText()},i.prototype.insertFileScanImageToScanRegion=function(){var o=this,l=document.getElementById(this.getScanRegionId());if(this.fileScanImage){l.innerHTML="<br>",l.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(f){l.innerHTML="<br>",l.appendChild(o.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=z0,this.fileScanImage.alt=ze.fileScanAltText()},i.prototype.clearScanRegion=function(){var o=document.getElementById(this.getScanRegionId());o.innerHTML=""},i.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},i.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},i.prototype.getDashboardSectionSwapLinkId=function(){return Zt.SCAN_TYPE_CHANGE_ANCHOR_ID},i.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},i.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},i.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},i.prototype.getCameraPermissionButtonId=function(){return Zt.CAMERA_PERMISSION_BUTTON_ID},i.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},i.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},i.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},i}();const iu=(i,o)=>{const l=i.__vccOpts||i;for(const[f,d]of o)l[f]=d;return l},su={name:"App",data(){return{trackedCodes:[],scannedCode:"",newCode:"",scanHistory:[],audio:new Audio("/beep.mp3"),scanTimeout:null,lastScanResult:null,scanner:null,isScanning:!1}},mounted(){this.$refs.scannerInput.focus(),this.$refs.scannerInput.addEventListener("keydown",this.handleKeyDown)},beforeUnmount(){this.$refs.scannerInput.removeEventListener("keydown",this.handleKeyDown),this.scanner&&this.scanner.clear()},methods:{handleKeyDown(i){i.key==="Enter"&&(i.preventDefault(),this.checkCode())},startScanner(){this.scanner&&this.scanner.clear(),this.scanner=new ru("qr-reader",{fps:10,qrbox:{width:250,height:250},aspectRatio:1}),this.scanner.render(i=>{this.scannedCode=i,this.checkCode()},i=>{console.warn(`QR Code scanning failed: ${i}`)}),this.isScanning=!0},stopScanner(){this.scanner&&(this.scanner.clear(),this.scanner=null),this.isScanning=!1},checkCode(){if(!this.scannedCode)return;const i=this.trackedCodes.includes(this.scannedCode);this.scanHistory.unshift({code:this.scannedCode,timestamp:new Date().toLocaleTimeString(),matched:i}),this.lastScanResult={matched:i,message:i?"Mã trùng khớp!":"Mã không trùng khớp!"},new Audio(new URL(i?"./assets/correct.wav":"./assets/wrong.mp3",import.meta.url).href).play(),this.scannedCode="",this.isScanning||this.$refs.scannerInput.focus(),setTimeout(()=>{this.lastScanResult=null},3e3)},addCode(){this.newCode&&!this.trackedCodes.includes(this.newCode)&&(this.trackedCodes.push(this.newCode),this.newCode="")}}},ou={class:"container"},au={class:"main-content"},lu={class:"scanner-section"},cu={class:"scanner-controls"},uu={class:"input-section"},fu={class:"lists-section"},hu={class:"tracked-codes card"},du={class:"card-header"},gu={class:"add-code"},xu={class:"code-list"},pu={class:"scanned-history card"},wu={class:"history-list"},Au={class:"code"},Cu={class:"timestamp"};function mu(i,o,l,f,d,h){return Tn(),Hn("div",ou,[o[14]||(o[14]=Pe("header",{class:"app-header"},[Pe("h1",null,"QR Code Scanner")],-1)),Pe("main",au,[Pe("div",lu,[o[9]||(o[9]=Pe("div",{id:"qr-reader"},null,-1)),Pe("div",cu,[d.isScanning?(Tn(),Hn("button",{key:1,onClick:o[1]||(o[1]=(...p)=>h.stopScanner&&h.stopScanner(...p)),class:"scanner-btn stop"},o[8]||(o[8]=[Pe("i",{class:"fas fa-stop"},null,-1),sr(" Tắt Camera ")]))):(Tn(),Hn("button",{key:0,onClick:o[0]||(o[0]=(...p)=>h.startScanner&&h.startScanner(...p)),class:"scanner-btn"},o[7]||(o[7]=[Pe("i",{class:"fas fa-camera"},null,-1),sr(" Bật Camera ")])))])]),Pe("div",uu,[xo(Pe("input",{type:"text","onUpdate:modelValue":o[2]||(o[2]=p=>d.scannedCode=p),onKeyup:o[3]||(o[3]=jo((...p)=>h.checkCode&&h.checkCode(...p),["enter"])),placeholder:"Quét mã vạch hoặc nhập mã...",ref:"scannerInput"},null,544),[[Vo,d.scannedCode]]),d.lastScanResult?(Tn(),Hn("div",{key:0,class:or(["scan-result",d.lastScanResult.matched?"matched":"not-matched"])},[Pe("i",{class:or(d.lastScanResult.matched?"fas fa-check-circle":"fas fa-times-circle")},null,2),sr(" "+jr(d.lastScanResult.message),1)],2)):v1("",!0)]),Pe("div",fu,[Pe("div",hu,[Pe("div",du,[o[11]||(o[11]=Pe("h2",null,[Pe("i",{class:"fas fa-list"}),sr(" Danh sách mã cần theo dõi")],-1)),Pe("div",gu,[xo(Pe("input",{type:"text","onUpdate:modelValue":o[4]||(o[4]=p=>d.newCode=p),onKeyup:o[5]||(o[5]=jo((...p)=>h.addCode&&h.addCode(...p),["enter"])),placeholder:"Thêm mã mới..."},null,544),[[Vo,d.newCode]]),Pe("button",{onClick:o[6]||(o[6]=(...p)=>h.addCode&&h.addCode(...p)),class:"add-btn"},o[10]||(o[10]=[Pe("i",{class:"fas fa-plus"},null,-1)]))])]),Pe("div",xu,[(Tn(!0),Hn(an,null,po(d.trackedCodes,(p,E)=>(Tn(),Hn("div",{key:E,class:"code-item"},[o[12]||(o[12]=Pe("i",{class:"fas fa-barcode"},null,-1)),sr(" "+jr(p),1)]))),128))])]),Pe("div",pu,[o[13]||(o[13]=Pe("div",{class:"card-header"},[Pe("h2",null,[Pe("i",{class:"fas fa-history"}),sr(" Lịch sử quét")])],-1)),Pe("div",wu,[(Tn(!0),Hn(an,null,po(d.scanHistory,(p,E)=>(Tn(),Hn("div",{key:E,class:or(["history-item",p.matched?"matched":"not-matched"])},[Pe("i",{class:or(p.matched?"fas fa-check":"fas fa-times")},null,2),Pe("span",Au,jr(p.code),1),Pe("span",Cu,jr(p.timestamp),1)],2))),128))])])])])])}const Eu=iu(su,[["render",mu]]);g0(Eu).mount("#app");
